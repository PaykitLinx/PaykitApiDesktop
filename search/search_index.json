{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Introdu\u00e7\u00e3o","text":""},{"location":"#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Essa \u00e9 a documenta\u00e7\u00e3o para ajudar voc\u00ea integrar a sua aplica\u00e7\u00e3o, Windows ou Linux com o Pay Kit da Linx.</p> <p>Para que isso seja poss\u00edvel, n\u00f3s disponibilizamos um SDK (Software Development Kit), multiplataforma, que possibilita pagamentos convencionais de cr\u00e9dito, d\u00e9bito, voucher, frota, PBM'S atrav\u00e9s da sua aplica\u00e7\u00e3o, e ainda realizar pagamentos com PIX, QR e Split de Pagamentos.</p> <p>O desenvolvimento da solu\u00e7\u00e3o constitui um conjunto de servi\u00e7os e componentes para uma solu\u00e7\u00e3o completa de pagamento.</p> <p>O Pay Kit \u00e9 constru\u00eddo em C++ \u00e9 nativo Windows, mas para atender parceiros que utilizam Linux, temos uma solu\u00e7\u00e3o multiplataforma.</p> <p>Para entender a nossa documenta\u00e7\u00e3o, aqui est\u00e3o a defini\u00e7\u00e3o dos par\u00e2metros de fun\u00e7\u00f5es e campos de registros</p>"},{"location":"#windows-linux","title":"Windows &amp; Linux","text":"<p>Uma das formas de integra\u00e7\u00e3o da automa\u00e7\u00e3o comercial com o TEF da Linx \u00e9 por meio de biblioteca de fun\u00e7\u00f5es (DPOSDRV.DLL para Windows ou libDPOSDRV.so para Linux). Esta biblioteca oferece fun\u00e7\u00f5es que a automa\u00e7\u00e3o utiliza, enviando par\u00e2metros da automa\u00e7\u00e3o e retornando os resultados na pr\u00f3pria chamada dessas fun\u00e7\u00f5es. As fun\u00e7\u00f5es dispon\u00edveis na vers\u00e3o Linux s\u00e3o equivalentes \u00e0s da vers\u00e3o Windows e a orienta\u00e7\u00e3o \u00e9 que em ambos os sistemas operacionais  a automa\u00e7\u00e3o carregue nossa biblioteca utilizando o path do sistema operacional (exceto no modelo embarcado).  Na se\u00e7\u00e3o \u201cEXEMPLOS DE INTEGRA\u00c7\u00c3O\u201d s\u00e3o apresentadas formas de integra\u00e7\u00e3o em diversas linguagens de programa\u00e7\u00e3o.</p> <p>As fun\u00e7\u00f5es da biblioteca s\u00e3o exportadas conforme diretiva de callback, o que a torna poss\u00edvel de ser utilizada por sistemas desenvolvidos em qualquer linguagem ou ambiente de programa\u00e7\u00e3o, como Delphi, Visual Basic e Visual C++, entre outros.</p> <p>Recomenda\u00e7\u00e3o: a DPOSDRV preferencialmente deve ser carregada no startup da AC e somente descarregada ao finalizar a Automa\u00e7\u00e3o Comercial a fim de melhorar a performance do sistema.</p>"},{"location":"#embarcado-windows-e-linux","title":"Embarcado (Windows e Linux)","text":"<p>No modelo de utiliza\u00e7\u00e3o do Paykit embarcado, o processo de instala\u00e7\u00e3o bem como atualiza\u00e7\u00e3o de vers\u00e3o do Paykit \u00e9 de responsabilidade da automa\u00e7\u00e3o que est\u00e1 levando consigo o client, logo os m\u00e9todos de Configura CNPJ Estabelecimento, Configura Empresa Loja e PDV, Configura Comunica\u00e7\u00e3o TEF e Busca do Certificado s\u00e3o de implementa\u00e7\u00e3o obrigat\u00f3ria da automa\u00e7\u00e3o, pois, \u00e9 atrav\u00e9s desses m\u00e9todos que a configura\u00e7\u00e3o da instala\u00e7\u00e3o do client ser\u00e1 feita.</p> <p>Nesse tipo de instala\u00e7\u00e3o, a automa\u00e7\u00e3o ter\u00e1 a disposi\u00e7\u00e3o 2 pacotes compactados, sendo eles: (1) <code>ClientLinxTEF_&lt;VERS\u00c3O&gt;_&lt;ARCH&gt;.zip</code> e (2) <code>Qt_Files_ClientLinxTEF_&lt;VERS\u00c3O&gt;_&lt;ARCH&gt;.zip</code>, que s\u00e3o respectivamente o Paykit em si e a interface gr\u00e1fica \u00e0 qual fica crit\u00e9rio da automa\u00e7\u00e3o utilizar ou n\u00e3o nossas interfaces de comunica\u00e7\u00e3o com o usu\u00e1rio. Al\u00e9m do pacote, tamb\u00e9m ser\u00e1 disponibilizado um arquivo de configura\u00e7\u00e3o (<code>dposlocal.ini</code>) com algumas informa\u00e7\u00f5es que dever\u00e3o ser alteradas conforme orienta\u00e7\u00e3o abaixo.</p>"},{"location":"#processo-de-instalacao-paykit-embarcado","title":"Processo de Instala\u00e7\u00e3o Paykit Embarcado","text":""},{"location":"#paykit","title":"Paykit","text":"<p>Para instalar o pacote <code>ClientLinxTEF_&lt;VERS\u00c3O&gt;_&lt;ARCH&gt;.zip</code> o mesmo deve ser descompactado em qualquer pasta do sistema operacional do PDV e sua estrutura de pastas deve ser preservada. O arquivo <code>dposlocal.ini</code> caso disponibilizado de forma separada, deve ser inserido dentro da pasta <code>bin</code> do local descompactado. Alguns conte\u00fados das chaves do arquivo <code>ini</code> estar\u00e3o com o conte\u00fado <code>{app}</code> e nesse caso essa informa\u00e7\u00e3o deve ser substitu\u00edda para o path \u00e0 qual foi descompactado o arquivo <code>.zip</code>.</p> <p>Exemplo:</p> <ol> <li> <p>Uma vez descompactado o <code>ClientLinxTEF_&lt;VERS\u00c3O&gt;_&lt;ARCH&gt;.zip</code> no path <code>C:\\Users\\Linx\\Downloads\\Paykit</code>.</p> </li> <li> <p>A chave <code>DIRETORIOBASE={app}\\bin</code> ser\u00e1 alterada.</p> </li> <li> <p>Novo valor: <code>DIRETORIOBASE=C:\\Users\\Linx\\Downloads\\Paykit\\bin</code></p> </li> </ol> <p>A utiliza\u00e7\u00e3o do <code>dposlocal.ini</code> caracteriza uma instala\u00e7\u00e3o embarcada, logo n\u00e3o deve haver nenhum outro arquivo de configura\u00e7\u00e3o no PDV para n\u00e3o gerar conflitos.</p> <p>ATEN\u00c7\u00c3O!!</p> <p>O arquivo <code>dposlocal.ini</code> se localiza na pasta <code>bin</code>, logo, numa eventual atualiza\u00e7\u00e3o das bibliotecas do Paykit, somente os arquivos disponibilizados (arquivo.dll, arquivo.so, etc) devem ser substitu\u00eddos para que a configura\u00e7\u00e3o n\u00e3o se perca em um procedimento de atualiza\u00e7\u00e3o.</p>"},{"location":"#interface-grafica","title":"Interface Gr\u00e1fica","text":"<p>O pacote de interface gr\u00e1fica \u00e9 opcional e somente necessita ser utilizado nos casos onde a automa\u00e7\u00e3o opta por utilizar as pr\u00f3prias telas do Paykit para interfaceamento com o usu\u00e1rio. Para a utiliza\u00e7\u00e3o do pacote <code>Qt_Files_ClientLinxTEF_&lt;VERS\u00c3O&gt;_&lt;ARCH&gt;.zip</code> basta descompacta-lo em qualquer lugar do PDV (preferencialmente na pasta <code>bin</code> c\u00edtada no t\u00f3pico anterior), configurar a vari\u00e1vel de PATH do sistema para a pasta <code>bin</code> do Paykit e alterar no <code>dposlocal.ini</code> a se\u00e7\u00e3o/chave <code>[CONFIG] QTDIRETORIOBASE=</code> para o respectivo diret\u00f3rio onde foi descompactado o pacote.</p> <p>Exemplo: <pre><code>[CONFIG]\nQTDIRETORIOBASE=C:\\Users\\Linx\\Downloads\\Paykit\\bin\\QTApplication\n</code></pre></p>"},{"location":"#coleta-de-logs","title":"Coleta de logs","text":"<p>A coleta de logs no caso do client embarcado tem que ser feito de forma manual e pode ser feito pela pr\u00f3pria automa\u00e7\u00e3o ou suporte Linx. Os arquivos de logs que s\u00e3o gerados pelo Paykit s\u00e3o salvos no path configurado na se\u00e7\u00e3o/chave <code>[CONFIG]INTERNO</code> configurada no <code>dposlocal.ini</code>. Caso os path n\u00e3o tenham sido customizados pela automa\u00e7\u00e3o os arquivos por padr\u00e3o ser\u00e3o encontrados em: <code>&lt;PATH_DESCOMPACTA\u00c7\u00c3O_PAYKIT&gt;/Interno</code>, e s\u00e3o caracterizados pelos artefatos com a extens\u00e3o <code>.dbg</code>, <code>.LOG</code> e <code>.err</code>.</p>"},{"location":"#convencoes-utilizadas-neste-manual","title":"Conven\u00e7\u00f5es utilizadas neste Manual","text":"<p>A descri\u00e7\u00e3o dos par\u00e2metros de fun\u00e7\u00f5es e campos de registros apresentados neste manual segue a conven\u00e7\u00e3o da tabela a seguir.</p> # Descri\u00e7\u00e3o Observa\u00e7\u00e3o <code>A</code> campo alfanum\u00e9rico completado com espa\u00e7os \u00e0 direita e preenchidocom espa\u00e7os, quando n\u00e3o informado <code>H</code> campo hexadecimal campo bin\u00e1rio <code>N</code> campo num\u00e9rico completado com zeros \u00e0 esquerda e preenchidocom zeros, quando n\u00e3o informado <code>I</code> valor inteiro retorno ou par\u00e2metro de fun\u00e7\u00e3o de valor inteiro (integer ) <code>P</code> ponteiro para caracter ponteiro para um array de caracteres (PChar) como par\u00e2metro de fun\u00e7\u00e3o"},{"location":"pages/ComunicacaoClientTEFComAC/","title":"Comunica\u00e7\u00e3o Client TEF com AC","text":""},{"location":"pages/ComunicacaoClientTEFComAC/#comunicacao-client-tef-com-o-sistema-de-automacao","title":"Comunica\u00e7\u00e3o Client TEF com o Sistema de Automa\u00e7\u00e3o","text":"<p>A comunica\u00e7\u00e3o entre o sistema TEF Linx e o sistema de automa\u00e7\u00e3o \u00e9 feita atrav\u00e9s de chamadas a fun\u00e7\u00f5es da DLL (DPOSDRV.DLL), com a passagem de par\u00e2metros e posterior retorno de status.</p> <p>As solicita\u00e7\u00f5es de transa\u00e7\u00f5es com as institui\u00e7\u00f5es financeiras s\u00e3o realizadas atrav\u00e9s de transa\u00e7\u00f5es financeiras (TF) ou transa\u00e7\u00f5es de servi\u00e7os (TS) e as solicita\u00e7\u00f5es de procedimentos operacionais s\u00e3o realizadas atrav\u00e9s de transa\u00e7\u00f5es operacionais (TO).</p>"},{"location":"pages/ComunicacaoClientTEFComAC/#transacoes-financeiras","title":"Transa\u00e7\u00f5es Financeiras","text":"<p>TransacaoCartaoCredito</p> <p>TransacaoCartaoCreditoCompleta</p> <p>ConfirmaCartaoCredito</p> <p>TransacaoCartaoDebito</p> <p>TransacaoCartaoDebitoCompleta</p> <p>ConfirmaCartaoDebito</p> <p>TransacaoCartaoVoucher</p> <p>TransacaoCartaoVoucherCompleta</p> <p>ConfirmaCartaoVoucher</p> <p>FinalizaTransacao</p> <p>TransacaoCartaoFidelidade</p> <p>ConfirmaCartaoFidelidade</p> <p>TransacaoCheque</p> <p>TransacaoChequeCompleta</p> <p>TransacaoCartaoCrediario</p> <p>TransacaoCartaoCrediarioCompleta</p>"},{"location":"pages/ComunicacaoClientTEFComAC/#transacoes-de-servicos","title":"Transa\u00e7\u00f5es de Servi\u00e7os","text":"<p>TransacaoPreAutorizacaoCartaoCredito</p> <p>TransacaoCancelamentoPagamento</p> <p>TransacaoResumoVendas</p> <p>TransacaoConsultaParcelas</p> <p>TransacaoReimpressaoCupom</p> <p>TransacaoEstatistica</p> <p>TransacaoTrocoSurpresa</p> <p>TransacaoInjecaoChaves</p>"},{"location":"pages/ComunicacaoClientTEFComAC/#transacoes-operacionais","title":"Transa\u00e7\u00f5es Operacionais","text":"<p>ObtemLogUltimaTransacao</p> <p>InicializaDPOS</p> <p>FinalizaDPOS</p> <p>ConfiguraDPOS</p>"},{"location":"pages/ComunicacaoClientTEFComAC/#resposta-das-funcoes","title":"Resposta das Fun\u00e7\u00f5es","text":"<p>As fun\u00e7\u00f5es TransacaoCartaoCredito, TransacaoCartaoDebito, TransacaoCartaoVoucher, TransacaoCartaoCrediario e TransacaoCheque s\u00e3o utilizadas pelo sistema de automa\u00e7\u00e3o para solicitar ao sistema TEF Linx a realiza\u00e7\u00e3o de transa\u00e7\u00e3o de pagamento com cart\u00e3o de cr\u00e9dito, pagamento com cart\u00e3o de d\u00e9bito, pagamento com cart\u00e3o Voucher, pagamento em credi\u00e1rio e consulta de cheque, respectivamente.</p> <p>As fun\u00e7\u00f5es TransacaoCartaoCreditoCompleta, TransacaoCartaoDebitoCompleta, TransacaoCartaoVoucherCompleta, TransacaoChequeCompleta, TransacaoCartaoCrediarioCompleta possuem a mesma funcionalidade das fun\u00e7\u00f5es correspondentes n\u00e3o completas, mas oferecem par\u00e2metros adicionais para maior controle das opera\u00e7\u00f5es e informa\u00e7\u00f5es de retorno mais detalhadas.</p> <p>As fun\u00e7\u00f5es ConfirmaCartaoCredito, ConfirmaCartaoDebito e ConfirmaCart\u00e3oVoucher s\u00e3o utilizadas pelo sistema de automa\u00e7\u00e3o para indicar ao sistema TEF Linx quais transa\u00e7\u00f5es financeiras foram efetivadas na opera\u00e7\u00e3o de venda ou de recebimento. Estas fun\u00e7\u00f5es devem ser executadas ap\u00f3s a impress\u00e3o do comprovante de TEF disponibilizado no retorno da solicita\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema TEF Linx devolver\u00e1 ao sistema de automa\u00e7\u00e3o o resultado da transa\u00e7\u00e3o de confirma\u00e7\u00e3o.</p> <p>A fun\u00e7\u00e3o FinalizaTransacao, executada ap\u00f3s as fun\u00e7\u00f5es de confirma\u00e7\u00e3o, \u00e9 utilizada pelo sistema de automa\u00e7\u00e3o para indicar ao sistema TEF Linx o t\u00e9rmino da transa\u00e7\u00e3o de venda ou recebimento.</p> <p>A fun\u00e7\u00e3o TransacaoReimpressaoCupom n\u00e3o necessita de confirma\u00e7\u00e3o. As fun\u00e7\u00f5es TransacaoCheque, TransacaoChequeCompleta n\u00e3o necessitam de confirma\u00e7\u00e3o quando n\u00e3o houver cupom para impress\u00e3o.</p> <p>A fun\u00e7\u00e3o ObtemLogUltimaTransacao retorna o registro de log referente \u00e0 \u00faltima transa\u00e7\u00e3o efetuada com sucesso. Nesta fun\u00e7\u00e3o, caso seja necess\u00e1rio, poder\u00e1 ser passado como par\u00e2metro o valor \u201cLOGESTENDIDO\u201d ou \"LOGADICIONAL\" e ser\u00e3o retornadas informa\u00e7\u00f5es complementares da transa\u00e7\u00e3o. Deve-se analisar a estrutura dos respectivos registros para verificar os campos que s\u00e3o retornados em cada um deles. O formato do registro \u00e9 o LOG ESTENDIDO ou LOG ADICIONAL.</p> <p>A fun\u00e7\u00e3o InicializaDPOS deve ser executada em cada abertura de dia de movimento (dia fiscal), servindo para indicar \u00e0 DLL do sistema TEF Linx que os processos de inicializa\u00e7\u00e3o de dia devem ser realizados.</p> <p>Caso a DLL do sistema TEF Linx venha a ser REINICIADA, por qualquer motivo, ser\u00e3o executados processos internos de recupera\u00e7\u00e3o de falhas.</p> <p>A fun\u00e7\u00e3o FinalizaDPOS deve ser executada em cada fechamento de dia de movimento (dia fiscal), servindo para indicar \u00e0 DLL do sistema TEF Linx que os processos de finaliza\u00e7\u00e3o de dia devem ser realizados.</p>"},{"location":"pages/Download/","title":"Download","text":""},{"location":"pages/Download/#download-instalador-e-release-notes","title":"Download Instalador e Release Notes","text":"<p>Caso seja a primeira vez que voc\u00ea instala o Paykit, \u00e9 necess\u00e1rio instalar nosso runtime antes. Clique aqui para fazer o download. Uma vez instalado n\u00e3o \u00e9 necess\u00e1rio reinstala-lo em futuras atualiza\u00e7\u00f5es do paykit.</p> <p>Para download dos \u00faltimos instaladores do paykit clique aqui</p> <p>Para verificar o release notes das vers\u00f5es do paykit clique aqui</p>"},{"location":"pages/ExemploIntegracaoFuncoes/","title":"Exemplo para Integra\u00e7\u00e3o por Fun\u00e7\u00f5es","text":""},{"location":"pages/ExemploIntegracaoFuncoes/#fluxo-de-exemplo-de-integracao-por-funcoes","title":"Fluxo de Exemplo de Integra\u00e7\u00e3o por Fun\u00e7\u00f5es","text":"<p>Utilizando-se uma opera\u00e7\u00e3o de venda como exemplo, a intera\u00e7\u00e3o entre a automa\u00e7\u00e3o comercial e o sistema TEF Linx acontecer\u00e1 da seguinte forma:</p> SOFTWARE AUTOMA\u00c7\u00c3O COMERCIAL SOFTWARE LINX ATIVO NA TELA DESATIVADO Abre o dia do movimento Inicializa a DLL do sistema TEF-Linx O sistema TEF Linx realiza os procedimentos de abertura de dia e confirma a transa\u00e7\u00e3o com o sistema de automa\u00e7\u00e3o Inicia a opera\u00e7\u00e3o de venda Registra os produtos ou servi\u00e7os adquiridos Totaliza a opera\u00e7\u00e3o de venda ... Seleciona forma de pagamento com TEF e solicita transa\u00e7\u00e3o TEF para o sistema TEF Linx ATIVO EM BACKGROUND ATIVO NA TELA Interpreta os par\u00e2metros recebidos Coleta as informa\u00e7\u00f5es necess\u00e1rias Submete a transa\u00e7\u00e3o \u00e0 institui\u00e7\u00e3o financeira Recebe resposta da institui\u00e7\u00e3o financeira Cria o arquivo NNNNN.PDV, e opcionalmente o arquivo RNNNNNN.PDV, contendo a imagem do boleto a ser impresso e a imagem reduzida, respectivamente Retorna as informa\u00e7\u00f5es da resposta da transa\u00e7\u00e3o para a automa\u00e7\u00e3o comercial DESATIVADO ATIVO NA TELA ... Imprimir o comprovante reduzido na mensagem promocional do cupom fiscal (se existir) Encerra a opera\u00e7\u00e3o de venda Confirma a transa\u00e7\u00e3o do comprovante reduzido impresso (se for o caso) Imprime os documentos envolvidos Elimina, obrigatoriamente, o(s) arquivo(s) NNNNNN.PDV e o RNNNNNN.PDV. Confirma a(s) transa\u00e7\u00e3o(\u00f5es) com o TEF Linx O sistema de automa\u00e7\u00e3o finaliza a(s) transa\u00e7\u00e3o(\u00f5es) com o TEF Linx Confirma com a institui\u00e7\u00e3o financeira a(s) transa\u00e7\u00e3o(\u00f5es) confirmadas pela automa\u00e7\u00e3o e desfaz a(s) restantes O sistema TEF Linx finaliza a(s) transa\u00e7\u00e3o(\u00f5es) com o sistema de automa\u00e7\u00e3o O sistema de automa\u00e7\u00e3o reconhece a finaliza\u00e7\u00e3o e prepara o in\u00edcio de outra venda ... O sistema de automa\u00e7\u00e3o finaliza a DLL do sistema TEF Linx O sistema TEF Linx realiza os procedimentos de fechamento de dia e confirma a transa\u00e7\u00e3o com o sistema de automa\u00e7\u00e3o O sistema de automa\u00e7\u00e3o fecha o dia de movimento"},{"location":"pages/FAQ/","title":"FAQ","text":""},{"location":"pages/FAQ/#perguntas-frequentes-e-respostas","title":"Perguntas Frequentes e Respostas","text":"<p>Abaixo voc\u00ea pode encontrar uma lista das perguntas mais comuns realizadas ao nosso time de homologa\u00e7\u00e3o.</p>"},{"location":"pages/FAQ/#1-esta-apresentando-erro-ao-baixar-certificado","title":"1. Est\u00e1 apresentando erro ao baixar certificado.","text":"<p>Executar a aplica\u00e7\u00e3o ClientCertificado.exe como administrador e verificar se o endere\u00e7o est\u00e1 correto.</p> <p>https://tef.linxsaas.com.br/certificados/Gerenciador_Certificado.cgi</p>"},{"location":"pages/FAQ/#2-ao-tentar-efetuar-a-transacao-esta-retornando-a-mensagem-t19-loja-nao-cadastrada","title":"2. Ao tentar efetuar a transa\u00e7\u00e3o est\u00e1 retornando a mensagem T19-Loja n\u00e3o cadastrada.","text":"<p>Verificar configura\u00e7\u00e3o dos dados da Loja, Empresa, CNPJ e endere\u00e7o de comunica\u00e7\u00e3o com o Linx TEF que devem estar de acordo com os dados passados informados na libera\u00e7\u00e3o do ambiente.</p>"},{"location":"pages/FAQ/#3-quais-transacoes-devo-desenvolver","title":"3. Quais transa\u00e7\u00f5es devo desenvolver?","text":"<p>As transa\u00e7\u00f5es b\u00e1sicas s\u00e3o Cr\u00e9dito, D\u00e9bito, Cancelamento e Reimpress\u00e3o. As demais devem ser avaliadas de acordo com os estabelecimentos que atendem,</p>"},{"location":"pages/FAQ/#4-podemos-efetuar-transacoes-digitadas","title":"4. Podemos efetuar transa\u00e7\u00f5es digitadas?","text":"<p>Somente as transa\u00e7\u00f5es de Cr\u00e9dito podem ser digitadas para as transa\u00e7\u00f5es de D\u00e9bito, Voucher ou Frota h\u00e1 necessidade de pin pad.</p>"},{"location":"pages/FAQ/#5-a-aplicacao-esta-apresentando-erro-ao-chamar-as-funcoes-tef","title":"5. A aplica\u00e7\u00e3o est\u00e1 apresentando erro ao chamar as fun\u00e7\u00f5es TEF","text":"<p>Verificar se existe o arquivo DPOSDRV.dll em outro local na m\u00e1quina que n\u00e3o seja no diret\u00f3rio BIN do client Paykit. Se houver ela deve ser deletada.</p>"},{"location":"pages/FAQ/#6-o-cartao-que-possuo-nao-esta-passando","title":"6. O cart\u00e3o que possuo n\u00e3o est\u00e1 passando","text":"<p>Tentar com outro cart\u00e3o e se ainda houver problemas entrar em contato para alteramos a inicializa\u00e7\u00e3o do simulador.</p>"},{"location":"pages/FAQ/#7-o-cupom-tef-nao-esta-sendo-gravado","title":"7. O cupom TEF n\u00e3o est\u00e1 sendo gravado.","text":"<p>Verificar se est\u00e1 efetuando a confirma\u00e7\u00e3o e finaliza\u00e7\u00e3o da transa\u00e7\u00e3o antes de capturar o cupom para impress\u00e3o.</p>"},{"location":"pages/FAQ/#8-as-funcoes-inicializapos-e-finalizapos-devem-ser-executadas","title":"8. As fun\u00e7\u00f5es InicializaPOS e FinalizaPOS devem ser executadas?","text":"<p>Sim, elas devem ser executadas sempre ao abrir e fechar a aplica\u00e7\u00e3o do PDV. Essas fun\u00e7\u00f5es n\u00e3o tem rela\u00e7\u00e3o com abertura ou fechamento de caixa, seria uma abertura de terminal.</p>"},{"location":"pages/FAQ/#9-como-sabemos-que-a-transacao-foi-aprovada-ou-negada","title":"9. Como sabemos que a transa\u00e7\u00e3o foi aprovada ou negada?","text":"<p>A fun\u00e7\u00e3o ir\u00e1 retornar 11 para as transa\u00e7\u00f5es negadas e 00 para as transa\u00e7\u00f5es aprovadas retornando o cupom TEF para impress\u00e3o.</p>"},{"location":"pages/FAQ/#10-quando-a-confirmacao-da-transacao-tef-deve-ser-efetuada","title":"10. Quando a confirma\u00e7\u00e3o da transa\u00e7\u00e3o TEF deve ser efetuada?","text":"<p>A confirma\u00e7\u00e3o pode ser realizada assim que a mesma for aprovada, pode ser antes ou depois da emiss\u00e3o do documento fiscal, dependendo de como cada automa\u00e7\u00e3o trabalha. Se houver algum problema na impress\u00e3o a reimpress\u00e3o do cupom TEF pode ser efetuada.</p>"},{"location":"pages/FAQ/#11-a-transacao-de-cancelamento-esta-ficando-pendente","title":"11. A transa\u00e7\u00e3o de cancelamento est\u00e1 ficando pendente.","text":"<p>Verificar se a confirma\u00e7\u00e3o e finaliza\u00e7\u00e3o est\u00e3o sendo enviadas. Para essa transa\u00e7\u00e3o poder\u00e1 utilizar a ConfirmaCartaoCredito e FinalizaTransacao.</p>"},{"location":"pages/FAQ/#12-como-e-realizada-a-confirmacao-das-transacoes-de-multiplos-cartoes","title":"12. Como \u00e9 realizada a confirma\u00e7\u00e3o das transa\u00e7\u00f5es de m\u00faltiplos cart\u00f5es?","text":"<p>A automa\u00e7\u00e3o deve efetuar as transa\u00e7\u00f5es e somente ao final do pagamento deve enviar as confirma\u00e7\u00f5es e a finaliza\u00e7\u00e3o das mesmas. Exemplo:</p> <p>TransacaoCredito</p> <p>TransacaoCredito</p> <p>ConfirmaCartaoCredito</p> <p>ConfirmaCartaoCredito</p> <p>FinalizaTransacao</p>"},{"location":"pages/FAQ/#13-como-identificar-a-via-do-cliente-e-estabelecimento-para-efetuar-o-corte-do-cupom-na-impressora","title":"13. Como identificar a via do cliente e estabelecimento para efetuar o corte do cupom na impressora?","text":"<p>A \u00faltima linha do cupom TEF sempre vai ser a NSU Linx TEF ent\u00e3o quando a aplica\u00e7\u00e3o efetuar a leitura dessa linha saber\u00e1 que \u00e9 o final do comprovante e assim poder\u00e1 efetuar o corte.</p>"},{"location":"pages/FluxoConfirmacaoDesfazimento/","title":"Fluxo de confirma\u00e7\u00e3o e desfazimento","text":""},{"location":"pages/FluxoConfirmacaoDesfazimento/#fluxo-de-confirmacao-e-desfazimento","title":"Fluxo de confirma\u00e7\u00e3o e desfazimento","text":"<p>As fun\u00e7\u00f5es utilizadas no tratamento de confirma\u00e7\u00f5es e desfazimentos est\u00e3o documentadas na p\u00e1gina Confirma\u00e7\u00e3o e Desfazimento de Transa\u00e7\u00f5es.</p> <p>Abaixo s\u00e3o apresentados os passos de uma venda considerando a utiliza\u00e7\u00e3o do modo expl\u00edcito, utilizando a configura\u00e7\u00e3o documentada na p\u00e1gina Utiliza\u00e7\u00e3o Paykit:</p> AUTOMA\u00c7\u00c3O COMERCIAL TEF CLIENT (1) Automa\u00e7\u00e3o \u00e9 inicializado (1.1) Automa\u00e7\u00e3o verifica a vers\u00e3o do client atrav\u00e9s da fun\u00e7\u00e3o VersaoDPOS para certificar-se de que o client instalado possui a fun\u00e7\u00e3o ConfiguraModoDesfazimento (1.2) Se sim, automa\u00e7\u00e3o configura o modo de desfazimento para o modo expl\u00edcito atrav\u00e9s da fun\u00e7\u00e3o ConfiguraModoDesfazimento Inicializa o modo de desfazimento para o modo solicitado pelo automa\u00e7\u00e3o (1.3) Verifica se houve queda de energia e se tem transa\u00e7\u00f5es TEF pendentes da \u00faltima venda (1.4) Se sim, informa ao client atrav\u00e9s da fun\u00e7\u00e3o DefineParametroTransacao (par\u00e2metro 1021) a ocorr\u00eancia de queda de energia e realiza chamada \u00e0 fun\u00e7\u00e3o FinalizaTransacao (1.5) Se o AC indicar a ocorr\u00eancia de queda de energia, faz o desfazimento das transa\u00e7\u00f5es pendentes da \u00faltima venda (2) Inicia a venda ao consumidor final (3) Seleciona a forma de pagamento TEF (3.1) Faz chamada a fun\u00e7\u00e3o do TEF de acordo com o tipo da transa\u00e7\u00e3o selecionada(cr\u00e9dido, d\u00e9bito, voucher, frota, ...) (3.2) Executa a transa\u00e7\u00e3o de pagamento TEF (3.3) Se aprovada, retorna sucesso e o comprovante para o AC, sen\u00e3o retorna erro (4) Faz as devidas valida\u00e7\u00f5es e contabiliza o pagamento (4.1) Se o pagamento for parcial, volta para o passo (3) (4.2) Se o TEF n\u00e3o foi autorizado ou se foi autorizado mas houver alguma inconsist\u00eancia em rela\u00e7\u00e3o a solicita\u00e7\u00e3o, n\u00e3o contabiliza e volta para o passo (3) (5) No final da venda, ap\u00f3s realizar o pagamento do valor total, emite os comprovantes e solicita ao TEF a confirma\u00e7\u00e3o (fun\u00e7\u00e3o ConfirmaCartao) das transa\u00e7\u00f5es contabilizadas e o desfazimento (fun\u00e7\u00e3o DesfazCartao ) das transa\u00e7\u00f5es n\u00e3o contabilizadas (n\u00e3o confirmadas) (5.1) Realiza a confirma\u00e7\u00e3o das transa\u00e7\u00f5es solicitadas pelo automa\u00e7\u00e3o (5.2) Realiza o desfazimento das transa\u00e7\u00f5es solicitadas pelo automa\u00e7\u00e3o (6) Ap\u00f3s confirmar ou desfazer as transa\u00e7\u00f5es, finaliza a venda junto ao TEF atrav\u00e9s da fun\u00e7\u00e3o FinalizaTransacao Limpa a lista de transa\u00e7\u00f5es realizadas na venda (7) Volta para o passo (2)"},{"location":"pages/IntegracaoTerminalService/","title":"Integra\u00e7\u00e3o Terminal Service","text":""},{"location":"pages/IntegracaoTerminalService/#terminal-service-somente-windows","title":"Terminal Service (somente Windows)","text":"<p>Esse tipo de instala\u00e7\u00e3o visa atender clientes que necessitam trabalhar com o paykit de modo compartilhado, ou seja, uma \u00fanica m\u00e1quina f\u00edsica executando mais de um PDV, o que normalmente ocorre em m\u00e1quinas utilizadas em modo Terminal Service.</p> <p> </p> Diagrama de arquitetura"},{"location":"pages/IntegracaoTerminalService/#descricao-funcional","title":"Descri\u00e7\u00e3o Funcional","text":""},{"location":"pages/IntegracaoTerminalService/#componentes","title":"Componentes","text":"<p>Ao instalar o client em modo compartilhado, ser\u00e1 criada apenas uma instala\u00e7\u00e3o que ser\u00e1 utilizada por todos os pdvs ao mesmo tempo. Isso significa que todos os pdvs carregar\u00e3o o client do mesmo local e apenas os diret\u00f3rios e arquivos relativos exclusivamente a um pdv ser\u00e1 replicado para cada um dos pdvs.</p> <p>Para isso, al\u00e9m dos diret\u00f3rios padr\u00e3o ser\u00e1 criado um diret\u00f3rio chamado \u201cDadosAmbiente\u201d. Dentro desse diret\u00f3rio os dados estar\u00e3o organizados seguindo a estrutura \u201cEMP\\LOJA\\PDV. Dentro do diret\u00f3rio de dados de cada pdv ser\u00e3o encontrados os diret\u00f3rios Bin, Cupons e Interno com os dados relativos aquele pdv. <p>Dentro do diret\u00f3rio Bin ser\u00e3o encontrados os arquivos de tabelas bem como o arquivo de configura\u00e7\u00e3o clientdados.ini. J\u00e1 os comprovantes das transa\u00e7\u00f5es realizadas com aquele pdv ficar\u00e3o armazenados no diret\u00f3rio Cupons e os logs dentro do diret\u00f3rio Interno.</p> <p>Dentro da pasta Bin do diret\u00f3rio raiz de instala\u00e7\u00e3o do client ser\u00e1 criado o arquivo \u201cclientcomaprtilhado.cfg\u201d .Esse arquivo indica que essa \u00e9 uma instala\u00e7\u00e3o compartilhada e conter\u00e1 dados que ser\u00e3o utilizados para a configura\u00e7\u00e3o de cada um dos pdvs posteriormente e, portanto, n\u00e3o dever\u00e1 ser deletado.</p>"},{"location":"pages/IntegracaoTerminalService/#configuracao","title":"Configura\u00e7\u00e3o","text":"<p>Para cada um dos pdvs que ser\u00e3o utilizados simultaneamente, dever\u00e1 ser criado um usu\u00e1rio do windows correspondente, j\u00e1 que para que a instala\u00e7\u00e3o compartilhada funcione corretamente, cada usu\u00e1rio do windows s\u00f3 poder\u00e1 executar um pdv por vez. Para configurar um pdv para um usu\u00e1rio, a automa\u00e7\u00e3o dever\u00e1 carregar o m\u00f3dulo de integra\u00e7\u00e3o \u201cDPOSDRV.DLL\u201d e executar os seguintes m\u00e9todos:</p> <p>(1) EmpresaLojaPDV</p> <p>(2) CNPJEstabelecimento</p> <p>(3) BuscaCertificado</p> <p>(4) ConfiguraComunicacaoDTEF</p> <p>Caso o servidor TEF seja o mesmo utilizado na instala\u00e7\u00e3o inicial, a configura\u00e7\u00e3o estar\u00e1 conclu\u00edda. Caso seja necess\u00e1rio utilizar outro servidor TEF, o m\u00e9todo (4) ConfiguraComunicacaoDTEF dever\u00e1 ser executado.</p> <p>Ao final do procedimento, ser\u00e3o criados os diret\u00f3rios relativos a esse pdv dentro do diret\u00f3rio \u201cDadosAmbiente\u201d bem como o arquivo \u201cclientuser.ini\u201d dentro do diret\u00f3rio home daquele usu\u00e1rio.</p>"},{"location":"pages/IntegracaoTerminalService/#uso","title":"Uso","text":"<p>Ap\u00f3s a cria\u00e7\u00e3o dos usu\u00e1rios e a realiza\u00e7\u00e3o dos procedimentos de configura\u00e7\u00e3o, o client estar\u00e1 pronto para uso. Para isso, cada um dos usu\u00e1rios dever\u00e1 fazer login no servidor TS com as suas credenciais e executar a automa\u00e7\u00e3o normalmente. Cada inst\u00e2ncia da automa\u00e7\u00e3o dever\u00e1 carregar o m\u00f3dulo de integra\u00e7\u00e3o \u201cDPOSDRV.dll\u201d e iniciar o fluxo das transa\u00e7\u00f5es. O carregamento do m\u00f3dulo ficar\u00e1 atrelado ao processo e n\u00e3o ter\u00e1 impacto no fluxo dos outros usu\u00e1rios.</p> <p>Se durante a sess\u00e3o o usu\u00e1rio executar os m\u00e9todos de configura\u00e7\u00e3o para trocar os dados de loja/pdv utilizados, o arquivo de configura\u00e7\u00e3o ser\u00e1 atualizado e o client passar\u00e1 a salvar os dados das transa\u00e7\u00f5es nos diret\u00f3rios relativos a nova loja/pdv configurada.</p>"},{"location":"pages/IntegracaoTerminalService/#aplicacoes-afetadas","title":"Aplica\u00e7\u00f5es afetadas","text":"<p>Al\u00e9m do client, a ferramenta de configura\u00e7\u00e3o (DPOSConfig) foi atualizada e est\u00e1 preparada para ser utilizada com a instala\u00e7\u00e3o compartilhada. Ao configurar um pdv utilizando o DPOSConfig, o mesmo fluxo de configura\u00e7\u00e3o ser\u00e1 executado, com a cria\u00e7\u00e3o dos mesmos diret\u00f3rios e arquivos de configura\u00e7\u00e3o realizados na configura\u00e7\u00e3o atrav\u00e9s dos m\u00e9todos dispon\u00edveis na \u201cDPOSDRV.DLL\u201d.</p>"},{"location":"pages/IntegracaoTerminalService/#pre-requisitos","title":"Pr\u00e9-requisitos","text":"<p>Para que a automa\u00e7\u00e3o (AC) consiga integrar com o client TEF no formato compartilhado \u00e9 necess\u00e1rio seguir alguns requisitos t\u00e9cnicos.</p> <ol> <li>A feature do Client Compartilhado foi desenvolvida para aplica\u00e7\u00f5es Windows, por isso a automa\u00e7\u00e3o necessita ser Windows e tamb\u00e9m precisa ser x32 bits.</li> <li>Deve conter apenas um tipo de instala\u00e7\u00e3o do client Linx na m\u00e1quina host, ou seja, se houver algum client instalado previamente, ser\u00e1 necess\u00e1rio desinstalar a aplica\u00e7\u00e3o e apagar o arquivo de configura\u00e7\u00e3o dpos.ini. (O processo de desinstala\u00e7\u00e3o est\u00e1 automatizado no instalador da vers\u00e3o, por\u00e9m a dele\u00e7\u00e3o dos arquivos de configura\u00e7\u00e3o em vers\u00f5es anteriores deve ser feita manualmente).</li> <li>A automa\u00e7\u00e3o deve trabalhar com a configura\u00e7\u00e3o de 1 PDV por Usu\u00e1rio, ou seja, cada usu\u00e1rio do WINDOWS s\u00f3 poder\u00e1 ter 1 PDV ativo por vez.</li> <li> <p>A automa\u00e7\u00e3o deve ter os dados de conex\u00e3o e vinculo do PDV com o TEF da Linx previamente, pois, a configura\u00e7\u00e3o do PDV \u00e9 de total responsabilidade da automa\u00e7\u00e3o e deve ser feito via consumo dos m\u00e9todos disponibilizados na DPOSDRV.dll   <ol> <li>Na implanta\u00e7\u00e3o, o PDV a ser implantado ser\u00e1 configurado pelo instalador de implanta\u00e7\u00e3o, essa \u00e9 a exce\u00e7\u00e3o a regra anterior.</li> </ol></p> </li> <li> <p>Obrigat\u00f3rio a implementa\u00e7\u00e3o dos m\u00e9todos: (1) EmpresaLojaPDV, (2) CNPJEstabelecimento, (3) BuscaCertificado,  (4) ConfiguraComunicacaoDTEF.</p> </li> <li>Na configura\u00e7\u00e3o da comunica\u00e7\u00e3o do remote desktop, deve estar habilitado o mapeamento as portas seriais locais, como segue no print abaixo:</li> </ol> <p> </p> Configura\u00e7\u00e3o da comunica\u00e7\u00e3o do remote desktop"},{"location":"pages/Apendice/","title":"Apendice","text":""},{"location":"pages/Apendice/#apendice","title":"Apendice","text":"<p>Essa se\u00e7\u00e3o descreve itens complementares \u00e0 documenta\u00e7\u00e3o, bem como fornece informa\u00e7\u00f5es uteis para  utiliza\u00e7\u00e3o da automa\u00e7\u00e3o com nosso paykit. Aqui voc\u00ea encontrar\u00e1 o mapa de terminais homologados,  contatos, informa\u00e7\u00f5es sobre c\u00f3digos de operadoras, bandeiras e redes retornadas pelo nosso TEF bem  como a documenta\u00e7\u00e3o antiga para consulta.</p>"},{"location":"pages/Apendice/Bandeiras/","title":"Bandeiras","text":""},{"location":"pages/Apendice/Bandeiras/#codigo-das-bandeiras-do-tef-linx","title":"C\u00f3digo das bandeiras do TEF Linx","text":"<p>Nesta p\u00e1gina est\u00e1 descrito os c\u00f3digos das bandeiras utilizadas no TEF Linx.</p> C\u00f3digo Nome 0001 Visa 0002 Mastercard 0003 American Express 0004 Alelo 0005 Hipercard 0006 Diners 0007 Fininvest 0008 JCB 0009 Aura 0010 Sodexo 0011 Goodcard 0012 Sorocred 0013 Cardban 0014 Policard 0015 Cabal 0016 Ticket 0017 Dacasa 0018 TIPCard 0019 Banescard 0020 OneCard 0021 Banricompras 0022 Banese 0023 Elo 0024 Banricard 0025 Sicredi 0026 CooperCard 0027 Brasil Conv\u00eanios 0028 Fan Card 0029 Senff 0030 Graalcard 0031 PortalCard 0032 ValeCard 0033 SMC 0034 Cred-System Mais 0035 Verocheque 0036 Bonus CBA 0037 Sapore 0038 Bancred Card 0039 Elo Voucher 0040 Planvale 0041 Banquet 0042 Planinvesti 0043 Praticard 0044 Unik 0045 Verde Card 0046 BRCard 0047 PLENOCard 0048 Redeclass 0049 Basecard 0050 Calcard 0051 Minascred 0052 FlashCard 0053 Simcred 0054 Credipar 0055 Agiplan 0056 Auto Expresso 0057 Zaffari 0058 Gax 0059 Avenida 0060 Qualidade 0061 PersonalCard 0062 CentralCard 0063 GreenCard 0064 Nutricash 0065 GlobalCard 0066 Simers 0067 DMCard 0068 UseCred 0069 Borba Card 0070 NelyCard 0071 CrediShop 0072 Comprocard 0073 Cobal 0074 Esplanada 0075 Credz 0076 AzulCard 0077 Globocard 0078 Banpara 0079 FortBrasil 0080 Softway 0081 Tricard 0082 ECX Card 0083 BrasilCard 0084 Credialimenta\u00e7\u00e3o 0085 Redemed 0086 Nutricard 0087 Discover 0088 Nalin 0089 MoveisCard 0090 Gyn Card 0091 Giracard 0092 Aceito 0093 Avista 0094 Ciclum 0095 Libercard 0096 Aesp 0097 Super Beal 0098 BNB Club 0099 Rodobens 0100 Mettacard 0101 Condor Card 0102 Vale Mais 0103 VR 0104 Queiroz Premium 0105 CPF 0106 Novo Card 0107 SinTram 0108 BigCard 0109 Ascard 0110 Kalicard 0111 Hiper 0112 Private 0113 Sysdata 0114 GoiasCard 0115 Sollus 0116 Grand Card 0117 Control Life 0118 Gold X 0119 Sued Card 0120 Sj Card 0121 ABC Cart\u00f5es 0122 Biq 0123 Obo\u00e9 Card 0124 Redecompras 0125 Sodexo HP 0126 Regicred 0127 Credshirmer 0128 GFCard 0129 PagCard 0130 RedeUze 0131 StepCard 0132 KalicardConvenios 0133 Ecopag 0134 Accredito 0135 Biz 0136 Lagoa Cred 0137 Expansiva 0138 Abrapetite 0139 Credpar 0140 CTF-BR 0141 Redecon 0142 FitCard 0143 WIZEO 0144 Ticket Log 0145 Credinova 0146 MaxisCard 0147 VegasCard 0148 Util Card 0149 PGCard 0150 MGCard 0151 Bracov 0152 LE CARD 0153 Paracatu Card 0154 FOX 0155 Vecell 0156 Alelo Flex Card 0157 Neus 0158 Starkcard 0159 FacilCard 0160 SafeCard 0161 South America 0162 RotaCard 0163 PagSimples 0164 FlexFrota 0165 FleetCard 0166 Epay Gift 0167 TecBiz 0168 Cooperativa Global 0169 Iti 0170 AddmealConvenio 0171 AudaxConvenio 0172 AutemcardConvenio 0173 CredtodosPrivate 0174 CroscardConvenio 0175 Drogabella 0176 Flexocard 0177 Kredilig 0178 LivreConvenio 0179 LivrePrivate 0180 ProcardConvenio 0181 ProcardPrivate 0182 RomCard 0183 Simec 0184 Eucard 0185 NGV 0186 Maxxvan 0187 BEN 0188 CabalVoucher 0189 TruckPag 0190 Mercado Pago 0191 GoldiCard 0192 CTF 0193 RealCard 0194 BraxCard 0195 Servir Card 0196 Ame Digital 0197 Samsung 0198 Valeshop 0199 SQCF 0200 Amplacard 0201 PicPay 0202 Conta Linx 0203 Convenios Card 0204 Symac Card 0205 Multimais 0206 Rede Farmes 0207 BANQI 0208 Ifood 0209 Ipiranga 0210 Magalu 0211 Merci 0212 Pagbank 0213 Rappi 0214 SafraPay 0215 System Farma 0216 Elo Beneficio 0217 Plus Frota 0218 Trio Card 0219 EuroKartensysteme 0220 Supcard 0221 Pix 0222 Festcard 0223 Pitcard 0224 Sigacred 0226 Omni 0227 Asmube Cash 0228 FlexiCard 0229 FlamCard 0230 008Cards 0231 Emanuelle PE 0232 Taco 0233 Cartao Bem Barato 0234 Algorix 0235 SiapCard 0236 Coopelife 0237 MGCard 0238 Boa Convenios 0239 Ascipam 0240 CredFacil 0241 QCard 0242 UpCard 0243 Multvale 0244 Trustcard 0245 Obencard 0246 Confarma 0247 Moreira Card 0248 Accords Cards 0249 Bn Card 0250 B4 Card 0251 BoldCard 0252 Ser Card 0253 Farma Brito 0254 Go Card 0255 Kbank 0256 Kinfuku 0257 Le Card S.A. 0258 Martins Card 0259 Mercantil Card 0260 Mury Cart\u00f5es 0261 RV Cards 0262 Sert\u00e3o Card 0263 Usacard 0264 WebCard 0265 SoftCard 0266 FacilPraPagar 0267 Esposende 0268 Solucard 0269 SysproCard 0270 Soma 0271 Frigelar 0272 RegiCred 0273 IziCartoes 0274 BaneseVoucher 0275 Vuon Card 0276 Credmil 0277 Volus 0278 VsPay 0279 Just 0280 KPI 0281 DiFabrica Cards"},{"location":"pages/Apendice/Contatos/","title":"Contatos","text":""},{"location":"pages/Apendice/Contatos/#contatos","title":"Contatos","text":"<p>Se estiver em processo de desenvolvimento, j\u00e1 tiver o ambiente de testes liberado e suas d\u00favidas forem relacionadas \u00e0 integra\u00e7\u00e3o, pode consultar nossa FAQ clicando aqui ou entrar em contato com o e-mail  homologacao_payhub@linx.com.br, informando o CNPJ de cadastro liberado.</p>"},{"location":"pages/Apendice/ExemplosDeCodigo/","title":"Exemplos de c\u00f3digo","text":""},{"location":"pages/Apendice/ExemplosDeCodigo/#exemplos-de-codigo","title":"Exemplos de c\u00f3digo","text":"<p>Para acessar os exemplos de integra\u00e7\u00e3o disponiveis acesse nosso Github aqui!</p>"},{"location":"pages/Apendice/HistoricoDeRevisao/","title":"Historico de revis\u00e3o","text":""},{"location":"pages/Apendice/HistoricoDeRevisao/#historico-de-revisao","title":"Historico de revis\u00e3o","text":"<p>Historico de revis\u00e3o das informa\u00e7\u00f5es do DevCenter</p>"},{"location":"pages/Apendice/HistoricoDeRevisao/#13102025","title":"13/10/2025","text":"<p>Autores: Marcelo Sim\u00e3o</p> <p>Detalhes:</p> <ol> <li>Incluindo descritivos nas respostas das transa\u00e7\u00f5es PBM.</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#10102025","title":"10/10/2025","text":"<p>Autores: Juan Cardoso</p> <p>Detalhes:</p> <ol> <li>Atualizando documenta\u00e7\u00e3o com o novo m\u00e9todo ObtemDadosCartaoJsonCompleta</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#04092025","title":"04/09/2025","text":"<p>Autores: Juan Cardoso</p> <p>Detalhes:</p> <ol> <li>Removendo documenta\u00e7\u00e3o PBM antiga</li> <li>Adicionando documenta\u00e7\u00e3o PBM nova</li> <li>Removendo alertas de n\u00e3o liberado 100% em produ\u00e7\u00e3o</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#16072025","title":"16/07/2025","text":"<p>Autores: Juan Cardoso</p> <p>Detalhes:</p> <ol> <li>Documenta\u00e7\u00e3o novo m\u00e9todo ObtemDadosCartaoJson</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#02042025","title":"02/04/2025","text":"<p>Autores: Juan Cardoso</p> <p>Detalhes:</p> <ol> <li>Corre\u00e7\u00e3o na documenta\u00e7\u00e3o do log da transa\u00e7\u00e3o JSON</li> <li>Remo\u00e7\u00e3o do acesso ao arquivo PDF</li> <li>Adicionando informa\u00e7\u00f5es sobre o campo is_pix_upfront da transa\u00e7\u00e3o QRCode.</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#05022025","title":"05/02/2025","text":"<p>Autores: Gabriel Lima</p> <p>Detalhes:</p> <ol> <li>Documentando parametro value em payments e PIX Troco e PIX Saque na p\u00e1gina de transa\u00e7\u00e3o de QRCode.</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#29012025","title":"29/01/2025","text":"<p>Autores: Patrick Silva</p> <p>Detalhes:</p> <ol> <li>Documentando novo tipo de log da transa\u00e7\u00e3o para as automa\u00e7\u00f5es comerciais</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#27012025","title":"27/01/2025","text":"<p>Autores: Juan Cardoso</p> <p>Detalhes:</p> <ol> <li>Documentando novo retorno transa\u00e7\u00e3o ConsultaTransacao</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#23012025","title":"23/01/2025","text":"<p>Autores: Gabriel Lima da Silva</p> <p>Detalhes:</p> <ol> <li>Documentando retorno do SolicitaConfirmacao</li> <li>Documentando parametro DigitosEsperados no EntraNumero</li> <li>Documentando especifica\u00e7\u00e3o do tamanho do pValorInformacao na TransacaoCorrente</li> <li>Adicionando informa\u00e7\u00f5es no Layout do QRCode</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#14112024","title":"14/11/2024","text":"<p>Autores: Juan Cardoso</p> <p>Detalhes:</p> <ol> <li>Altera\u00e7\u00e3o na transa\u00e7\u00e3o QRCode a fim de documentar uma maior flexibilidade na transa\u00e7\u00e3o com o QRLinx </li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#14112024_1","title":"14/11/2024","text":"<p>Autores: Jose Roberto Penna de Moraes</p> <p>Detalhes:</p> <ol> <li>Altera\u00e7\u00e3o nas informa\u00e7\u00f5es enviadas e recebidas no metodo ConsultaTransacao</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#31102024","title":"31/10/2024","text":"<p>Autores: Gabriel Lima da Silva</p> <p>Detalhes:</p> <ol> <li>Ajustando documenta\u00e7\u00e3o do LOG da transa\u00e7\u00e3o voucher</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#10102024","title":"10/10/2024","text":"<p>Autores: Patrick Silva</p> <p>Detalhes:</p> <ol> <li>Atualiza\u00e7\u00e3o da lista de bandeiras TEF</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#01102024","title":"01/10/2024","text":"<p>Autores: Ricardo Oliveira</p> <p>Detalhes:</p> <ol> <li>Atualizando o campo TipoColetaCartao com o tipo relativo a QR Code.</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#28082024","title":"28/08/2024","text":"<p>Autores: Daniel Franklin</p> <p>Detalhes:</p> <ol> <li>Adicionando p\u00e1gina \"Callback para Log de Transa\u00e7\u00f5es\"</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#09082024","title":"09/08/2024","text":"<p>Autores: Ricardo Oliveira</p> <p>Detalhes:</p> <ol> <li>Corrigindo o tamanho do cnpj da transa\u00e7\u00e3o ObtemDadosConfigurados.</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#12072024","title":"12/07/2024","text":"<p>Autores: Gabriel Lima</p> <p>Detalhes:</p> <ol> <li>Ajustando documenta\u00e7\u00e3o da p\u00e1gina de callbacks de frota completa json.</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#13062024","title":"13/06/2024","text":"<p>Autores: Gabriel Lima</p> <p>Detalhes:</p> <ol> <li>Adicionando novas callbacks na p\u00e1gina de perguntas identificadas frota completa.</li> <li>Atualizando lista de campos</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#17052024","title":"17/05/2024","text":"<p>Autores: Daniel Franklin</p> <p>Detalhes:</p> <ol> <li>Adicionando p\u00e1ginas: <ul> <li>Configurar Funcionalidades</li> <li>Confirma\u00e7\u00e3o e Desfazimento de Transa\u00e7\u00f5es (com informa\u00e7\u00f5es que antes ficavam na p\u00e1gina Fluxo de confirma\u00e7\u00e3o e desfazimento)</li> </ul> </li> <li>Adicionando fun\u00e7\u00f5es antes documentadas apenas no manual PDF:<ul> <li>LeIdentificacaoPinpad</li> <li>TransacaoCartaoCreditoConfirmada</li> <li>TransacaoCartaoCreditoIATAConfirmada</li> <li>TransacaoCancelamentoConfirmada</li> <li>PreAutorizacaoCreditoConfirmada</li> <li>ConfPreAutorizacaoCreditoConfirmada</li> <li>TransacaoConsultaAVSConfirmada</li> <li>ConfiguraModoTeleMarketing</li> <li>ConfirmaCartaoTeleMarketing</li> <li>DesfazCartaoTeleMarketing</li> <li>ConfiguraDPOS</li> <li>VersaoDPOS</li> <li>TransacaoConsultaCadastroCPFCompleta</li> </ul> </li> <li>Adicionando informa\u00e7\u00f5es a p\u00e1ginas anteriormente vazias:<ul> <li>Exemplo para Integra\u00e7\u00e3o por Fun\u00e7\u00f5es</li> <li>Utiliza\u00e7\u00e3o Paykit</li> </ul> </li> <li>Removendo p\u00e1gina Tipos de Registros e C\u00f3digos de Transa\u00e7\u00f5es (anteriormente uma p\u00e1gina vazia)</li> <li>Removendo refer\u00eancia ao manual do DPOS8, na p\u00e1gina Manual Integra\u00e7\u00e3o PDF</li> <li>Adicionando mais informa\u00e7\u00f5es \u00e0 p\u00e1gina QRCode (descri\u00e7\u00e3o da l\u00f3gica da fun\u00e7\u00e3o TransacaoQRCode e de seus argumentos)</li> <li>Complementando informa\u00e7\u00f5es sobre o campo Reservado da fun\u00e7\u00e3o TransacaoCartaoDebitoCompletaSplit</li> <li>Ajustando refer\u00eancias/links para as p\u00e1ginas:<ul> <li>Introdu\u00e7\u00e3o (antes referenciava uma p\u00e1gina Modelos de Integra\u00e7\u00e3o inexistente)</li> <li>Confirma\u00e7\u00e3o e Desfazimento de Transa\u00e7\u00f5es (antes referenciava o \"item 3.1.3.11\", o que faz sentido no manual PDF, mas n\u00e3o na documenta\u00e7\u00e3o do DevCenter)</li> </ul> </li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#03042024","title":"03/04/2024","text":"<p>Autores: Gabriel Lima</p> <p>Detalhes:</p> <ol> <li>Adicionando novas fun\u00e7\u00f5es exportadas e mencionando qual vers\u00e3o foram inclu\u00eddas.</li> <li>Atualizando lista de redes autorizadas DTEF.</li> <li>Adicionando p\u00e1gina de perguntas identificadas.</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#06032024","title":"06/03/2024","text":"<p>Autores: Gabriel Lima</p> <p>Detalhes:</p> <ol> <li>Atualizando estrutura do Dev Center passando conte\u00fado das demais integra\u00e7\u00f5es para seus pr\u00f3prios dom\u00ednios.</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#21022024","title":"21/02/2024","text":"<p>Autores: Gabriel Lima da Silva e Juan Cardoso</p> <p>Detalhes:</p> <ol> <li>Revis\u00e3o da sess\u00e3o gerenciador Padr\u00e3o (Troca de Arquivos)</li> <li>Revis\u00e3o textual</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#12022024","title":"12/02/2024","text":"<p>Autores: Juan Cardoso</p> <p>Detalhes:</p> <ol> <li>Adicionando documenta\u00e7\u00e3o de cart\u00e3o pr\u00e9-pago no layout de Cr\u00e9dito e D\u00e9bito</li> <li>Adicionando transa\u00e7\u00e3o ObtemPathCupons</li> <li>Adicionando transa\u00e7\u00e3o ObtemDadosConfigurados</li> <li>Adicionando transa\u00e7\u00e3o ObtemDadosEmpresaLojaTEF</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#05022024","title":"05/02/2024","text":"<p>Autores: Jos\u00e9 Roberto Penna de Moraes</p> <p>Detalhes:</p> <ol> <li>Documenta\u00e7\u00e3o do Paykit Webcheckout</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#01122023","title":"01/12/2023","text":"<p>Autores: Gabriel Lima da Silva</p> <p>Detalhes:</p> <ol> <li>Documenta\u00e7\u00e3o Mapa de terminais homologados</li> <li>Documenta\u00e7\u00e3o Contatos</li> <li>Documenta\u00e7\u00e3o das Transa\u00e7\u00f5es restantes em branco</li> <li>Documenta\u00e7\u00e3o Transa\u00e7\u00f5es Especiais</li> <li>Altera\u00e7\u00e3o das refer\u00eancias do DTEF para \"Linx TEF\" e DPOS para \"Paykit\"</li> <li>Revis\u00e3o dos menus de \"Apendice\" e \"Troca de Arquivos\"</li> <li>Documenta\u00e7\u00e3o do m\u00e9todo SolicitaConfirma\u00e7\u00e3o em \"Callbacks\"</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#17112023","title":"17/11/2023","text":"<p>Autores: Jos\u00e9 Roberto e Juan Cardoso</p> <p>Detalhes:</p> <ol> <li>Documenta\u00e7\u00e3o Layout Log de Transa\u00e7\u00f5es</li> <li>Documenta\u00e7\u00e3o Integra\u00e7\u00e3o sem telas</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#03102023","title":"03/10/2023","text":"<p>Autores: Gabriel Lima e Juan Cardoso</p> <p>Detalhes:</p> <ol> <li>Documentando o modo de integra\u00e7\u00e3o via Troca de Arquivos.</li> <li>Reorganiza\u00e7\u00e3o de alguns itens e ajustes na formata\u00e7\u00e3o do documento</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#12092023","title":"12/09/2023","text":"<p>Autores: Juan Cardoso</p> <p>Detalhes:</p> <ol> <li>Adicionando informa\u00e7\u00f5es na p\u00e1gina <code>Configura\u00e7\u00e3o Paykit</code> para documentar o Paykit Embarcado, e adi\u00e7\u00e3o das tabelas de Operadoras, Bandeiras e Redes TEF</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#16082023","title":"16/08/2023","text":"<p>Autores: Juan Cardoso</p> <p>Detalhes:</p> <ol> <li>Primeira vers\u00e3o de produ\u00e7\u00e3o do documento, documenta\u00e7\u00e3o do FAQ e criando links para o Github do Paykit em Vers\u00f5es Certificadas, Manual de Integra\u00e7\u00e3o PDF e Exemplos de c\u00f3digo.</li> </ol>"},{"location":"pages/Apendice/HistoricoDeRevisao/#15082023","title":"15/08/2023","text":"<p>Autores: Gabriel Lima</p> <p>Detalhes: </p> <ol> <li>Montando a p\u00e1gina\u00e7\u00e3o inicial do DevCenter e reorganizando partes j\u00e1 documentadas previamente com base no PDF de integra\u00e7\u00e3o.</li> </ol>"},{"location":"pages/Apendice/ManualIntegracaoPDF/","title":"ManualIntegracaoPDF","text":""},{"location":"pages/Apendice/ManualIntegracaoPDF/#manual-integracao-pdf","title":"Manual Integra\u00e7\u00e3o PDF","text":"<p>Manual PDF Paykit</p>"},{"location":"pages/Apendice/MapaDeTerminais/","title":"Mapa de terminais homologados","text":""},{"location":"pages/Apendice/MapaDeTerminais/#mapa-de-terminais-homologados","title":"Mapa de terminais homologados","text":"Terminal Fabricante QR Imagem PPC930 GERTEC LANE-3000 INGENICO LANE-3600 INGENICO PPC920 GERTEC IPP320 INGENICO"},{"location":"pages/Apendice/Operadoras/","title":"Operadoras","text":""},{"location":"pages/Apendice/Operadoras/#codigo-das-operadoras-do-tef-linx","title":"C\u00f3digo das operadoras do TEF Linx","text":"<p>Nesta p\u00e1gina est\u00e1 descrito os c\u00f3digos das operadoras utilizadas no TEF Linx.</p> C\u00f3digo Nome 0001 ABCCartoes 0002 ABNAmroBank 0003 Abrapetite 0004 Alianca 0005 AmazonCard 0006 AmericaDoSul 0007 Ascard 0008 Aura 0009 AuraCetelem 0010 AuraRedecard 0011 AutDirCracha 0012 AutorizadorChequeDirecao 0013 BancoCacique 0014 BancoDoBrasil 0015 BancodoNordeste 0016 BancoGE 0017 BancoIBI 0018 BancoMercantilDoBrasil 0019 BancoOB 0020 BancoPortugues 0021 BancoProsper 0022 BancoRural 0023 Bandeirantes 0024 Baneb 0025 Banerj_Itau 0026 Banese 0027 Banespa 0028 Banestado 0029 Banestado_ou_Diners 0030 Banestes 0031 Banestik 0032 Banorte 0033 Banquet 0034 Banricompras 0035 BASA 0036 BaseCard 0037 Bea 0038 Bec 0039 Beg 0040 Bem 0041 Bemge 0042 Besc 0043 BFB_Itau 0044 Bonus 0045 Boston 0046 BPNCrediStar 0047 Bradesco 0048 BrasilConv 0049 BRB 0050 BRCard 0051 Cabal 0052 CaixaEcEstRioGrandeSul 0053 CaixaEconomicaFederal 0054 CarrefourAura 0055 CartaoBozano 0056 CartaoEsplanada 0057 CartaoLosango 0058 CartaoOtoch 0059 CartFrota 0060 CDC_Citibank 0061 CDC_Fenicia 0062 CDC_Itau 0063 Citibank 0064 Credialimentacao 0065 Credireal 0066 Credix 0067 CredMais 0068 CredSystem 0069 CredSystemTalisma 0070 Crefisul 0071 Diners 0072 Evangelico 0073 Expansiva 0074 ExpansivaAvista 0075 FAI_Itau 0076 FederalInvest 0077 FIC_Itau 0078 Fininvest 0079 FininvestAndreazza 0080 FininvestBigBom 0081 FininvestCasaAvenida 0082 FininvestSonda 0083 FininvestVisionPlus 0084 FortBrasil 0085 Aura 0086 Banquet 0087 Cabal 0088 Drogabel 0089 Goodcard 0090 Planinvesti 0091 Praticard 0092 RedeClass 0093 Sonae 0094 Sorocred 0095 SupCaju 0096 Unik 0097 VerdeCard 0098 GlobalCard 0099 Goodcard 0100 GreenCard 0101 Hipercard 0102 HipercardAssociados 0103 HSBC 0104 IncentiveHouse 0105 Intellisys 0106 Itau 0107 ItauPrivateLabel 0108 LemonBank 0109 Losango 0110 LosangoOutrasEmpresas 0111 Maestro 0112 MaestroC 0113 Mastercard 0114 Mercantil_do_Brasil 0115 Meridional 0116 Multicompra 0117 NossaCaixa 0118 NossaCaixaGold 0119 NossaCaixaInternacional 0120 NossaCaixaNacional 0121 NossaCaixaNossoBanco 0122 NossaCaixaPlatinum 0123 NossaCaixaUniversitario 0124 NutriCash 0125 Panamericano 0126 Personal 0127 Planinvesti 0128 Planvale 0129 Policard 0130 PortalCard 0131 PortalCardFrota 0132 PortalCardIdeal 0133 PortalCardRanchoAlim 0134 PortalCardRanchoConv 0135 Praticard 0136 PrivateAle 0137 PrivateDirecaoCondor 0138 PrivateIpiranga 0139 RanchoAlim 0140 RanchoConv 0141 RedeShop 0142 BanriCardAlimentacao 0143 Resomaq 0144 ResomaqBiq 0145 Safra 0146 Santander 0147 Sapore 0148 SenffNet 0149 Simers 0150 SmartShop 0151 Sodexo 0152 SodexoPremium 0153 SodexoVR 0154 SodexoSaude 0155 Softway 0156 SoftwayAdmiral 0157 SoftwayBrombatti 0158 SoftwayCaseli 0159 SoftwayContinental 0160 SoftwayDalila 0161 SoftwayDavi 0162 SoftwayFachini 0163 SoftwayFarmaciaEsperanca 0164 SoftwayFlach 0165 SoftwayForthBrasil 0166 SoftwayGabriela 0167 SoftwayGaedicke 0168 SoftwayKarla 0169 SoftwayKastelao 0170 SoftwayKellermann 0171 SoftwayLiderItaim 0172 SoftwayLopesValim 0173 SoftwayLunardi 0174 SoftwayManaira 0175 SoftwayMontico 0176 SoftwayNovaPatricia 0177 SoftwayPagPoko 0178 SoftwayPatricia 0179 SoftwayPedralli 0180 SoftwayPortaPrata 0181 SoftwayPromocional 0182 SoftwaySaoMateus 0183 SoftwaySchiochet 0184 SoftwaySchoka 0185 SoftwaySchwalm 0186 SoftwaySupCarajas 0187 SoftwaySuperBras 0188 SoftwaySuperIko 0189 SoftwaySupFernandes 0190 SoftwaySupMaia 0191 SoftwaySupSerido 0192 SoftwaySupSJ 0193 SoftwayValeGrande 0194 SoftwayVigano 0195 Sorocred 0196 SpecialCard 0197 Sudameris 0198 SuperCard 0199 Sysdata 0200 TelecomNet 0201 TelenetAscard 0202 TelenetBancred 0203 TelenetBrasilConvenios 0204 TelenetCartFrota 0205 TelenetCooperCard 0206 TelenetCredito 0207 TelenetMundialCard 0208 TelenetNutricash 0209 TelenetPersonalCard 0210 TelenetValecash 0211 TelenetVicard 0212 TelenetVoucher 0213 Ticket 0214 TicketAlimentacao 0215 TicketAlimentacaoPlus 0216 TicketCar 0217 TicketCar 0218 TicketConvenio 0219 TicketParc 0220 TicketPlus 0221 TicketRestaurante 0222 TivitBancoGE 0223 TivitBradesco 0224 TivitPanamericano 0225 TopPremium 0226 Unibanco 0227 UpSight 0228 ValeCard 0229 ValeCred 0230 Valetik 0231 VeroCheque 0232 VicsAvant 0233 VisaCredito 0234 VisaElectron 0235 Alelo 0236 WorkerCard 0237 Zogbi 0238 Amex 0239 PLENOCard 0240 Cresol 0241 Centralcard 0242 Onecard 0243 OnecardAlimentacao 0244 Guanabara 0245 Maxicartao 0246 Sesimax 0247 Sicredi 0248 BanriCardCombustivel 0249 BanriCardCartaoPresente 0250 Dacasa 0251 TIPCard 0252 Banescard 0253 EloIbi 0254 EloBB 0255 EloBradesco 0256 EloCaixa 0257 HSBCMastercard 0258 CooperCard 0259 EssoSantanderVisa 0260 EssoSantanderMastercard 0261 FanCard 0262 Graalcard 0263 SMC 0264 UnibancoVisa 0265 BancredCard 0266 AuraCondor 0267 EloAlimentacao 0268 EloRefeicao 0269 MarabrazPrivate 0270 Calcard 0271 Minascred 0272 Simcred 0273 Credipar 0274 Agiplan 0275 AutoExpresso 0276 Zaffari 0277 Gax 0278 Avenida 0279 FininvestMastercard 0280 Qualidade 0281 AleloAlimentacao 0282 AleloRefeicao 0283 TicketCultura 0284 DMCard 0285 Usecred 0286 BorbaCard 0287 NelyCard 0288 CrediShop 0289 Comprocard 0290 Cobal 0291 AzulCard 0292 Globocard 0293 Banpara 0294 EloCredito 0295 SoftwaySilvestre 0296 SoftwaySupercop 0297 SoftwayBomVizinho 0298 SoftwayFelipeCamarao 0299 SoftwaySupPaulista 0300 SoftwaySupSantos 0301 SoftwaySupEldorado 0302 SoftwaySupGringo 0303 SoftwaySupSaoFrancisco 0304 SoftwaySupNovaVida 0305 SoftwayMaxAuvergne 0306 SoftwayMercantilPopular 0307 Tricard 0308 ECXCard 0309 ECXCardFrota 0310 ECXCardPBM 0311 BrasilCardConvenio 0312 BrasilCardAlimentacao 0313 BrasilCardRefeicao 0314 BrasiCardFrota 0315 Redemed 0316 SafraVisa 0317 Nutricard 0318 Discover 0319 Nalin 0320 CaixaMoveisCard 0321 GynCard 0322 Giracard 0323 FlexCarAlelo 0324 Aceito 0325 EloDebito 0326 Credz 0327 Ciclum 0328 Libercard 0329 AespConvenio 0330 SuperBeal 0331 BNBClub 0332 JCB 0333 Rodobens 0334 MettaCard 0335 ValeMais 0336 VRRefeicao 0337 VRAlimentacao 0338 VRCultura 0339 VRAuto 0340 QueirozPremium 0341 CPF 0342 BrasilCard 0343 NovoCard 0344 SinTram 0345 BigCard 0346 Kalicard 0347 Hiper 0348 GoiasCard 0349 Sollus 0350 Gift Pass 0351 TelenetGrandCard 0352 TelenetControlLife 0353 TelenetGoldX 0354 TelenetSuedCard 0355 TelenetBnbClube 0356 TelenetSjCard 0357 KalicardAlimentacao 0358 KalicardConvenio 0359 ComunixRegicred 0360 Credshirmer 0361 GFCard 0362 PagCard 0363 RedeUze 0364 StepCard 0365 AleloCultura 0366 MasterMinhaCasaMelhor 0367 AleloAuto 0368 Ecopag 0369 Accredito 0370 BIZ 0371 ACG 0372 LagoaCredCard 0373 AVista 0374 Private 0375 CabalVoucher 0376 SodexoAlimentacao 0377 SodexoRefeicao 0378 SodexoCombustivel 0379 Redecon 0380 BaneseCard 0381 GreenCardAlimentacao 0382 GreenCardRefeicao 0383 GreenCardFrota 0384 WIZEO 0385 FitCard 0386 Ticket Log 0387 Credinova 0388 MaxisCard 0389 VegasCard 0390 Util Card 0391 PGCard 0392 MGCard 0393 Bracov 0394 LE CARD 0395 Paracatu 0396 FOX 0397 Vecell 0398 Neus 0399 StarkCard 0400 FacilCard 0401 SafeCard 0402 South America 0403 RotaCard 0404 PagSimples 0405 FlexFrota 0406 FleetCard 0407 Epay Gift 0408 TecBiz 0409 CooperativaGlobal 0410 RedeCompras 0411 AddmealConvenio 0412 AudaxConvenio 0413 AutemcardConvenio 0414 CredtodosPrivate 0415 CroscardConvenio 0416 Drogabella 0417 Flexocard 0418 Kredilig 0419 LivreConvenio 0420 LivrePrivate 0421 ProcardConvenio 0422 ProcardPrivate 0423 RomCard 0424 Simec 0425 Eucard 0426 NGV 0427 MaxxcardBeneficios 0428 BENRefeicao 0429 TruckPag 0430 GoldiCard 0431 CTF 0432 BENAlimentacao 0433 RealCard 0434 BraxCard 0435 ServirCard 0436 Samsung 0437 Valeshop 0438 SQCF 0439 Amplacard 0440 NutricashFrota 0441 MastercardAlimentacao 0442 MastercardRefeicao 0443 Convenios Card 0444 SymacCard 0445 Multimais 0446 Rede Farmes 0447 ComunixSystemFarma 0448 EloBeneficio 0449 Sodexo Cultura Pass 0450 Plus Frota 0451 Trio Card 0452 EuroKartensysteme 0453 Supcard 0454 Festcard 0455 AleloMobile 0456 Pitcard 0457 SigaCred 0459 Omni 0460 Asmube Cash 0461 FlexiCard 0462 FlamCard 0463 008Cards 0464 Emanuelle PE 0465 Cartao Taco 0466 Cartao Bem Barato 0467 Algorix 0468 Alelo Flexcard 0469 SiapCard 0470 Coopelife 0471 MGCard 0472 Boa Convenios 0473 Ascipam 0474 CredFacil 0475 QCard 0476 UpCard 0477 Multvale 0478 Trustcard 0479 Obencard 0480 ComunixConfarma 0481 MoreiraCard 0482 Accords Cards 0483 Bn Card 0484 B4 Card 0485 BoldCard 0486 Ser Card 0487 Farma Brito 0488 Go Card 0489 Kbank 0490 Kinfuku 0491 Le Card S.A. 0492 Martins Card 0493 Mercantil Card 0495 Mury Cart\u00c3\u00b5es 0496 RV Cards 0497 Sert\u00c3\u00a3o Card 0499 Usacard 0500 WebCard 0501 4S Sistemas 0502 FacilPraPagar 0503 Esposende 0504 Solucard 0505 SysproCard 0506 Soma 0507 Frigelar 0508 RegiCred 0509 IziCartoes 0510 BanriCardDebito"},{"location":"pages/Apendice/PSPs/","title":"PSPs","text":""},{"location":"pages/Apendice/PSPs/#nome-e-codigo-de-psps-retornados-pelo-tef-linx","title":"Nome e c\u00f3digo de PSP's retornados pelo TEF Linx","text":"<p>Nesta p\u00e1gina est\u00e3o descritos os nomes e c\u00f3digos de PSP's utilizados no TEF Linx com a rede QRLinx.</p> C\u00f3digo PSP Nome PSP 0001 Dock 0002 Pefisa 0003 Bradesco 0004 Itau 0005 Santander 0006 Banco do Brasil 0008 Hiper 0009 SaqJa 0010 Realize 0011 Cielo 0012 Stone 0013 Paga Leve 0014 A27 0015 Sicoob 0016 Sicredi 0017 Banrisul 0018 TecBan"},{"location":"pages/Apendice/RedesAutorizadasDTEF8/","title":"Redes Autorizadoras D-TEF 8","text":""},{"location":"pages/Apendice/RedesAutorizadasDTEF8/#codigo-das-redes-do-tef-linx","title":"C\u00f3digo das redes do TEF Linx","text":"<p>Nesta p\u00e1gina est\u00e1 descrito os c\u00f3digos das redes utilizadas no TEF Linx.</p> C\u00f3digo Nome 01 Cielo 02 D-TEF 5 03 Nexxera 04 CooperCard 05 Vida Link 06 Obo\u00e9 07 Redecard 08 PrevSa\u00fade 09 Dacasa 10 Comunix 11 EDM 12 Paggo 13 IBI Gen 14 Credi-Shop 15 Sicredi 16 Credmais 17 Amex 18 Tecban 19 Validata 20 Ultragaz 21 Fan Card 22 GetNet 23 Vero 24 One Card 25 IBI 26 GetNet LAC 27 Banescard 28 Neus 29 Central Card 30 Orbitall 31 Aura 32 Hipercard 33 UseCred 34 ComproCard 35 Ita\u00fa 36 Bradesco 37 Serasa 38 Special Card 39 ACSP 40 Teledata 41 Tivit 42 CDL Rio 43 Bozano 44 Fininvest 45 Qualycard 46 Dire\u00e7\u00e3o 47 Multicheque 48 Poupcard 49 Sorocred 50 Chq Card\u00e1pio 51 Vale Refei\u00e7\u00e3o 52 SPC Brasil 53 SPC Poa 54 Losango 55 Zogbi 56 SPC Londrina 57 ACC Card 58 PortalCard 59 Corres Banc\u00e1rio 60 Resomaq 61 Softway 62 Intellisys 63 Banpar\u00e1 64 Evang\u00e9lico 65 Vale Card 66 Worker Card 67 Banese 68 Telenet 69 PamCard 70 Private Dire\u00e7\u00e3o 71 Senffnet 72 ChequePre 73 PBM ePharma 74 PBM GetNet 75 PBM SevenPDV 76 PBM Funcional 77 Sysdata 78 ACPR 79 Policard 80 Expansiva 81 Credsystem 82 SmartShop 83 TelecomNet 84 CrediAlimenta\u00e7\u00e3o 85 CheckExpress 86 WAPPA 87 Simers 88 Crach\u00e1 BR 89 UpSight 90 Tend\u00eancia 91 Autoriz POS 92 Ticket 93 Cartesys 94 RV 95 Comunix Visa 96 DMCard 97 3ia 98 BIN 99 SMC 100 Febraban 101 Siga Cred 102 Guedes Card 103 BR Premmia 104 Trel 105 epay 106 ICI 107 Netpoints 108 Algorix 109 Borba Card 110 Givex 111 Elavon 112 OrgCard 113 CSU 114 ECX Card 115 Brasil Card 116 Nalin 117 Libercard 118 Smart.Net 119 Mettacard 120 Rodobens 121 Global Payments 122 Sollus 123 Now Prepay 124 Netpoints Web 125 FTC Cards Web 126 Nutricash 127 Stone 128 Ecopag 129 Cabal 130 Tribanco 131 Biz 132 AuraChip 133 Dotz 134 Nova One Card 135 Epay Gift 136 Sipag 137 FitCard 138 Todo Cart\u00f5es 139 ACG 140 Tribanco 141 Sodexo 142 Paynet 143 Plan Vale 144 GreenCard 145 Qualit\u00e1 146 Conekta 147 CTF 148 MaxisCard 149 SiapNet 150 ConvCard 151 SafraPay 152 VegasCard 153 e-Diz 154 Vale Shop 155 Santander 156 Ticket Log 157 Hagana 158 South America 159 Softnex 160 Logpay 161 Convenios Card 162 Fleet Card 163 M4U 164 PagSeguro 165 Sulcard 166 Rede Use 167 Rota Card 168 Infocards 169 ICards 170 MultMais 171 Banco Pan 172 Linx Pay 173 PayStudio 174 BOLT 175 Bradescard 176 SoftwayChip 177 Fortbrasil 178 Calcard 179 Absoluta 180 GoNet 181 BrPremmiaSeller 182 Wallet Itau 183 Globlltec 184 Social Pay 185 Passepag 186 Deloitte 187 TruckPag 188 GoldiCard 189 Linx Pay GP 190 Alelo 191 Samsung 192 Conductor API 193 Linx Pay Recarga 194 Linx Pay Receb 195 Linx Pay GP Receb 196 Linx Pay PS 197 Linx PayPS Receb 198 Veloe 200 QR Linx 201 Itau SX 202 Troco Simples 203 GetNetHCT 204 Personal Card 205 SodexoGenerica 206 Elo Beneficio 207 Ben Visa Vale 209 Black Hawk 211 008 Cards 212 Linx Pay Stone 213 Generica HML 214 Generica HML Full 215 Natura Pay 216 Adyen 217 Sysprocard 218 Hub Elo 219 4S Sistemas"},{"location":"pages/InformacoesGerais/","title":"Informa\u00e7\u00f5es Gerais","text":""},{"location":"pages/InformacoesGerais/#informacoes-gerais","title":"Informa\u00e7\u00f5es Gerais","text":"<p>Este documento tem por objetivo descrever as informa\u00e7\u00f5es gerais do Paykit em sua integra\u00e7\u00e3o API Desktop.</p>"},{"location":"pages/InformacoesGerais/ConfiguracaoPaykit/","title":"Configura\u00e7\u00e3o Paykit","text":"<p>Nesta p\u00e1gina est\u00e3o dispostos os m\u00e9todos que podem ser utilizados para que a automa\u00e7\u00e3o fa\u00e7a a configura\u00e7\u00e3o do Paykit de forma program\u00e1tica.  A obrigatoriedade de implementa\u00e7\u00e3o desses m\u00e9todos ir\u00e1 variar de acordo com o modelo de integra\u00e7\u00e3o escolhido pela sua automa\u00e7\u00e3o (consulte a  p\u00e1gina inicial).</p>"},{"location":"pages/InformacoesGerais/ConfiguracaoPaykit/#configura-cnpj-do-estabelecimento","title":"Configura CNPJ do Estabelecimento","text":"<p>Para configurar o CNPJ da empresa de forma program\u00e1tica execute a funcionalidade abaixo:</p> <pre><code> int ConfiguraCNPJEstabelecimento(char *pCNPJEstabelecimento);\n</code></pre> Campo Tamanho Descri\u00e7\u00e3o pCNPJEstabelecimento 14 N Ponteiro que cont\u00e9m o n\u00famero do CNPJ para ser utilizado na configura\u00e7\u00e3o."},{"location":"pages/InformacoesGerais/ConfiguracaoPaykit/#configura-empresa-loja-e-pdv","title":"Configura Empresa, Loja e PDV","text":"<p>Para configurar de forma program\u00e1tica o PDV, com n\u00famero da empresa, loja e n\u00famero de PDV integrar com o m\u00e9todo abaixo:</p> <pre><code> int ConfiguraEmpresaLojaPDV(char *pNumeroEmpresa, char *pNumeroLoja, char *pNumeroPDV);\n</code></pre> Campo Tamanho Descri\u00e7\u00e3o pNumeroEmpresa 4 N Ponteiro que cont\u00e9m o n\u00famero da Empresa para ser utilizado na configura\u00e7\u00e3o. pNumeroLoja 4 N Ponteiro que cont\u00e9m o n\u00famero da Loja para ser utilizado na configura\u00e7\u00e3o. pNumeroPDV 4 N Ponteiro que cont\u00e9m o n\u00famero do PDV para ser utilizado na configura\u00e7\u00e3o."},{"location":"pages/InformacoesGerais/ConfiguracaoPaykit/#configura-comunicacao-tef","title":"Configura Comunica\u00e7\u00e3o TEF","text":"<p>Para realizar a configura\u00e7\u00e3o de comunica\u00e7\u00e3o com Linx TEF de forma program\u00e1tica integrar com a aseguinte funcionalidade:</p> <p><pre><code> int ConfiguraComunicacaoDTEF(char *pConfiguracaoIpPortaSsl);\n</code></pre> o par\u00e2metro pConfiguracaoIpPortaSsl recebe as informa\u00e7\u00f5es no formato: </p> <pre><code>IP1:Porta1:SSL1;IP2:Porta2:SSL2;...;IPn:Portan:SSLn`\n</code></pre> <p>Sendo <code>;</code> o separador para caso seja passado mais de um servidor, <code>SSL</code> indica se \u00e9 utilizada uma comunica\u00e7\u00e3o via TLS, op\u00e7\u00f5es possiveis: 1 para habilitar a comunica\u00e7\u00e3o via TLS e 0 para desabilitar.</p> <p>Exemplo da formata\u00e7\u00e3o dos dados informando mais de um servidor TEF: </p> <pre><code>linxTEF.com.br:9999:1;linxTEF.com.br:9998:1;linxTEF.com.br:9997:0;linxTEF.com.br:9996:0\n</code></pre>"},{"location":"pages/InformacoesGerais/ConfiguracaoPaykit/#busca-certificado","title":"Busca Certificado","text":"<p>Esta transa\u00e7\u00e3o permite realizar o download do certificado de comunica\u00e7\u00e3o com o Linx TEF de forma program\u00e1tica. Os par\u00e2metros est\u00e3o abaixo caracterizados para a fun\u00e7\u00e3o BuscaCertificado.</p> <pre><code>  int BuscaCertificado(char *pURL, char *pPathCertificado);\n</code></pre> Campo Tamanho Descri\u00e7\u00e3o pURL A Url de onde ser\u00e1 feito o download do certificado, caso o ponteiro informado seja nulo ser\u00e1 utilizado o valor default. pPathCertificado A Path absoluto indicando onde dever\u00e1 armazenado o certificado 02 I Retorno:  \u2022 [00] Opera\u00e7\u00e3o executada com sucesso  \u2022 [11] Erro ao processar a solicita\u00e7\u00e3o <p>Essa chamada deve ser feita ap\u00f3s ter sido configurado os dados de CNPJ, empresa, loja e pdv, caso contr\u00e1rio retornar\u00e1 uma sinaliza\u00e7\u00e3o de erro.</p>"},{"location":"pages/InformacoesGerais/ConfiguracaoPaykit/#configuracao-do-sistema-tef-linx","title":"Configura\u00e7\u00e3o do Sistema TEF Linx","text":"<pre><code>void DIRETIVA_CALLBACK ConfiguraDPOS()\n</code></pre> <p>O procedimento ConfiguraDPOS disponibiliza a interface gr\u00e1fica de configura\u00e7\u00e3o dos par\u00e2metros da DLL do sistema TEF Linx.</p> <pre><code>void DIRETIVA_CALLBACK VersaoDPOS(char *pVersao)\n</code></pre> <p>O procedimento VersaoDPOS retorna no par\u00e2metro pVersao a vers\u00e3o formatada da DLL do sistema TEF Linx.</p>"},{"location":"pages/InformacoesGerais/InformacoesComuns/","title":"Informa\u00e7\u00f5es Comuns","text":""},{"location":"pages/InformacoesGerais/InformacoesComuns/#informacoes-comuns","title":"Informa\u00e7\u00f5es Comuns","text":""},{"location":"pages/InformacoesGerais/InformacoesComuns/#transacoes","title":"Transa\u00e7\u00f5es","text":"<p>Todos os campos num\u00e9ricos informados devem ser completados com zeros \u00e0 esquerda e, quando n\u00e3o informados, preenchidos com zeros. Os campos alfanum\u00e9ricos devem ser completados com espa\u00e7os \u00e0 direita e, quando n\u00e3o informados, preenchidos com espa\u00e7os.</p>"},{"location":"pages/InformacoesGerais/InformacoesComuns/#definicao-da-diretiva_callback","title":"Defini\u00e7\u00e3o da DIRETIVA_CALLBACK","text":"<p>A macro DIRETIVA_CALLBACK \u00e9 uma diretiva de pr\u00e9-processamento usada para definir a conven\u00e7\u00e3o de chamada de fun\u00e7\u00e3o em diferentes ambientes de compila\u00e7\u00e3o. Ela nos permite adaptar nosso c\u00f3digo para funcionar corretamente em diferentes sistemas operacionais e compiladores. A conven\u00e7\u00e3o de chamada de fun\u00e7\u00e3o define como os par\u00e2metros s\u00e3o passados para a fun\u00e7\u00e3o e como os valores de retorno s\u00e3o retornados para o chamador.</p> <pre><code>#if(_MSC_VER)\n    #define DIRETIVA_CALLBACK __stdcall\n#else\n    #define DIRETIVA_CALLBACK\n#endif\n</code></pre>"},{"location":"pages/InformacoesGerais/InformacoesComuns/#parametros-opcionais","title":"Par\u00e2metros opcionais","text":"<p>Caso o sistema de automa\u00e7\u00e3o n\u00e3o possua estas informa\u00e7\u00f5es, devem ser preenchidos com zeros ou espa\u00e7os, conforme o tipo do campo.</p>"},{"location":"pages/InformacoesGerais/UtilizacaoPaykit/","title":"Utiliza\u00e7\u00e3o Paykit","text":""},{"location":"pages/InformacoesGerais/UtilizacaoPaykit/#inicializacao-do-sistema-linx-tef-modulo-paykit","title":"Inicializa\u00e7\u00e3o do Sistema Linx TEF M\u00f3dulo Paykit","text":"<pre><code>int DIRETIVA_CALLBACK InicializaDPOS() \n</code></pre> <p>A fun\u00e7\u00e3o InicializaDPOS deve ser executada em cada abertura de dia de movimento (dia fiscal), servindo para indicar \u00e0 DLL do sistema TEF Linx que os processos de inicializa\u00e7\u00e3o de dia devem ser realizados.</p> <p></p>"},{"location":"pages/InformacoesGerais/UtilizacaoPaykit/#finalizacao-do-sistema-linx-tef-modulo-paykit","title":"Finaliza\u00e7\u00e3o do Sistema Linx TEF M\u00f3dulo Paykit","text":"<pre><code>int DIRETIVA_CALLBACK FinalizaDPOS() \n</code></pre> <p>A fun\u00e7\u00e3o FinalizaDPOS deve ser executada em cada fechamento de dia de movimento (dia fiscal), servindo para indicar \u00e0 DLL do sistema TEF Linx que os processos de finaliza\u00e7\u00e3o de dia devem ser realizados.</p> <p></p>"},{"location":"pages/InformacoesGerais/UtilizacaoPaykit/#identificacao-da-automacao-comercial","title":"Identifica\u00e7\u00e3o da Automa\u00e7\u00e3o comercial","text":"<p>O PDV dever\u00e1 realizar chamada \u00e0 fun\u00e7\u00e3o IdentificacaoAutomacaoComercial toda vez que for inicializado.</p> <pre><code>int DIRETIVA_CALLBACK IdentificacaoAutomacaoComercial(char *pNomeAutomacao, char *pVersaoAutomacao, \n                                                      char *pReservado)\n</code></pre> Campo Tamanho Descri\u00e7\u00e3o NomeAutomacao 20A Nome (fabricante) da automa\u00e7\u00e3o VersaoAutomacao 20A Vers\u00e3o da automa\u00e7\u00e3o Reservado 256A Campo reservado. O segundo byte informa se a automa\u00e7\u00e3o est\u00e1 integrada com QR Code ('1' se sim, '0' se n\u00e3o). O terceiro byte informa se, durante uma transa\u00e7\u00e3o de cancelamento, trata-se de cancelamento de QR Code ('1' se sim, '0' se n\u00e3o) <p></p>"},{"location":"pages/InformacoesGerais/UtilizacaoPaykit/#configuracao-do-modo-de-desfazimento-da-transacao","title":"Configura\u00e7\u00e3o do Modo de Desfazimento da Transa\u00e7\u00e3o","text":"<pre><code>int DIRETIVA_CALLBACK ConfiguraModoDesfazimento(int iModoDesfazimento)\n</code></pre> <p>Com o intuito de melhorar o processo de confirma\u00e7\u00e3o e desfazimento e evitar ocorr\u00eancias de desfazimentos indevidos, foi desenvolvida a fun\u00e7\u00e3o ConfiguraModoDesfazimento, que permite que a automa\u00e7\u00e3o determine o modo no qual o client TEF dever\u00e1 proceder, atrav\u00e9s do argumento  iModoDesfazimento. Os valores que podem ser passados no argumento s\u00e3o os seguintes:</p> Valor Modo Descri\u00e7\u00e3o 0 Autom\u00e1tico Modo atualmente utilizado, onde o desfazimento \u00e9 realizado atrav\u00e9s da chamada da fun\u00e7\u00e3o FinalizaTransacao (default) 1 Expl\u00edcito As transa\u00e7\u00f5es s\u00e3o desfeitas somente se for chamada a fun\u00e7\u00e3o DesfazCartao (exceto no caso de queda de energia) <p>As fun\u00e7\u00f5es DesfazCartao e FinalizaTransacao est\u00e3o documentadas aqui:</p> <p>Confirma\u00e7\u00e3o e Desfazimento de Transa\u00e7\u00f5es</p> <p></p> <p>Um fluxo de venda utilizando o modo expl\u00edcito est\u00e1 demostrado aqui: </p> <p>Fluxo de Confirmacao e Desfazimento</p>"},{"location":"pages/IntegracaoSemTelas/","title":"Integra\u00e7\u00e3o sem Telas","text":""},{"location":"pages/IntegracaoSemTelas/#integracao-sem-telas","title":"Integra\u00e7\u00e3o sem Telas","text":"<p>Este documento tem por objetivo descrever os procedimentos necess\u00e1rios para realizar as chamadas do client Linx TEF sem a apresenta\u00e7\u00e3o das telas pr\u00e9-definidas do Paykit. Isto \u00e9 importante em situa\u00e7\u00f5es onde se deseja adequar visualmente as telas de coleta da transa\u00e7\u00e3o de TEF com o layout geral da automa\u00e7\u00e3o.</p> <p>N\u00e3o \u00e9 necess\u00e1rio que todas as fun\u00e7\u00f5es de coleta de tela sejam desenvolvidas. Se uma fun\u00e7\u00e3o for utilizada somente por uma transa\u00e7\u00e3o e esta n\u00e3o for implementada, ela pode ser desconsiderada. De forma geral, incluem-se neste caso:</p> <ul> <li>as fun\u00e7\u00f5es para coleta e tratamento de c\u00f3digo de barras de documentos</li> <li>coleta de dados da transa\u00e7\u00e3o de verifica\u00e7\u00e3o de endere\u00e7o (AVS)</li> <li>apresenta\u00e7\u00e3o do preview do comprovante (transa\u00e7\u00e3o de consulta CDC)</li> <li>sele\u00e7\u00e3o de planos de pagamento, para o caso de a automa\u00e7\u00e3o utilizar planos de pagamento</li> </ul>"},{"location":"pages/IntegracaoSemTelas/#observacoes","title":"Observa\u00e7\u00f5es","text":"<p>A funcionalidade descrita neste documento est\u00e1 dispon\u00edvel apenas para o Paykit. Portanto, transa\u00e7\u00f5es de redes que trafegarem pelo Linx TEF dever\u00e3o continuar utilizando o Paykit. Como no modo de apresenta\u00e7\u00e3o externa de telas o Paykit n\u00e3o chama automaticamente o Paykit, ser\u00e1 necess\u00e1rio fazer as chamadas ao Paykit explicitamente.</p>"},{"location":"pages/IntegracaoSemTelas/#utilizacao-das-telas-da-automacao","title":"Utiliza\u00e7\u00e3o das telas da automa\u00e7\u00e3o","text":"<p>Para que seja poss\u00edvel utilizar as telas da automa\u00e7\u00e3o em lugar das telas do Paykit ao realizar transa\u00e7\u00f5es com o Client, dever\u00e3o ser executados os seguintes procedimentos:</p> <ul> <li>desenvolver as fun\u00e7\u00f5es de callback que ser\u00e3o executadas pelo client no momento de interagir com o usu\u00e1rio;</li> <li>registrar as fun\u00e7\u00f5es da callback;</li> <li>executar as chamadas do Client conforme definido no documento de integra\u00e7\u00e3o, ou seja, executando as chamadas para as fun\u00e7\u00f5es TransacaoCartaoCredito, TransacaoCartaoDebito, ConfirmaCartao, FinalizaTransacao etc.</li> </ul>"},{"location":"pages/IntegracaoSemTelas/Callbacks/","title":"Callbacks","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#callbacks","title":"Callbacks","text":"<p>Aqui voc\u00ea encontrar\u00e1 mais detalhes sobre as callbacks e imagens de exemplo para ilustrar o funcionamento</p>"},{"location":"pages/IntegracaoSemTelas/Callbacks/#display-terminal","title":"Display Terminal","text":"<pre><code>void DisplayTerminal(char *pMensagem)\n</code></pre> <p>Apresenta a mensagem solicitada pelo Client, no par\u00e2metro pMensagem. Esta fun\u00e7\u00e3o apresenta mensagens gerais  do fluxo da execu\u00e7\u00e3o, como por exemplo \u201cINSIRA OU PASSE O CARTAO\u201d, \u201cAGUARDE...\u201d, \u201cSOLICITANDO AUTORIZACAO\u201d etc.</p> Par\u00e2metro solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pMensagem A Mensagem a ser apresentada no display do PDV <p>Retorno: esta fun\u00e7\u00e3o n\u00e3o possui retorno.</p> <p> </p> Exemplo de tela implementada, Display terminal"},{"location":"pages/IntegracaoSemTelas/Callbacks/#display-erro","title":"Display Erro","text":"<pre><code>void DisplayErro(char *pMensagem)\n</code></pre> <p>Fun\u00e7\u00e3o utilizada para apresentar uma mensagem de erro no display, como por exemplo \u201cCART\u00c3O INV\u00c1LIDO\u201d, \u201cTENTE NOVAMENTE\u201d entre outras.  Se for um display gr\u00e1fico, pode ser apresentado em vermelho para indicar a situa\u00e7\u00e3o de erro. Em geral, \u00e9 utilizado o mesmo local  de apresenta\u00e7\u00e3o da fun\u00e7\u00e3o Display Terminal, variando apenas a cor para indicar o erro. Isso entretanto pode ser desenvolvido da forma  que melhor se adequar para a automa\u00e7\u00e3o. </p> Par\u00e2metro solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pMensagem A Mensagem de erro a ser apresentada no display do PDV <p>Retorno: esta fun\u00e7\u00e3o n\u00e3o possui retorno.</p> <p> </p> Exemplo de tela implementada, Display erro"},{"location":"pages/IntegracaoSemTelas/Callbacks/#mensagem","title":"Mensagem","text":"<pre><code>void Mensagem(char *pMensagem)\n</code></pre> <p>Fun\u00e7\u00e3o utilizada para apresentar uma mensagem informativa na tela. \u00c9 utilizada em algumas situa\u00e7\u00f5es no fluxo das transa\u00e7\u00f5es para apresentar dados ao usu\u00e1rio como por exemplo o valor da transa\u00e7\u00e3o, alguma op\u00e7\u00e3o que foi recentemente selecionada ou ainda em alguns casos uma mensagem retornada pela rede autorizadora.</p> Par\u00e2metro solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pMensagem A Mensagem a ser apresentada na tela <p>Retorno: esta fun\u00e7\u00e3o n\u00e3o possui retorno.</p> <p> </p> Exemplo de tela implementada, Mensagem de retorno display"},{"location":"pages/IntegracaoSemTelas/Callbacks/#beep","title":"Beep","text":"<pre><code>void Beep()\n</code></pre> <p>Comando enviado para o PDV para que este emita um sinal sonoro. O comando n\u00e3o possui nenhum par\u00e2metro. </p> <p>Retorno: esta fun\u00e7\u00e3o n\u00e3o necessita de resposta</p>"},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-cartao","title":"Entra Cart\u00e3o","text":"<pre><code>int FormEntraCartao(char *pLabel, char *pCartao)\n</code></pre> <p>Comando para permitir que o operador digite o n\u00famero do cart\u00e3o.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pLabel A Mensagem a ser apresentada (em geral, \u00e9 \u201cDIGITE O N\u00daMERO CART\u00c3O\u201d) Campo de Retorno Formato Descri\u00e7\u00e3o pCartao A N\u00famero do cart\u00e3o digitado pelo operador <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 O operador digitou o n\u00famero do cart\u00e3o -1 A opera\u00e7\u00e3o foi cancelada e o operador n\u00e3o conclui a digita\u00e7\u00e3o do n\u00famero do cart\u00e3o <p>Observa\u00e7\u00f5es: \u2022 Neste campo, dever\u00e1 ser permitido apenas a entrada de caracteres num\u00e9ricos \u2022 O tamanho m\u00e1ximo permitido para digita\u00e7\u00e3o ser\u00e1 de 19 d\u00edgitos \u2022 Dever\u00e1 ser tomado o cuidado para que as informa\u00e7\u00f5es de digita\u00e7\u00e3o do n\u00famero do cart\u00e3o n\u00e3o sejam armazenadas  de forma aberta e/ou completa em nenhum local. As regras de seguran\u00e7a definidas pelo PCI n\u00e3o permitem o registro dos n\u00fameros de cart\u00e3o.</p> <p> </p> Exemplo de tela implementada, Entrada de Cart\u00e3o"},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-codigo-de-barras","title":"Entra C\u00f3digo de Barras","text":"<pre><code>int EntraCodigoBarras(char *pLabel, char *pCodigoBarras) \n</code></pre> <p>Comando para permitir que o operador digite o c\u00f3digo de barras do documento. A digita\u00e7\u00e3o pode ser feita em 4 blocos de 12 d\u00edgitos, contendo os d\u00edgitos verificadores. O resultado \u00e9 a concatena\u00e7\u00e3o de todos os caracteres digitados. Esta fun\u00e7\u00e3o dever\u00e1 fazer as valida\u00e7\u00f5es referentes ao pagamento de contas conv\u00eanio, utilizada na transa\u00e7\u00e3o de pagamento de contas da Cielo.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pLabel A Mensagem a ser apresentada Campo de Retorno Formato Descri\u00e7\u00e3o pCodigoBarras A C\u00f3digo de barras digitado pelo operador <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 O operador digitou o n\u00famero do cart\u00e3o -1 A opera\u00e7\u00e3o foi cancelada e o operador n\u00e3o conclui a digita\u00e7\u00e3o -2 O c\u00f3digo de barras \u00e9 inv\u00e1lido (os d\u00edgitos verificadores n\u00e3o est\u00e3o corretos) -3 A opera\u00e7\u00e3o n\u00e3o \u00e9 permitida (o primeiro d\u00edgito n\u00e3o \u00e9 \u201c8\u201d \u2013 a transa\u00e7\u00e3o de Pagamento de Contas Visanet permite somente pagamento de conv\u00eanios, ou seja, c\u00f3digos que come\u00e7am com \u201c8\u201d) <p>Observa\u00e7\u00f5es: \u2022 a implementa\u00e7\u00e3o desta fun\u00e7\u00e3o \u00e9 necess\u00e1ria somente se for utilizada a transa\u00e7\u00e3o TransacaoPagamentoContasVisanet</p>"},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-codigo-de-barras-lido","title":"Entra C\u00f3digo de Barras Lido","text":"<pre><code>int EntraCodigoBarrasLido(char *pLabel, char *pCodigoBarrasLido) \n</code></pre> <p>Comando para permitir que o operador passe o c\u00f3digo de barras do documento no leitor. O resultado \u00e9 a concatena\u00e7\u00e3o de todos os caracteres digitados. Esta fun\u00e7\u00e3o dever\u00e1 fazer as valida\u00e7\u00f5es referentes ao pagamento de contas conv\u00eanio, utilizada na transa\u00e7\u00e3o de pagamento de contas da Visanet.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pLabel A Mensagem a ser apresentada Campo de Retorno Formato Descri\u00e7\u00e3o pCodigoBarrasLido A C\u00f3digo de barras obtido atrav\u00e9s do leitor. <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 O operador digitou o n\u00famero do cart\u00e3o -1 A opera\u00e7\u00e3o foi cancelada e o operador n\u00e3o conclui a digita\u00e7\u00e3o -2 O c\u00f3digo de barras \u00e9 inv\u00e1lido (os d\u00edgitos verificadores n\u00e3o est\u00e3o corretos) -3 A opera\u00e7\u00e3o n\u00e3o \u00e9 permitida (o primeiro d\u00edgito n\u00e3o \u00e9 \u201c8\u201d \u2013 a transa\u00e7\u00e3o de Pagamento de Contas Visanet permite somente pagamento de conv\u00eanios, ou seja, c\u00f3digos que come\u00e7am com \u201c8\u201d) <p>Observa\u00e7\u00f5es: \u2022 a implementa\u00e7\u00e3o desta fun\u00e7\u00e3o \u00e9 necess\u00e1ria somente se for utilizada a transa\u00e7\u00e3o TransacaoPagamentoContasVisanet</p>"},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-data-de-validade","title":"Entra Data de Validade","text":"<pre><code>int EntraDataValidade(char *pLabel, char *pDataValidade) \n</code></pre> <p>Comando para que o operador digite a data de validade do cart\u00e3o no formato MMAA. Na tela, pode ser apresentado como MM/AA, mas no retorno a resposta n\u00e3o dever\u00e1 conter os caracteres separadores.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pLabel A Mensagem a ser apresentada Campo de Retorno Formato Descri\u00e7\u00e3o pDataValidade A Data de validade do cart\u00e3o, no formato MMAA <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 A Data de validade foi digitada -1 A opera\u00e7\u00e3o foi cancelada <p>Observa\u00e7\u00f5es: \u2022 dever\u00e1 ser tomado o cuidado para que as informa\u00e7\u00f5es da data de validade do cart\u00e3o n\u00e3o sejam armazenadas de forma aberta e/ou completa em nenhum local. As regras de seguran\u00e7a definidas pelo PCI n\u00e3o permitem o registro dessas informa\u00e7\u00f5es.</p> <p> </p> Exemplo de tela implementada, Display entrada de data de validade"},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-data","title":"Entra Data","text":"<pre><code>int EntraData(char *pLabel, char *pData) \n</code></pre> <p>Comando para que o operador digite a data de validade do cart\u00e3o no formato DDMMAA. Na tela, pode ser apresentado como DD/MM/AA, mas no retorno a resposta n\u00e3o dever\u00e1 conter os caracteres separadores.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pLabel A Mensagem a ser apresentada Campo de Retorno Formato Descri\u00e7\u00e3o pData DD/MM/AA Data no formato DD/MM/AA. Caso o usu\u00e1rio n\u00e3o tenha digitado nenhuma data (o usu\u00e1rio escolheu seguir em frente sem digitar), este campo dever\u00e1 conter o valor \u201c / / \u201c, ou seja, espa\u00e7os mas com os caracteres separadores <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 O usu\u00e1rio pressionou enter, mesmo que a data n\u00e3o tenha sido digitada. Se a data n\u00e3o for digitada, o campo com a data de retorno dever\u00e1 voltar com espa\u00e7os e os caracteres separadores (\u201c / / \u201c) -1 A opera\u00e7\u00e3o foi cancelada <p>Observa\u00e7\u00f5es: \u2022 dever\u00e1 ser tomado o cuidado para que as informa\u00e7\u00f5es da data de validade do cart\u00e3o n\u00e3o sejam armazenadas de forma aberta e/ou completa em nenhum local. As regras de seguran\u00e7a definidas pelo PCI n\u00e3o permitem o registro dessas informa\u00e7\u00f5es.</p> <p> </p> Exemplo de tela implementada, Entrada de Data"},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-codigo-de-seguranca","title":"Entra C\u00f3digo de Seguran\u00e7a","text":"<pre><code>int EntraCodigoSeguranca(char *pLabel, char *pCodigoSeguranca, int iTamanhoMaximo) \n</code></pre> <p>Comando para que o operador digite o c\u00f3digo de seguran\u00e7a do cart\u00e3o. O n\u00famero m\u00ednimo de caracteres permitido \u00e9 3 e o m\u00e1ximo \u00e9 passado na fun\u00e7\u00e3o.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pLabel A Mensagem a ser apresentada iTamanhoMaximo N Tamanho m\u00e1ximo permitido na digita\u00e7\u00e3o do c\u00f3digo de seguran\u00e7a Campo de Retorno Formato Descri\u00e7\u00e3o pCodigoSeguranca A C\u00f3digo de Seguran\u00e7a digitado pelo operador <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 O usu\u00e1rio digitou um c\u00f3digo de seguran\u00e7a -1 A opera\u00e7\u00e3o foi cancelada <p>Observa\u00e7\u00f5es: \u2022 o campo pCodigoSeguranca dever\u00e1 ser tratado tamb\u00e9m como par\u00e2metro de solicita\u00e7\u00e3o. Assim, se algum valor estiver preenchido nesse campo, ele dever\u00e1 ser apresentado no momento da chamada. O objetivo deste tratamento \u00e9 apresentar o CVV2 na situa\u00e7\u00e3o em que ele deva ser redigitado.\u2022 dever\u00e1 ser tomado o cuidado para que as informa\u00e7\u00f5es de digita\u00e7\u00e3o do c\u00f3digo de seguran\u00e7a n\u00e3o sejam armazenadas de forma aberta e/ou completa em nenhum local. Esse registro \u00e9 proibido pelas regras de seguran\u00e7a definidas pelo PCI.</p> <p> </p> Exemplo de tela implementada, Entrada de CVV"},{"location":"pages/IntegracaoSemTelas/Callbacks/#seleciona-opcao","title":"Seleciona Op\u00e7\u00e3o","text":"<pre><code>int SelecionaOpcao(char *pLabel, char *pOpcoes, int *iOpcaoSelecionada) \n</code></pre> <p>Comando para que seja apresentado ao operador um menu de op\u00e7\u00f5es e que assim seja selecionada uma dessas op\u00e7\u00f5es.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pLabel A Mensagem a ser apresentada pOpcoes N Op\u00e7\u00f5es a serem exibidas. As op\u00e7\u00f5es est\u00e3o no seguinte formato: (X, AAAA), onde X \u00e9 o caracter num\u00e9rico que se digitado seleciona a op\u00e7\u00e3o e AAAA \u00e9 a string a ser exibida no menu. Caso haja mais de uma op\u00e7\u00e3o, elas dever\u00e3o ser separadas pelo caracter \u201c#\u201d. Exemplo: (1,\"1-ILEGIVEL\")#(5,\"5-NAO POSSUI\") - neste caso, s\u00e3o apresentadas na tela as op\u00e7\u00f5es \u201c1-ILEGIVEL\u201d e \u201c5-N\u00c3O POSSUI\u201d. Se o operador digitar \u201c5\u201d, a fun\u00e7\u00e3o dever\u00e1 retornar \u201c2\u201d, que \u00e9 o \u00edndice da op\u00e7\u00e3o selecionada. Campo de Retorno Formato Descri\u00e7\u00e3o pOpcaoSelecionada N Indice da op\u00e7\u00e3o selecionada. Na chamada, pode ser definido um valor default para a sele\u00e7\u00e3o. Assim, se vier um valor neste campo, dever\u00e1 ser pr\u00e9-selecionada a op\u00e7\u00e3o escolhida. A primeira op\u00e7\u00e3o tem o \u00edndice 1. <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 Uma op\u00e7\u00e3o foi selecionada -1 A opera\u00e7\u00e3o foi cancelada <p> </p> Exemplo de tela implementada, Display Sele\u00e7\u00e3o de op\u00e7\u00e3o AV,FL,FA"},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-valor","title":"Entra Valor","text":"<pre><code>int EntraValor(char *pLabel, char *pValor, char *pValorMinimo, char *pValorMaximo) \n</code></pre> <p>Comando para que o operador entre com um valor num\u00e9rico monet\u00e1rio, com 2 casas decimais.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pLabel A Mensagem a ser apresentada pValorMinimo 12 N Valor m\u00ednimo aceito para o campo pValorMaximo 12 N Valor m\u00e1ximo aceito para o campo Campo de Retorno Formato Descri\u00e7\u00e3o pValor 12 N Valor digitado pelo operador. O campo dever\u00e1 ter 2 casas decimais, sem separador.Por exemplo, 000000001234 equivale a R$ 12,34.Se na chamada este campo tiver um valor, ele dever\u00e1 ser apresentado como o valor default <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 O operador digitou o valor -1 A opera\u00e7\u00e3o foi cancelada <p> </p> Exemplo de tela implementada, Display entrada de valor da transa\u00e7\u00e3o"},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-numero","title":"Entra N\u00famero","text":"<pre><code>int EntraNumero(char *pLabel, char *pNumero, char *pNumeroMinimo, char *pNumeroMaximo, int iMinimoDigitos, int iMaximoDigitos, int iDigitosExatos) \n</code></pre> <p>Comando para que o operador entre com um valor num\u00e9rico monet\u00e1rio, com 2 casas decimais.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pLabel A Mensagem a ser apresentada pValorMinimo N Valor m\u00ednimo aceito para o campo pValorMaximo N Valor m\u00e1ximo aceito para o campo iMinimoDigitos N N\u00famero minimo de digitos que o valor dever\u00e1 possuir iMaximoDigitos N N\u00famero m\u00e1ximo de d\u00edgitos permitido pValorMaximo N N\u00famero de d\u00edgitos que o n\u00famero dever\u00e1 ter iDigitosExatos N Se diferente de zero, considerar a quantidade de digitos exatos a serem coletados Campo de Retorno Formato Descri\u00e7\u00e3o pValor N Valor digitado pelo operador. Se na chamada este campo tiver um valor, ele dever\u00e1 ser apresentado como o valor default <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 O operador digitou o n\u00famero -1 A opera\u00e7\u00e3o foi cancelada <p> </p> Exemplo de tela implementada, Display entrada de NSU"},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-string","title":"Entra String","text":"<pre><code>int EntraString(char *pLabel, char *pString, char *pTamanhoMaximo) \n</code></pre> <p>Comando para que o operador entre com uma string qualquer.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pLabel A Mensagem a ser apresentada pTamanhoMaximo N Tamanho m\u00e1ximo da string em caracteres Campo de Retorno Formato Descri\u00e7\u00e3o pString A String digitada pelo usu\u00e1rio. Se na solicita\u00e7\u00e3o for informado um valor neste campo,ele dever\u00e1 ser exibido como valor default. <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 O operador digitou a string -1 A opera\u00e7\u00e3o foi cancelada"},{"location":"pages/IntegracaoSemTelas/Callbacks/#mensagemadicional","title":"MensagemAdicional","text":"<pre><code>int MensagemAdicional(char *pMensagemAdicional) \n</code></pre> <p>Apresenta a mensagem adicional enviada pelo concentrador TEF.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pMensagemAdicional A Mensagem adicional a ser apresentada no display do PDV.Esta fun\u00e7\u00e3o \u00e9 utilizada para complementar opera\u00e7\u00f5es, como por exemplo apresentar a descri\u00e7\u00e3o do produto selecionado durante a execu\u00e7\u00e3o do fluxo da transa\u00e7\u00e3o Visanet. <p>Retorno: O retorno desta fun\u00e7\u00e3o dever\u00e1 ser 0.</p>"},{"location":"pages/IntegracaoSemTelas/Callbacks/#imagem-adicional","title":"Imagem Adicional","text":"<pre><code>int ImagemAdicional(int iIndiceImagem) \n</code></pre> <p>Apresenta uma imagem ou informa\u00e7\u00e3o relacionada \u00e0 rede selecionada pelo Linx TEF durante a transa\u00e7\u00e3o. Apesar do nome da fun\u00e7\u00e3o fazer refer\u00eancia \u00e0 apresenta\u00e7\u00e3o de uma imagem, ela pode ser utilizada para apresentar somente o nome da rede autorizadora Esta fun\u00e7\u00e3o tem objetivo apenas informativo. Se n\u00e3o for implementada, n\u00e3o afetar\u00e1 o fluxo das transa\u00e7\u00f5es.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o iImagemAdicional A C\u00f3digo da rede autorizadora que est\u00e1 tratando a transa\u00e7\u00e3o em quest\u00e3o. O valor -1 indica que deve ser removida a imagem ou apagada a mensagem . <p>Retorno: O retorno desta fun\u00e7\u00e3o dever\u00e1 ser 0.</p>"},{"location":"pages/IntegracaoSemTelas/Callbacks/#consulta-avs","title":"Consulta AVS","text":"<pre><code>int ConsultaAVS(char *cEndereco, char *cNumero, char *cApto, char *cBloco, char *cCEP, char  *cBairro, char *cCPF) \n</code></pre> <p>Comando para que o operador entre com os dados da consulta AVS (transa\u00e7\u00e3o de verifica\u00e7\u00e3o de endere\u00e7o).</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o Endere\u00e7o 96 A Endere\u00e7o coletado Numero 16 A N\u00famero Apto 8 A Apartamento Bloco 32 A Descri\u00e7\u00e3o do bloco CEP 8 N N\u00famero do CEP Bairro 32 A Descri\u00e7\u00e3o do bairro CPF 11 N N\u00famero do CPF <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 O operador digitou os dados -1 A opera\u00e7\u00e3o foi cancelada"},{"location":"pages/IntegracaoSemTelas/Callbacks/#mensagem-alerta","title":"Mensagem Alerta","text":"<pre><code>void MensagemAlerta(char *pMensagemAlerta) \n</code></pre> <p>Apresenta uma mensagem de alerta enviada pelo concentrador TEF ao PDV. N\u00e3o necessita de resposta, mas dever\u00e1 esperar a confirma\u00e7\u00e3o da leitura pelo operador.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pMensagemAlerta A Mensagem de alerta a ser apresentada ao operador do PDV.A diferen\u00e7a com rela\u00e7\u00e3o a outras mensagens \u00e9 que esta dever\u00e1 aguardar a confirma\u00e7\u00e3o da leitura do operador. <p>Retorno: O retorno desta fun\u00e7\u00e3o dever\u00e1 ser 0.</p> <p>Observa\u00e7\u00f5es: \u2022 Atualmente, esta fun\u00e7\u00e3o \u00e9 utilizada no momento de se desfazer uma transa\u00e7\u00e3o, onde \u00e9 apresentada uma mensagem indicando que a transa\u00e7\u00e3o foi desfeita e o cupom deve ser retido. Por ser uma situa\u00e7\u00e3o importante, \u00e9 necess\u00e1ria a confirma\u00e7\u00e3o de leitura pelo operador.</p>"},{"location":"pages/IntegracaoSemTelas/Callbacks/#preview-comprovante","title":"Preview Comprovante","text":"<pre><code>void PreviewComprovante(char *pComprovante) \n</code></pre> <p>Apresenta um comprovante na tela. Isto acontece principalmente em transa\u00e7\u00f5es de simula\u00e7\u00e3o de planos de pagamento, onde \u00e9 feita apenas uma apresenta\u00e7\u00e3o do resultado na tela, sem impress\u00e3o do comprovante na impressora.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pComprovante A Comprovante a ser exibido na tela. <p>Retorno:esta fun\u00e7\u00e3o n\u00e3o necessita de resposta, mas dever\u00e1 aguardar a leitura dos dados por parte do operador, ou seja, dever\u00e1 aguardar que o usu\u00e1rio tome alguma a\u00e7\u00e3o (pressione uma tecla, por exemplo).</p>"},{"location":"pages/IntegracaoSemTelas/Callbacks/#operacao-cancelada","title":"Opera\u00e7\u00e3o Cancelada","text":"<pre><code>int OperacaoCancelada(void) \n</code></pre> <p>Retorna se a opera\u00e7\u00e3o foi cancelada pelo operador. Esta fun\u00e7\u00e3o \u00e9 chamada principalmente em opera\u00e7\u00f5es com o pinpad, como por exemplo a passagem do cart\u00e3o. Como essa passagem pode ser cancelada atrav\u00e9s da automa\u00e7\u00e3o, se houver essa op\u00e7\u00e3o na automa\u00e7\u00e3o e o usu\u00e1rio acion\u00e1-la enquanto o cart\u00e3o estiver sendo lido, a opera\u00e7\u00e3o ser\u00e1 cancelada pelo client.</p> <p>Retorno: esta fun\u00e7\u00e3o n\u00e3o necessita de resposta.</p> <p>Observa\u00e7\u00f5es: \u2022 Essa fun\u00e7\u00e3o \u00e9 chamada m\u00faltiplas vezes durante a transa\u00e7\u00e3o, principalmente durante a leitura de cart\u00f5es. Quando a fun\u00e7\u00e3o retorna 1, o pinpad para a leitura e o Paykit chama a fun\u00e7\u00e3o seguinte conforme o fluxo.</p>"},{"location":"pages/IntegracaoSemTelas/Callbacks/#seta-operacao-cancelada","title":"Seta Opera\u00e7\u00e3o Cancelada","text":"<pre><code>int SetaOperacaoCancelada(int iCancelada) \n</code></pre> <p>Indica qual o valor que a fun\u00e7\u00e3o OperacaoCancelada deve inicializar. Se, por exemplo, a fun\u00e7\u00e3o OperacaoCancelada est\u00e1 indicando que a opera\u00e7\u00e3o foi cancelada e a fun\u00e7\u00e3o SetaOperacaoCancelada for chamada com o valor 1, ent\u00e3o a fun\u00e7\u00e3o OperacaoCancelada come\u00e7ar\u00e1 a indicar que a opera\u00e7\u00e3o n\u00e3o foi mais cancelada (o valor foi reinicializado). Se o usu\u00e1rio indicar novamente que a opera\u00e7\u00e3o foi cancelada, ent\u00e3o a fun\u00e7\u00e3o OperacaoCancelada voltar\u00e1 a indicar que a opera\u00e7\u00e3o foi cancelada, retornando o valor verdadeiro na fun\u00e7\u00e3o. Na pr\u00e1tica, esta fun\u00e7\u00e3o serve para reinicializar o indicador de que a opera\u00e7\u00e3o foi cancelada.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o iCancelada N Indica se a opera\u00e7\u00e3o foi cancelada<ul><li>[0] a opera\u00e7\u00e3o n\u00e3o foi cancelada</li><li>[1] a opera\u00e7\u00e3o foi cancelada</li></ul> <p>Retorno: O retorno desta fun\u00e7\u00e3o dever\u00e1 ser 0.</p> <p>Observa\u00e7\u00f5es: \u2022 A implementa\u00e7\u00e3o deste m\u00e9todo consiste apenas em setar a vari\u00e1vel de global de controle de opera\u00e7\u00e3o cancelada para o valor do par\u00e2metro.</p>"},{"location":"pages/IntegracaoSemTelas/Callbacks/#processa-mensagens","title":"Processa Mensagens","text":"<pre><code>void ProcessaMensagens(void) \n</code></pre> <p>Indica para a automa\u00e7\u00e3o executar processamento que esteja esperando o retorno de fun\u00e7\u00f5es blocantes do client. Por exemplo, ao se passar o cart\u00e3o no PinPad, o client fica aguardando a a\u00e7\u00e3o do operador. Para que a automa\u00e7\u00e3o n\u00e3o fique \u201ctravada\u201d, o client chama essa fun\u00e7\u00e3o para que ela execute procedimentos do tipo atualiza\u00e7\u00e3o de tela, hor\u00e1rios e mensagens, processamento de teclado (para verificar se a opera\u00e7\u00e3o foi cancelada). Esta fun\u00e7\u00e3o n\u00e3o possui par\u00e2metros e tamb\u00e9m n\u00e3o tem retorno.</p>"},{"location":"pages/IntegracaoSemTelas/Callbacks/#seleciona-planos","title":"Seleciona Planos","text":"<pre><code>int SelecionaPlanos(int iCodigoRede, int iCodigoTransacao, int iTipoFinanciamento, int\n iMaximoParcelas, char *pValorMinimoParcela, int iMaxDiasPreDatado, char *pNumeroParcelas,\n char *pValorTransacao, char *pValorParcela, char *pValorEntrada, char *pData) \n</code></pre> <p>Realiza a sele\u00e7\u00e3o dos planos de pagamento conforme os dados da transa\u00e7\u00e3o.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o iCodigoRede N C\u00f3digo da transa\u00e7\u00e3o. Este campo \u00e9 informado pelo Client.<ul><li>[1] Visanet</li></ul> iCodigoTransacao N Indica se a opera\u00e7\u00e3o foi cancelada<ul><li>[8001] Cr\u00e9dito</li><li>[8002] D\u00e9bito</li></ul> iTipoFinanciamento N Tipo do parcelamento. Este campo \u00e9 informado pelo Client.<ul><li>[0] \u00c0 Vista</li><li>[1] Parcelamento ADM (com juros)</li><li>[2] Parcelamento Loja (sem juros)</li><li>[3] Parcelamento CDC</li><li>[4] Pr\u00e9 Datado</li></ul> Campo de Retorno Formato Descri\u00e7\u00e3o iNumeroParcelas N N\u00famero de parcelas. Informar 0 se o n\u00famero de parcelas n\u00e3o foi definido. Este campo deve ser informado pelo PDV. pValorTransacao N Valor da transa\u00e7\u00e3o. Este campo deve ser informado pelo PDV. ValorParcela N Valor da parcela. Este campo deve ser informado pelo PDV. ValorEntrada N Valor da entrada. Este campo deve ser informado pelo PDV. Data DDMMAAAA Data do d\u00e9bito (transa\u00e7\u00f5es pr\u00e9-datadas). Este campo deve ser informado pelo PDV. MaximoParcelas N N\u00famero m\u00e1ximo de parcelas. Este campo \u00e9 informado pelo Client. ValorMinimoParcelas N Valor m\u00ednimo da parcela. Este campo \u00e9 informado pelo Client. MaxiDiasPredatado N N\u00famero m\u00e1ximo de dias pr\u00e9-datado. Este campo \u00e9 informado pelo Client. Reservado A Uso futuro Retorno Descri\u00e7\u00e3o 0 O operador selecionou um plano -1 Os planos n\u00e3o ser\u00e3o tratados -2 A opera\u00e7\u00e3o foi cancelada pelo usuario"},{"location":"pages/IntegracaoSemTelas/Callbacks/#seleciona-planos-ex","title":"Seleciona Planos EX","text":"<pre><code>int SelecionaPlanosEx(char *pSolicitacao, char *pRetorno) \n</code></pre> <p>Realiza a sele\u00e7\u00e3o dos planos de pagamento conforme os dados da transa\u00e7\u00e3o. Os par\u00e2metros de solicita\u00e7\u00e3o e retorno s\u00e3o formados pelos campos abaixo, separados pelo caracter \u201c|\u201d (pipe). Se houver valor passado no campo, dever\u00e1 ser assumido como o valor padr\u00e3o a ser oferecido ao usu\u00e1rio. Os valores que ser\u00e3o tratados no retorno s\u00e3o ValorTransacao, TipoFinanciamento, NumeroParcelas, ValorParcela, ValorEntrada, DataPreDatado e Plano. Os outros campos, embora n\u00e3o sejam tratados pelo client na volta, dever\u00e3o ser retornados. Exemplo: \u00a0\u00a0\u00a0Solicita\u00e7\u00e3o: 61|8001|300|8|8|000000000000|00|0|0|000000000000|000000000000|00000000| \u00a0\u00a0\u00a0Retorno:     61|8001|300|8|8|000000000000|00|0|0|000000000000|000000000000|00000000|001|</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o CodigoRede N C\u00f3digo da Rede no Linx TEF<ul><li>[1] Cielo</li><li>[61] Softway</li></ul> CodigoTransacao N CodigoTransacao<ul><li>[8001] Cr\u00e9dito</li><li>[8002] D\u00e9bito</li></ul> ValorTransacao N Valor da transa\u00e7\u00e3o (em centavos) NumeroMaximoParcelasS/Juros N N\u00famero m\u00e1ximo de parcelas permitido para o parcelamento loja (sem juros) NumeroMaximoParcelasC/Juros N N\u00famero m\u00e1ximo de parcelas permitido para o parcelamento ADM (com juros) ValorMinimoParcela N Valor m\u00ednimo permitido para a parcela MaximoDiasPreDatado N N\u00famero m\u00e1ximo de dias permitido para transa\u00e7\u00e3o pr\u00e9-datada iTipoFinanciamento N Tipo do parcelamento. Este campo \u00e9 informado pelo Client.<ul><li>[0] \u00c0 Vista</li><li>[1] Parcelamento ADM (com juros)</li><li>[2] Parcelamento Loja (sem juros)</li><li>[3] Parcelamento CDC</li><li>[4] Pr\u00e9 Datado</li></ul> NumeroParcelas N N\u00famero de parcelas ValorParcela N Valor da parcela (em centavos) ValorEntrada N Valor da entrada (em centavos) DataPreDatado DDMMAAAA Data para transa\u00e7\u00f5es pr\u00e9-datadas Plano N C\u00f3digo do plano <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 O operador selecionou um plano -1 Os planos n\u00e3o ser\u00e3o tratados -2 A opera\u00e7\u00e3o foi cancelada pelo usuario"},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-valor-especial","title":"Entra Valor Especial","text":"<pre><code>int EntraValorEspecial(char *pLabel, char *pValor, char *pParametros) \n</code></pre> <p>Comando para que o operador entre com um valor num\u00e9rico monet\u00e1rio, de acordo com as parametriza\u00e7\u00f5es.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pLabel A Mensagem a ser apresentada pParametros N Par\u00e2metros para a coleta do valor monet\u00e1rio:<ul><li>ValorMinimo: N12 Valor m\u00ednimo aceito para o campo</li><li>ValorMaximo: N12 Valor m\u00e1ximo aceito para o campo</li><li>NroCasasDecimais: N1 N\u00famero de casas decimais a ser utilizado na coleta</li></ul> Campo de Retorno Formato Descri\u00e7\u00e3o pValor 12 N Valor digitado pelo operador. O campo dever\u00e1 ser retornado sem separador.Se na chamada este campo tiver um valor, ele dever\u00e1 ser apresentado como o valor default Retorno Descri\u00e7\u00e3o 0 O operador digitou o valor -1 A opera\u00e7\u00e3o foi cancelada"},{"location":"pages/IntegracaoSemTelas/Callbacks/#comandos","title":"Comandos","text":"<pre><code>int Comandos(char *pDadosEntrada, char *pRetorno) \n</code></pre> <p>Comandos gen\u00e9ricos enviados do client Linx TEF. Quando necess\u00e1rio para executar uma transa\u00e7\u00e3o, o Paykit poder\u00e1 chamar este callback para que a automa\u00e7\u00e3o execute alguma opera\u00e7\u00e3o. Uma das situa\u00e7\u00f5es onde isso \u00e9 usado \u00e9 na apresenta\u00e7\u00e3o do QR Code para transa\u00e7\u00f5es com carteiras digitais. Caso os comandos n\u00e3o sejam implementados, na medida do poss\u00edvel o client do Linx TEF tentar\u00e1 processar o comando. Por exemplo, caso o comando de apresenta\u00e7\u00e3o de QR Code n\u00e3o seja implementado o Paykit exibir\u00e1 uma tela com o QR Code mesmo que a integra\u00e7\u00e3o seja feita com as telas da automa\u00e7\u00e3o.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pDadosEntrada A Dados de solicita\u00e7\u00e3o do comando.Os comandos s\u00e3o enviados no formato TLV, com c\u00f3digo de comando com 3 bytes e tamanho com 6 bytes. O tamanho se refere ao tamanho dos dados e n\u00e3o ao tamanho total. Por exemplo, o comando para apresenta\u00e7\u00e3o de um c\u00f3digo QR Code fica assim: 001000030LINXeFuiMzDmu85TcYCimGcOeMvUwM C\u00f3digo de comando: 001 Tamanho: 000030 QRCode: LINXeFuiMzDmu85TcYCimGcOeMvUwM Campo de Retorno Formato Descri\u00e7\u00e3o pDadosRetorno N Dados de retorno da solicita\u00e7\u00e3o <p>Comandos:</p> C\u00f3digo Descri\u00e7\u00e3o 001 Apresentar QR Code. O campo de dados cont\u00e9m o QR Code que deve ser apresentado 002 Lista de wallets dispon\u00edveis para utiliza\u00e7\u00e3o no QR. Os nomes s\u00e3o separados por ; <p>Retorno:</p> Retorno Descri\u00e7\u00e3o 0 O comando foi executado corretamente. -1 O comando n\u00e3o foi implementado -2 Ocorreu um erro ao executar o comando"},{"location":"pages/IntegracaoSemTelas/Callbacks/#solicita-confirmacao","title":"Solicita Confirma\u00e7\u00e3o","text":"<pre><code>int SolicitaConfirmacao(char *pMensagem)\n</code></pre> <p>Comando que for\u00e7a uma intera\u00e7\u00e3o do operador solicitando uma confirma\u00e7\u00e3o ou n\u00e3o de uma determinada situa\u00e7\u00e3o, pode ser enviado um texto no par\u00e2metro pMensagem para ser exibido.</p> Campo solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o pMensagem A Mensagem a ser apresentada Retorno Descri\u00e7\u00e3o 0 SIM 1 NAO"},{"location":"pages/IntegracaoSemTelas/FuncoesExportadasParaRegistrarCallback/","title":"Fun\u00e7\u00f5es exportadas para registrar as fun\u00e7\u00f5es de Callback","text":""},{"location":"pages/IntegracaoSemTelas/FuncoesExportadasParaRegistrarCallback/#funcoes-exportadas-para-registrar-as-funcoes-de-callback","title":"Fun\u00e7\u00f5es exportadas para registrar as fun\u00e7\u00f5es de Callback","text":"<p>Para que o client tenha conhecimento das fun\u00e7\u00f5es da automa\u00e7\u00e3o que ele ir\u00e1 executar, essas fun\u00e7\u00f5es devem ser registradas. Seguem as fun\u00e7\u00f5es disponibilizadas na DLL DPOSDRV.DLL para esse fim (a declara\u00e7\u00e3o est\u00e1 na linguagem C).</p> <pre><code>extern \"C\" {\n    void DIRETIVA_CALLBACK RegPDVDisplayTerminal(pCallBackDisplayTerminal);\n    void DIRETIVA_CALLBACK RegPDVDisplayErro(pCallBackDisplayErro); \n    void DIRETIVA_CALLBACK RegPDVMensagem(pCallBackMensagem); \n    void DIRETIVA_CALLBACK RegPDVBeep(pCallBackBeep); \n    void DIRETIVA_CALLBACK RegPDVSolicitaConfirmacao(pCallBackSolicitaConfirmacao); \n    void DIRETIVA_CALLBACK RegPDVEntraCartao(pCallBackEntraCartao); \n    void DIRETIVA_CALLBACK RegPDVEntraDataValidade(pCallBackEntraDataValidade); \n    void DIRETIVA_CALLBACK RegPDVEntraData(pCallBackEntraData); \n    void DIRETIVA_CALLBACK RegPDVEntraCodigoSeguranca(pCallBackEntraCodigoSeguranca); \n    void DIRETIVA_CALLBACK RegPDVSelecionaOpcao(pCallBackSelecionaOpcao); \n    void DIRETIVA_CALLBACK RegPDVEntraValor(pCallBackEntraValor); \n    void DIRETIVA_CALLBACK RegPDVEntraNumero(pCallBackEntraNumero); \n    void DIRETIVA_CALLBACK RegPDVOperacaoCancelada(pCallBackOperacaoCancelada); \n    void DIRETIVA_CALLBACK RegPDVSetaOperacaoCancelada(pCallBackSetaOperacaoCancelada);\n    void DIRETIVA_CALLBACK RegPDVProcessaMensagens(pCallBackProcessaMensagens); \n    void DIRETIVA_CALLBACK RegPDVEntraString(pCallBackEntraString); \n    void DIRETIVA_CALLBACK RegPDVConsultaAVS(pCallBackConsultaAVS); \n    void DIRETIVA_CALLBACK RegPDVMensagemAdicional(pCallBackMensagemAdicional); \n    void DIRETIVA_CALLBACK RegPDVImagemAdicional(pCallBackImagemAdicional); \n    void DIRETIVA_CALLBACK RegPDVEntraCodigoBarras(pCallBackEntraCodigoBarras); \n    void DIRETIVA_CALLBACK RegPDVEntraCodigoBarrasLido(pCallBackEntraCodigoBarrasLido);\n    void DIRETIVA_CALLBACK RegPDVMensagemAlerta(pCallBackMensagemAlerta); \n    void DIRETIVA_CALLBACK RegPDVPreviewComprovante(pCallBackPreviewComprovante); \n    void DIRETIVA_CALLBACK RegPDVSelecionaPlanos(pCallBackSelecionaPlanos); \n    void DIRETIVA_CALLBACK RegPDVSelecionaPlanosEx(pCallBackSelecionaPlanosEx); \n    void DIRETIVA_CALLBACK RegPDVEntraValorEspecial(pCallBackEntraValorEspecial); \n    void DIRETIVA_CALLBACK RegPDVComandos(pCallBackComandos); \n}\n</code></pre>"},{"location":"pages/IntegracaoSemTelas/FuncoesExportadasParaRegistrarCallback/#declaracao-dos-parametros-das-funcoes","title":"Declara\u00e7\u00e3o dos par\u00e2metros das fun\u00e7\u00f5es","text":"<p>As fun\u00e7\u00f5es passadas como par\u00e2metros para os procedimentos de registro declarados acima dever\u00e3o seguir a estrutura definida abaixo.</p> <pre><code>typedef void (DIRETIVA_CALLBACK *pCallBackDisplayTerminal)(char *pMensagem);\ntypedef void (DIRETIVA_CALLBACK *pCallBackDisplayErro)(char *pMensagem);\ntypedef void (DIRETIVA_CALLBACK *pCallBackMensagem)(char *pMensagem);\ntypedef void (DIRETIVA_CALLBACK *pCallBackBeep)(void);\ntypedef int (DIRETIVA_CALLBACK *pCallBackSolicitaConfirmacao)(char *pMensagem);\ntypedef int (DIRETIVA_CALLBACK *pCallBackEntraCartao)(char *pLabel, char *pCartao);\ntypedef int (DIRETIVA_CALLBACK *pCallBackEntraDataValidade)(char *pLabel, char *pDataValidade);\ntypedef int (DIRETIVA_CALLBACK *pCallBackEntraData)(char *pLabel, char *pDataValidade);\ntypedef int (DIRETIVA_CALLBACK *pCallBackEntraCodigoSeguranca)(char *pLabel, char *pEntraCodigoSeguranca,int iTamanhoMax);\ntypedef int (DIRETIVA_CALLBACK *pCallBackSelecionaOpcao)(char *pLabel, char *pOpcoes, int *iOpcaoSelecionada);\ntypedef int (DIRETIVA_CALLBACK *pCallBackEntraValor)(char *pLabel, char *pValor, char *pValorMinimo, char *pValorMaximo);\ntypedef int (DIRETIVA_CALLBACK *pCallBackEntraNumero)(char *pLabel, char *pNumero, char *pNumeroMinimo, char *pNumeroMaximo, int iMinimoDigitos,int iMaximoDigitos,int iDigitosExatos);\ntypedef int (DIRETIVA_CALLBACK *pCallBackOperacaoCancelada) (void);\ntypedef int (DIRETIVA_CALLBACK *pCallBackSetaOperacaoCancelada) (bool bCancelada);\ntypedef void (DIRETIVA_CALLBACK *pCallBackProcessaMensagens) (void);\ntypedef int (DIRETIVA_CALLBACK *pCallBackEntraString)(char *pLabel, char *pString, char *pTamanhoMaximo);\ntypedef int (DIRETIVA_CALLBACK *pCallBackConsultaAVS)(char *cEndereco,char *cNumero,char *cApto,char *cBloco,char *cCEP, char *cBairro,char *cCPF);\ntypedef int (DIRETIVA_CALLBACK *pCallBackMensagemAdicional)(char *pMensagemAdicional);\ntypedef int (DIRETIVA_CALLBACK *pCallBackImagemAdicional)(int iIndiceImagem);\ntypedef int (DIRETIVA_CALLBACK *pCallBackEntraCodigoBarras) (char *Label,char *Campo);\ntypedef int (DIRETIVA_CALLBACK *pCallBackEntraCodigoBarrasLido)(char *Label,char *Campo);\ntypedef void (DIRETIVA_CALLBACK *pCallBackMensagemAlerta) (char *pMensagemAlerta);\ntypedef void (DIRETIVA_CALLBACK *pCallBackPreviewComprovante) (char * cComprovante);\ntypedef int (DIRETIVA_CALLBACK *pCallBackSelecionaPlanos)(int iCodigoRede, int iCodigoTransacao, int iTipoFinanciamento, int iMaximoParcelas, char *pValorMinimoParcela, int iMaxDiasPreDatado, char *pNumeroParcelas, char *pValorTransacao, char *pValorParcela, char *pValorEntrada, char *pData);\ntypedef int (DIRETIVA_CALLBACK *pCallBackSelecionaPlanosEx)(char *pSolicitacao, char *pRetorno);\ntypedef int (DIRETIVA_CALLBACK *pCallBackEntraValorEspecial)(char *pLabel, char *pValor, char *pParametros);\ntypedef int (DIRETIVA_CALLBACK *pCallBackComandos)(char *pParametrosEntrada, char *pDadosRetorno); \n</code></pre>"},{"location":"pages/IntegracaoSemTelas/PerguntasIdentificadasFrotaCompleta/","title":"Perguntas Identificadas Transa\u00e7\u00e3o Frota Completa JSON","text":""},{"location":"pages/IntegracaoSemTelas/PerguntasIdentificadasFrotaCompleta/#perguntas-identificadas-transacao-frota-completa-json","title":"Perguntas Identificadas Transa\u00e7\u00e3o Frota Completa JSON","text":""},{"location":"pages/IntegracaoSemTelas/PerguntasIdentificadasFrotaCompleta/#funcoes-exportadas-para-registrar-as-funcoes-de-callback","title":"Fun\u00e7\u00f5es exportadas para registrar as fun\u00e7\u00f5es de Callback","text":"<pre><code>extern \"C\" {\n    void(DIRETIVA_CALLBACK RegPDVEntraValorIdentificado)(pCallBackEntraValorIdentificado);\n    void(DIRETIVA_CALLBACK RegPDVEntraStringIdentificado)(pCallBackEntraStringIdentificado);\n    void(DIRETIVA_CALLBACK RegPDVEntraNumeroIdentificado)(pCallBackEntraNumeroIdentificado);\n    void(DIRETIVA_CALLBACK RegPDVEntraDataIdentificado)(pCallBackEntraDataIdentificado);\n    void(DIRETIVA_CALLBACK RegPDVEntraDataValidadeIdentificado)(pCallBackEntraDataValidadeIdentificado);\n    void(DIRETIVA_CALLBACK RegPDVSelecionaOpcaoIdentificado)(pCallBackSelecionaOpcaoIdentificado);\n    void(DIRETIVA_CALLBACK RegPDVEntraValorSegurancaIdentificado)(pCallBackEntraValorSegurancaIdentificado);\n}\n</code></pre>"},{"location":"pages/IntegracaoSemTelas/PerguntasIdentificadasFrotaCompleta/#declaracao-dos-parametros-das-funcoes","title":"Declara\u00e7\u00e3o dos par\u00e2metros das fun\u00e7\u00f5es","text":"<pre><code>  typedef int(DIRETIVA_CALLBACK *pCallBackEntraValorIdentificado)(int iIdentificador, char* pLabel, char* pDadosRetorno, \n                                                                  char* pValorMinimo, char* pValorMaximo);\n\n  typedef int(DIRETIVA_CALLBACK *pCallBackEntraStringIdentificado)(int iIdentificador, char* pLabel, char* pDadosRetorno, \n                                                                   char* iTamanhoMaximo);\n\n  typedef int(DIRETIVA_CALLBACK *pCallBackEntraNumeroIdentificado)(int iIdentificador, char* pLabel, char* pDadosRetorno, \n                                                                   char* pNumeroMinimo, char* pNumeroMaximo, \n                                                                   int iMinimoDigitos, int iMaximoDigitos, int iDigitosExatos);\n\n  typedef int(DIRETIVA_CALLBACK *pCallBackEntraDataIdentificado)(int iIdentificador, char *pLabel, char *pDadosRetorno);\n\n  typedef int(DIRETIVA_CALLBACK *pCallBackEntraDataValidadeIdentificado)(int iIdentificador, char *pLabel, char *pDadosRetorno);\n\n  typedef int(DIRETIVA_CALLBACK *pCallBackSelecionaOpcaoIdentificado)(int iIdentificador, char* pLabel, \n                                                                      char* pListaOpcoes, int *iOpcaoSelecionada);\n\n  typedef int(DIRETIVA_CALLBACK *pCallBackEntraValorSegurancaIdentificado)(int iIdentificador, char* pLabel, \n                                                                           int iTamanhoMin, int iTamanhoMax, char* pDadosRetorno);\n</code></pre>"},{"location":"pages/IntegracaoSemTelas/PerguntasIdentificadasFrotaCompleta/#callbacks","title":"Callbacks","text":""},{"location":"pages/IntegracaoSemTelas/PerguntasIdentificadasFrotaCompleta/#entra-valor-identificado","title":"Entra Valor Identificado","text":"<pre><code>  int EntraValorIdentificado(int iIdentificador, char *pLabel, char *pDadosRetorno, int iTamValor, int iDecimais, \n                             char *pValorMin, char *pValorMax);\n</code></pre>"},{"location":"pages/IntegracaoSemTelas/PerguntasIdentificadasFrotaCompleta/#entra-string-identificado","title":"Entra String Identificado","text":"<pre><code>  int EntraStringIdentificado(int iIdentificador, char *pLabel, char *pDadosRetorno, int iTamMin, int iTamMax);\n</code></pre>"},{"location":"pages/IntegracaoSemTelas/PerguntasIdentificadasFrotaCompleta/#entra-numero-identificado","title":"Entra Numero Identificado","text":"<pre><code>  int EntraNumeroIdentificado(int iIdentificador, char *pLabel, char *pDadosRetorno, int iTamMin, int iTamMax, \n                              int iNumMin, int iNumMax);\n</code></pre>"},{"location":"pages/IntegracaoSemTelas/PerguntasIdentificadasFrotaCompleta/#entra-data-identificado","title":"Entra Data Identificado","text":"<pre><code>  int EntraDataIdentificado(int iIdentificador, char *pLabel, char *pDadosRetorno);\n</code></pre>"},{"location":"pages/IntegracaoSemTelas/PerguntasIdentificadasFrotaCompleta/#entra-data-validade-identificado","title":"Entra Data Validade Identificado","text":"<pre><code>  int EntraDataValidadeIdentificado(int iIdentificador, char *pLabel, char *pDadosRetorno);\n</code></pre>"},{"location":"pages/IntegracaoSemTelas/PerguntasIdentificadasFrotaCompleta/#seleciona-opcao-identificado","title":"Seleciona Opcao Identificado","text":"<pre><code>  int SelecionaOpcaoIdentificado(int iIdentificador, char *pLabel, char *pListaOpcoes, int *iOpcaoSelecionada);\n</code></pre>"},{"location":"pages/IntegracaoSemTelas/PerguntasIdentificadasFrotaCompleta/#entra-valor-seguranca-identificado","title":"Entra Valor Seguranca Identificado","text":"<pre><code>  int EntraValorSegurancaIdentificado(int iIdentificador, char *pLabel, int iTamanhoMin, \n                                      int iTamanhoMax, char *pDadosRetorno);\n</code></pre>"},{"location":"pages/IntegracaoSemTelas/PerguntasIdentificadasFrotaCompleta/#descricao-dos-parametros","title":"Descri\u00e7\u00e3o dos par\u00e2metros","text":"Par\u00e2metro solicita\u00e7\u00e3o Formato Descri\u00e7\u00e3o Identificador 03N N\u00famero do campo Label 40A Mensagem para display no client iTamMin 02N Tamanho M\u00ednimo iTamValor 02N Tamanho M\u00e1ximo iDecimais 01N Quantidade de casas decimais pValorMin 12N Valor M\u00ednimo pValorMax 12N Valor M\u00e1ximo iNumMin 02N N\u00famero M\u00ednimo iNumMax 02N N\u00famero M\u00e1ximo iQuantidadeOpcoes 02N Quantidade de Op\u00e7\u00f5es pListaOpcoes A Lista de Op\u00e7\u00f5es separadas por \";\". Exemplo: \"(1,\\\"1-Gasolina Comum\\\")#(30,\\\"30-Diesel\\\")\" pDadosRetorno 2048A Dados de retorno. (Seguindo a mesma documenta\u00e7\u00e3o da p\u00e1gina de callbacks) Clique aqui para ser direcionado"},{"location":"pages/IntegracaoSemTelas/PerguntasIdentificadasFrotaCompleta/#codigo-dos-campos","title":"C\u00f3digo dos campos","text":"Identifica\u00e7\u00e3o do Campo Descri\u00e7\u00e3o 246 Valor do Hod\u00f4metro do ve\u00edculo 247 Tipo Abastecimento 248 Matricula Cart\u00e3o Frota 249 Quantidade de Litros Abastecida 250 Placa do Veiculo 299 Tipo de Opera\u00e7\u00e3o 388 CPF ou CNPJ coletados no POS 392 Quantidade coletada 397 Valor Litro 617 C\u00f3digo de Servi\u00e7o 633 Horimetro do veiculo/equipamento 887 Identificador para o valor total do produto frota 1302 Bomba de Combust\u00edvel 1303 Letras da Placa do Ve\u00edculo 1304 N\u00fameros da Placa do Ve\u00edculo 1305 Ordem de Servi\u00e7o 1306 Registro Empregado (Funcion\u00e1rio) 1307 Litros \u00d3leo 1308 Valor \u00d3leo 1309 N\u00famero Frota 1310 Tipo de Coleta Horimetro ou Quilometragem 1311 Valor servi\u00e7o"},{"location":"pages/LogTransacoes/","title":"Log das Transa\u00e7\u00f5es","text":""},{"location":"pages/LogTransacoes/#log-das-transacoes","title":"LOG das Transa\u00e7\u00f5es","text":"<p>Para que a automa\u00e7\u00e3o comercial receba automaticamente o log de uma transa\u00e7\u00e3o rec\u00e9m realizada ela deve registrar a callback  LogTransacaoAtual utilizando o m\u00e9todo RegLogTransacaoAtual.</p> <p>Tamb\u00e9m \u00e9 poss\u00edvel retornar o log de qualquer transa\u00e7\u00e3o que tenha sido executada nas \u00faltimas 24 horas utilizando o m\u00e9todo ObtemLogTransacaoJson.</p> <p>Consulte a p\u00e1gina Obter Log Transa\u00e7\u00e3o para obter mais detalhes de como utilizar esses m\u00e9todos e sobre o layout de retorno dos dados.</p>"},{"location":"pages/LogTransacoes/ObterLogTransacao/","title":"Obter Log Transa\u00e7\u00e3o","text":""},{"location":"pages/LogTransacoes/ObterLogTransacao/#obter-log-transacao","title":"Obter Log Transa\u00e7\u00e3o","text":"<p>Os itens descritos abaixo desse alerta s\u00e3o customiza\u00e7\u00f5es liberadas a partir da release de Paykit 8.22.23.0012 (inclusive)</p> <p>O Paykit poder\u00e1 fornecer os logs da transa\u00e7\u00e3o de duas maneiras, sendo elas:</p> <ol> <li> <p>Via callback no final da transa\u00e7\u00e3o financeira, ou seja, o Paykit acionar\u00e1 a automa\u00e7\u00e3o passando um buffer no formato json, desta forma a automa\u00e7\u00e3o n\u00e3o precisar\u00e1 acionar o Paykit para obter maiores detalhes da transa\u00e7\u00e3o financeira.</p> </li> <li> <p>Via m\u00e9todo, desta forma a automa\u00e7\u00e3o fica a encargo de acionar o Paykit no final da transa\u00e7\u00e3o para solicitar os logs transacionais.</p> </li> </ol>"},{"location":"pages/LogTransacoes/ObterLogTransacao/#callback","title":"Callback","text":"<p>Para que o Paykit forne\u00e7a informa\u00e7\u00f5es sobre uma transa\u00e7\u00e3o rec\u00e9m-realizada, ele aciona a callback documentada abaixo ap\u00f3s a transa\u00e7\u00e3o ser conclu\u00edda com o TEF, e antes de devolver o controle para a automa\u00e7\u00e3o comercial. Para que a callback possa ser acionada, ela deve ser registrada pela automa\u00e7\u00e3o em uma etapa anterior ao inicio da transa\u00e7\u00e3o financeira.</p>"},{"location":"pages/LogTransacoes/ObterLogTransacao/#reglogtransacaoatual","title":"RegLogTransacaoAtual","text":"<p><pre><code>void DIRETIVA_CALLBACK RegLogTransacaoAtual(pCallBackLogTransacaoAtual p)\n</code></pre> Este m\u00e9todo registra a callback da automa\u00e7\u00e3o. Nele, p cont\u00e9m uma diretiva de callback com a assinatura  descrita na se\u00e7\u00e3o abaixo. A automa\u00e7\u00e3o precisa fazer este registro antes do in\u00edcio da transa\u00e7\u00e3o, preferencialmente  assim que o driver do Paykit for carregado.</p>"},{"location":"pages/LogTransacoes/ObterLogTransacao/#logtransacaoatual","title":"LogTransacaoAtual","text":"<p><pre><code>int DIRETIVA_CALLBACK LogTransacaoAtual(char *pInfo)\n</code></pre> Esta \u00e9 a assinatura do m\u00e9todo que a automa\u00e7\u00e3o tem que registrar. Nela, pInfo \u00e9 um buffer contendo uma mensagem com informa\u00e7\u00f5es da transa\u00e7\u00e3o, seguindo a estrutura abaixo. Como pode-se observar, ela \u00e9 constru\u00edda com  apenas um JSON contendo o log da transa\u00e7\u00e3o que est\u00e1 em execu\u00e7\u00e3o e os dados referentes \u00e0 rede que autorizou a transa\u00e7\u00e3o, proveniente de um campo da resposta do TEF que atualmente \u00e9 adicionado apenas para a rede Adyen. Os dados referentes ao log da transa\u00e7\u00e3o variam de acordo com a transa\u00e7\u00e3o que est\u00e1 sendo efetuada e est\u00e3o descritos na se\u00e7\u00e3o Layout do Log da Transa\u00e7\u00e3o.</p>"},{"location":"pages/LogTransacoes/ObterLogTransacao/#json-de-exemplo","title":"Json de Exemplo","text":"Clique para expandir e mostrar o JSON de exemplo <pre><code>{\n  \"Rede\": {\n      \"Codigo\": 216,\n      \"Nome\": \"ADYEN\",\n      \"CPF\": \"19824193855\",\n      \"TOKEN\": \"DB9NH3ZCK5JCNP65\"\n    },\n  \"LogTransacao\": {\n    &lt;Dados do log da transa\u00e7\u00e3o de acordo com a transa\u00e7\u00e3o que est\u00e1 sendo efetuada&gt;\n  }\n}\n</code></pre> <p>Ap\u00f3s a automa\u00e7\u00e3o retornar o controle para o Paykit (executar um return no m\u00e9todo chamado) este buffer ser\u00e1 destru\u00eddo da mem\u00f3ria, portanto a automa\u00e7\u00e3o deve copiar o buffer enviado para alguma estrutura interna de controle da automa\u00e7\u00e3o, n\u00e3o devendo fazer qualquer altera\u00e7\u00e3o no buffer enviado pelo Paykit.</p>"},{"location":"pages/LogTransacoes/ObterLogTransacao/#obtemlogtransacaojson","title":"ObtemLogTransacaoJson","text":"<pre><code>const char* DIRETIVA_CALLBACK ObtemLogTransacaoJson(char *pNumeroControle)\n</code></pre> <p>Esse m\u00e9todo pode ser utilizado para retornar os dados da transa\u00e7\u00e3o ap\u00f3s sua aprova\u00e7\u00e3o. Os dados retornados ser\u00e3o os mesmos dispon\u00edveis atrav\u00e9s da callback LogTransacaoAtual. Os dados da transa\u00e7\u00e3o ficar\u00e3o dispon\u00edveis no PDV por 1 dia ap\u00f3s a sua aprova\u00e7\u00e3o. O par\u00e2metro pNumeroControle \u00e9 opcional e caso seja passado um ponteiro nulo ou vazio ser\u00e3o retornados os dados da \u00faltima transa\u00e7\u00e3o efetuada.</p> Campo Tamanho Descri\u00e7\u00e3o pNumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico)"},{"location":"pages/LogTransacoes/ObterLogTransacao/#layout-do-log-da-transacao","title":"Layout do Log da Transa\u00e7\u00e3o","text":"<p>O layout dos dados do log da transa\u00e7\u00e3o variam de acordo com a transa\u00e7\u00e3o que est\u00e1 sendo efetuada. Nessa se\u00e7\u00e3o ser\u00e3o descritos os layouts de cada uma das transa\u00e7\u00f5es dispon\u00edveis</p>"},{"location":"pages/LogTransacoes/ObterLogTransacao/#json-de-exemplo_1","title":"Json de Exemplo","text":"Clique para expandir e mostrar o JSON de exemplo para uma transa\u00e7\u00e3o de cr\u00e9dito. <pre><code>{\n  \"LogTransacao\":{\n      \"CNPJRedeAdquirente\":\"01425787000104\",\n      \"CPFouCNPJ\":\"\",\n      \"CartaoPrePago\":\" \",\n      \"CodigoBandeira\":\"2\",\n      \"CodigoBandeiraRede\":\"15\",\n      \"CodigoBandeiraSefaz\":\"2\",\n      \"CodigoBandeiraTerceiro\":\"2\",\n      \"CodigoOperadora\":\"113\",\n      \"CodigoProdutoRede\":\"\",\n      \"CodigoRedeTerceiro\":\"5\",\n      \"CodigoResposta\":\"0\",\n      \"CodigoTEFTerceiro\":\"1\",\n      \"Data\":\"22012025\",\n      \"Hora\":\"160101\",\n      \"NomeBandeira\":\"Mastercard\",\n      \"NomeOperadora\":\"Mastercard\",\n      \"NomePortador\":\"\",\n      \"NumeroAutorizacaoRede\":\"192165\",\n      \"NumeroAutorizador8\":\"7\",\n      \"NumeroCartao\":\"222763******8028*********************\",\n      \"NumeroControle\":\"005703\",\n      \"NumeroControleRede\":\"96744000\",\n      \"NumeroControleRedeAdicional\":\"096744000\",\n      \"NumeroCupom\":\"5\",\n      \"NumeroEmpresa\":\"1\",\n      \"NumeroEquipamento\":\"250\",\n      \"NumeroLoja\":\"1\",\n      \"NumeroParcelas\":\"0\",\n      \"TipoColetaCartao\":\"6\",\n      \"TipoOperacao\":\"AV\",\n      \"TipoRegistro\":\"CCR\",\n      \"ValorDesconto\":\"000000000000\",\n      \"ValorFinal\":\"000000000050\",\n      \"ValorOriginal\":\"000000000050\",\n      \"ValorParcela\":\"000000000000\",\n      \"ValorTaxaEmbarque\":\"000000000000\",\n      \"ValorTaxaServico\":\"000000000000\",\n      \"ValorTransacao\":\"000000000050\",\n      \"VencimentoCartao\":\"0829\"\n  }\n}\n</code></pre>"},{"location":"pages/LogTransacoes/ObterLogTransacao/#ccr-transacao-cartao-de-credito","title":"CCR (Transa\u00e7\u00e3o Cart\u00e3o de Cr\u00e9dito)","text":"Clique para mostrar o Objeto Par\u00e2metro Tipo Observa\u00e7\u00e3o CNPJRedeAdquirente string CNPJ da rede adquirente CPFouCNPJ string CPF ou CNPJ retornado na transa\u00e7\u00e3o CartaoPrePago string Indicativo se \u00e9 um cart\u00e3o pr\u00e9-pago: 'S' (Sim), 'N' (N\u00e3o) ou ' ' (para redes que n\u00e3o informam o tipo do cart\u00e3o) CodigoBandeira string C\u00f3digo da bandeira do cart\u00e3o CodigoBandeiraRede string C\u00f3digo da bandeira na rede CodigoBandeiraSefaz string C\u00f3digo da Bandeira na Sefaz CodigoBandeiraTerceiro string C\u00f3digo da Bandeira do TEF de terceiro CodigoOperadora string C\u00f3digo da operadora CodigoProdutoRede string C\u00f3digo do produto da rede utilizado na transa\u00e7\u00e3o. Ser\u00e1 retornado somente para as redes que o utilizarem. CodigoRedeTerceiro string C\u00f3digo da Rede do TEF de terceiro CodigoResposta string C\u00f3digo de resposta da transa\u00e7\u00e3o. CodigoTEFTerceiro string C\u00f3digo do TEF a que se referem os campos de bandeira e rede de terceiro (1=SiTef) Data string Data que a transa\u00e7\u00e3o foi efetuada Hora string Hora que a transa\u00e7\u00e3o foi efetuada NomeBandeira string Nome da bandeira do cart\u00e3o NomeOperadora string Nome da operadora do cart\u00e3o NomePortador string Nome do portador do cart\u00e3o NumeroAutorizacaoRede string N\u00famero da autoriza\u00e7\u00e3o na rede adquirente NumeroAutorizador8 string Rede Autorizadora do Linx TEF NumeroCartao string Conte\u00fado da trilha 2 sem bytes sentinelas NumeroControle string NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroControleRede string N\u00famero do Controle da Rede NumeroControleRedeAdicional string NSU Rede para rede Stone NumeroCupom string N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroEmpresa string N\u00famero da empresa configurada no Paykit NumeroEquipamento string N\u00famero do PDV configurado no Paykit NumeroLoja string N\u00famero da loja configurada no Paykit NumeroParcelas string N\u00famero de parcelas da transa\u00e7\u00e3o TipoColetaCartao string C\u00f3digo com um d\u00edgito que representa a forma de entrada utilizada na transa\u00e7\u00e3o. <ul><li>[0] Tarja magn\u00e9tica</li><li>[1] Digitado</li><li>[2] Chip TIBC 1</li><li>[3] Chip TIBC 3</li><li>[4] Chip com contato EMV</li><li>[5] Sem contato tarja</li><li>[6] Sem contato EMV</li><li>[7] QR Code</li></ul> TipoOperacao string C\u00f3digo com dois d\u00edgitos que representa a forma de parcelamento utilizada na transa\u00e7\u00e3o.<ul><li>[AV] \u00c0 Vista</li><li>[FL] Financiamento Lojista (sem juros)</li><li>[FA] Financiamento Administradora (com juros)</li></ul> TipoRegistro string C\u00f3digo com tr\u00eas d\u00edgitos que representa a o tipo da transa\u00e7\u00e3o efetuada. <ul><li>[CCR] Cart\u00e3o de Cr\u00e9dito</li></ul> ValorDesconto string Valor do desconto ValorFinal string Valor final da transa\u00e7\u00e3o (Original \u2013 Desconto) ValorOriginal string Valor original da transa\u00e7\u00e3o ValorParcela string 10 inteiros, 2 decimais ValorTaxaEmbarque string 10 inteiros, 2 decimais ValorTaxaServico string 10 inteiros, 2 decimais ValorTransacao string 10 inteiros, 2 decimais VencimentoCartao string Formato MMAA"},{"location":"pages/LogTransacoes/ObterLogTransacao/#ccd-transacao-cartao-crediario","title":"CCD (Transa\u00e7\u00e3o Cart\u00e3o Credi\u00e1rio)","text":"Clique para mostrar o Objeto Par\u00e2metro Tipo Observa\u00e7\u00e3o CNPJRedeAdquirente string CNPJ da rede adquirente CodigoBandeira string C\u00f3digo da bandeira do cart\u00e3o CodigoBandeiraRede string C\u00f3digo da bandeira na rede CodigoBandeiraSefaz string C\u00f3digo da Bandeira na Sefaz CodigoBandeiraTerceiro string C\u00f3digo da Bandeira do TEF de terceiro CodigoOperadora string C\u00f3digo da operadora CodigoProdutoRede string C\u00f3digo do produto da rede utilizado na transa\u00e7\u00e3o. Ser\u00e1 retornado somente para as redes que o utilizarem. CodigoRedeTerceiro string C\u00f3digo da Rede do TEF de terceiro CodigoResposta string C\u00f3digo de resposta da transa\u00e7\u00e3o. CodigoTEFTerceiro string C\u00f3digo do TEF a que se referem os campos de bandeira e rede de terceiro (1=SiTef) Data string Data que a transa\u00e7\u00e3o foi efetuada DataDebito string  Data da parcela (transa\u00e7\u00e3o parcelada) ou Data de d\u00e9bito (transa\u00e7\u00e3o pr\u00e9-datada) Hora string Hora que a transa\u00e7\u00e3o foi efetuada NomeBandeira string Nome da bandeira do cart\u00e3o NomeOperadora string Nome da operadora do cart\u00e3o NomePortador string Nome do portador do cart\u00e3o NumeroAutorizacaoRede string N\u00famero da autoriza\u00e7\u00e3o na rede adquirente NumeroAutorizador8 string Rede Autorizadora do Linx TEF NumeroCartao string Conte\u00fado da trilha 2 sem bytes sentinelas NumeroControle string NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroControleRede string N\u00famero do Controle da Rede NumeroControleRedeAdicional string NSU Rede para rede Stone NumeroCupom string N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroEmpresa string N\u00famero da empresa configurada no Paykit NumeroEquipamento string N\u00famero do PDV configurado no Paykit NumeroLoja string N\u00famero da loja configurada no Paykit NumeroParcelas string N\u00famero de parcelas da transa\u00e7\u00e3o TipoColetaCartao string C\u00f3digo com um d\u00edgito que representa a forma de entrada utilizada na transa\u00e7\u00e3o. <ul><li>[0] Tarja magn\u00e9tica</li><li>[1] Digitado</li><li>[2] Chip TIBC 1</li><li>[3] Chip TIBC 3</li><li>[4] Chip com contato EMV</li><li>[5] Sem contato tarja</li><li>[6] Sem contato EMV</li><li>[7] QR Code</li></ul> TipoOperacao string C\u00f3digo com dois d\u00edgitos que representa a forma de parcelamento utilizada na transa\u00e7\u00e3o. <ul><li>[PC] Parcelada (com juros)</li></ul> TipoRegistro string C\u00f3digo com tr\u00eas d\u00edgitos que representa a o tipo da transa\u00e7\u00e3o efetuada. <ul><li>[CCD] Cart\u00e3o Credi\u00e1rio</li></ul> ValorDesconto string Valor do desconto ValorFinal string Valor final da transa\u00e7\u00e3o (Original \u2013 Desconto) ValorOriginal string Valor original da transa\u00e7\u00e3o ValorParcela string 10 inteiros, 2 decimais ValorTransacao string 10 inteiros, 2 decimais VencimentoCartao string Formato MMAA"},{"location":"pages/LogTransacoes/ObterLogTransacao/#cdb-transacao-cartao-de-debito","title":"CDB (Transa\u00e7\u00e3o Cart\u00e3o de D\u00e9bito)","text":"Clique para mostrar o Objeto Par\u00e2metro Tipo Observa\u00e7\u00e3o CNPJRedeAdquirente string CNPJ da rede adquirente CartaoPrePago string Indicativo se \u00e9 um cart\u00e3o pr\u00e9-pago: 'S' (Sim), 'N' (N\u00e3o) ou ' ' (para redes que n\u00e3o informam o tipo do cart\u00e3o) CodigoBandeira string C\u00f3digo da bandeira do cart\u00e3o CodigoBandeiraRede string C\u00f3digo da bandeira na rede CodigoBandeiraSefaz string C\u00f3digo da Bandeira na Sefaz CodigoBandeiraTerceiro string C\u00f3digo da Bandeira do TEF de terceiro CodigoOperadora string C\u00f3digo da operadora CodigoProdutoRede string C\u00f3digo do produto da rede utilizado na transa\u00e7\u00e3o. Ser\u00e1 retornado somente para as redes que o utilizarem. CodigoRedeTerceiro string C\u00f3digo da Rede do TEF de terceiro CodigoResposta string C\u00f3digo de resposta da transa\u00e7\u00e3o. CodigoSupervisor string C\u00f3digo do Supervisor autorizador da Transa\u00e7\u00e3o For\u00e7ada CodigoTEFTerceiro string C\u00f3digo do TEF a que se referem os campos de bandeira e rede de terceiro (1=SiTef) Data string Data que a transa\u00e7\u00e3o foi efetuada DataDebito string  Data da parcela (transa\u00e7\u00e3o parcelada) ou Data de d\u00e9bito (transa\u00e7\u00e3o pr\u00e9-datada) Hora string Hora que a transa\u00e7\u00e3o foi efetuada NomeBandeira string Nome da bandeira do cart\u00e3o NomeOperadora string Nome da operadora do cart\u00e3o NomePortador string Nome do portador do cart\u00e3o NumeroAutorizacaoRede string N\u00famero da autoriza\u00e7\u00e3o na rede adquirente NumeroAutorizador8 string Rede Autorizadora do Linx TEF NumeroCartao string Conte\u00fado da trilha 2 sem bytes sentinelas NumeroControle string NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroControleRede string N\u00famero do Controle da Rede NumeroControleRedeAdicional string NSU Rede para rede Stone NumeroCupom string N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroEmpresa string N\u00famero da empresa configurada no Paykit NumeroEquipamento string N\u00famero do PDV configurado no Paykit NumeroLoja string N\u00famero da loja configurada no Paykit NumeroParcelas string N\u00famero de parcelas da transa\u00e7\u00e3o TipoColetaCartao string C\u00f3digo com um d\u00edgito que representa a forma de entrada utilizada na transa\u00e7\u00e3o. <ul><li>[0] Tarja magn\u00e9tica</li><li>[1] Digitado</li><li>[2] Chip TIBC 1</li><li>[3] Chip TIBC 3</li><li>[4] Chip com contato EMV</li><li>[5] Sem contato tarja</li><li>[6] Sem contato EMV</li><li>[7] QR Code</li></ul> TipoOperacao string C\u00f3digo com dois d\u00edgitos que representa a forma de parcelamento utilizada na transa\u00e7\u00e3o. <ul><li>[PS] Parcelada (sem juros)</li><li>[PC] Parcelada (com juros)</li><li>[PD] Pr\u00e9-datada</li></ul> TipoRegistro string C\u00f3digo com tr\u00eas d\u00edgitos que representa a o tipo da transa\u00e7\u00e3o efetuada. <ul><li>[CDB] Cart\u00e3o de D\u00e9bito</li></ul> TipoTransacao string <ul><li>[0] Transa\u00e7\u00e3o Normal</li><li>[1] Transa\u00e7\u00e3o For\u00e7ada</li></ul> ValorDesconto string Valor do desconto ValorFinal string Valor final da transa\u00e7\u00e3o (Original \u2013 Desconto) ValorOriginal string Valor original da transa\u00e7\u00e3o ValorParcela string 10 inteiros, 2 decimais ValorSaque string 10 inteiros, 2 decimais ValorTaxaEmbarque string 10 inteiros, 2 decimais ValorTaxaServico string 10 inteiros, 2 decimais ValorTransacao string 10 inteiros, 2 decimais VencimentoCartao string Formato MMAA"},{"location":"pages/LogTransacoes/ObterLogTransacao/#ccv-transacao-cartao-voucher","title":"CCV (Transa\u00e7\u00e3o Cart\u00e3o Voucher)","text":"Clique para mostrar o Objeto Par\u00e2metro Tipo Observa\u00e7\u00e3o CNPJRedeAdquirente string CNPJ da rede adquirente CodigoBandeira string C\u00f3digo da bandeira do cart\u00e3o CodigoBandeiraRede string C\u00f3digo da bandeira na rede CodigoBandeiraSefaz string C\u00f3digo da Bandeira na Sefaz CodigoBandeiraTerceiro string C\u00f3digo da Bandeira do TEF de terceiro CodigoOperadora string C\u00f3digo da operadora CodigoProdutoRede string C\u00f3digo do produto da rede utilizado na transa\u00e7\u00e3o. Ser\u00e1 retornado somente para as redes que o utilizarem. CodigoRedeTerceiro string C\u00f3digo da Rede do TEF de terceiro CodigoResposta string C\u00f3digo de resposta da transa\u00e7\u00e3o. CodigoTEFTerceiro string C\u00f3digo do TEF a que se referem os campos de bandeira e rede de terceiro (1=SiTef) Data string Data que a transa\u00e7\u00e3o foi efetuada Hora string Hora que a transa\u00e7\u00e3o foi efetuada NomeBandeira string Nome da bandeira do cart\u00e3o NomeOperadora string Nome da operadora do cart\u00e3o NomePortador string Nome do portador do cart\u00e3o NumeroAutorizacaoRede string N\u00famero da autoriza\u00e7\u00e3o na rede adquirente NumeroAutorizador8 string Rede Autorizadora do Linx TEF NumeroCartao string Conte\u00fado da trilha 2 sem bytes sentinelas NumeroControle string NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroControleRede string N\u00famero do Controle da Rede NumeroControleRedeAdicional string NSU Rede para rede Stone NumeroCupom string N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroEmpresa string N\u00famero da empresa configurada no Paykit NumeroEquipamento string N\u00famero do PDV configurado no Paykit NumeroLoja string N\u00famero da loja configurada no Paykit TipoColetaCartao string C\u00f3digo com um d\u00edgito que representa a forma de entrada utilizada na transa\u00e7\u00e3o. <ul><li>[0] Tarja magn\u00e9tica</li><li>[1] Digitado</li><li>[2] Chip TIBC 1</li><li>[3] Chip TIBC 3</li><li>[4] Chip com contato EMV</li><li>[5] Sem contato tarja</li><li>[6] Sem contato EMV</li><li>[7] QR Code</li></ul> TipoRegistro string C\u00f3digo com tr\u00eas d\u00edgitos que representa a o tipo da transa\u00e7\u00e3o efetuada. <ul><li>[CCV] Cart\u00e3o Voucher</li></ul> ValorDesconto string Valor do desconto ValorFinal string Valor final da transa\u00e7\u00e3o (Original \u2013 Desconto) ValorOriginal string Valor original da transa\u00e7\u00e3o ValorTransacao string 10 inteiros, 2 decimais VencimentoCartao string Formato MMAA"},{"location":"pages/LogTransacoes/ObterLogTransacao/#cnc-transacao-de-cancelamento","title":"CNC (Transa\u00e7\u00e3o De Cancelamento)","text":"Clique para mostrar o Objeto Par\u00e2metro Tipo Observa\u00e7\u00e3o CNPJRedeAdquirente string CNPJ da rede adquirente CodigoBandeira string C\u00f3digo da bandeira do cart\u00e3o CodigoBandeiraRede string C\u00f3digo da bandeira na rede CodigoBandeiraSefaz string C\u00f3digo da Bandeira na Sefaz CodigoBandeiraTerceiro string C\u00f3digo da Bandeira do TEF de terceiro CodigoOperadora string C\u00f3digo da operadora CodigoProdutoRede string C\u00f3digo do produto da rede utilizado na transa\u00e7\u00e3o. Ser\u00e1 retornado somente para as redes que o utilizarem. CodigoRedeTerceiro string C\u00f3digo da Rede do TEF de terceiro CodigoResposta string C\u00f3digo de resposta da transa\u00e7\u00e3o. CodigoTEFTerceiro string C\u00f3digo do TEF a que se referem os campos de bandeira e rede de terceiro (1=SiTef) Data string Data que a transa\u00e7\u00e3o foi efetuada Hora string Hora que a transa\u00e7\u00e3o foi efetuada NomeBandeira string Nome da bandeira do cart\u00e3o NomeOperadora string Nome da operadora do cart\u00e3o NomePortador string Nome do portador do cart\u00e3o NumeroAutorizacaoRede string N\u00famero da autoriza\u00e7\u00e3o na rede adquirente NumeroAutorizador8 string Rede Autorizadora do Linx TEF NumeroCartao string Conte\u00fado da trilha 2 sem bytes sentinelas NumeroControle string NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroControleRede string N\u00famero do Controle da Rede NumeroControleRedeAdicional string NSU Rede para rede Stone NumeroCupom string N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroEmpresa string N\u00famero da empresa configurada no Paykit NumeroEquipamento string N\u00famero do PDV configurado no Paykit NumeroLoja string N\u00famero da loja configurada no Paykit TipoColetaCartao string C\u00f3digo com um d\u00edgito que representa a forma de entrada utilizada na transa\u00e7\u00e3o. <ul><li>[0] Tarja magn\u00e9tica</li><li>[1] Digitado</li><li>[2] Chip TIBC 1</li><li>[3] Chip TIBC 3</li><li>[4] Chip com contato EMV</li><li>[5] Sem contato tarja</li><li>[6] Sem contato EMV</li><li>[7] QR Code</li></ul> TipoRegistro string C\u00f3digo com tr\u00eas d\u00edgitos que representa a o tipo da transa\u00e7\u00e3o efetuada. <ul><li>[CNC] Cancelamento</li></ul> ValorDesconto string Valor do desconto ValorFinal string Valor final da transa\u00e7\u00e3o (Original \u2013 Desconto) ValorOriginal string Valor original da transa\u00e7\u00e3o ValorTransacao string 10 inteiros, 2 decimais VencimentoCartao string Formato MMAA"},{"location":"pages/LogTransacoes/ObterLogTransacao/#cpr-cartao-private-label","title":"CPR (Cart\u00e3o Private Label)","text":""},{"location":"pages/LogTransacoes/ObterLogTransacao/#cpl-consulta-private-label","title":"CPL (Consulta Private Label)","text":""},{"location":"pages/LogTransacoes/ObterLogTransacao/#spl-simulacao-private-label","title":"SPL (Simula\u00e7\u00e3o Private Label)","text":""},{"location":"pages/LogTransacoes/ObterLogTransacao/#fpl-pagamento-de-fatura-private-label","title":"FPL (Pagamento de Fatura Private Label)","text":"Clique para mostrar o Objeto Par\u00e2metro Tipo Observa\u00e7\u00e3o CNPJRedeAdquirente string CNPJ da rede adquirente CodigoBandeira string C\u00f3digo da bandeira do cart\u00e3o CodigoBandeiraRede string C\u00f3digo da bandeira na rede CodigoBandeiraSefaz string C\u00f3digo da Bandeira na Sefaz CodigoBandeiraTerceiro string C\u00f3digo da Bandeira do TEF de terceiro CodigoItem string C\u00f3digo do item CodigoOperadora string C\u00f3digo da operadora CodigoProdutoRede string C\u00f3digo do produto da rede utilizado na transa\u00e7\u00e3o. Ser\u00e1 retornado somente para as redes que o utilizarem. CodigoRedeTerceiro string C\u00f3digo da Rede do TEF de terceiro CodigoResposta string C\u00f3digo de resposta da transa\u00e7\u00e3o. CodigoTEFTerceiro string C\u00f3digo do TEF a que se referem os campos de bandeira e rede de terceiro (1=SiTef) Data string Data que a transa\u00e7\u00e3o foi efetuada Hora string Hora que a transa\u00e7\u00e3o foi efetuada NomeBandeira string Nome da bandeira do cart\u00e3o NomeOperadora string Nome da operadora do cart\u00e3o NomePortador string Nome do portador do cart\u00e3o NumeroAutorizacaoRede string N\u00famero da autoriza\u00e7\u00e3o na rede adquirente NumeroAutorizador8 string Rede Autorizadora do Linx TEF NumeroCartao string Conte\u00fado da trilha 2 sem bytes sentinelas NumeroControle string NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroControleRede string N\u00famero do Controle da Rede NumeroControleRedeAdicional string NSU Rede para rede Stone NumeroCupom string N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroEmpresa string N\u00famero da empresa configurada no Paykit NumeroEquipamento string N\u00famero do PDV configurado no Paykit NumeroLoja string N\u00famero da loja configurada no Paykit NumeroParcelas string N\u00famero de parcelas da transa\u00e7\u00e3o PlanoPagamento string Plano informado pelo operador TipoColetaCartao string C\u00f3digo com um d\u00edgito que representa a forma de entrada utilizada na transa\u00e7\u00e3o. <ul><li>[0] Tarja magn\u00e9tica</li><li>[1] Digitado</li><li>[2] Chip TIBC 1</li><li>[3] Chip TIBC 3</li><li>[4] Chip com contato EMV</li><li>[5] Sem contato tarja</li><li>[6] Sem contato EMV</li><li>[7] QR Code</li></ul> TipoOperacao string C\u00f3digo com dois d\u00edgitos que representa a forma de parcelamento utilizada na transa\u00e7\u00e3o.<ul><li>[AV] \u00c0 Vista</li><li>[FL] Financiamento Lojista (sem juros)</li><li>[FA] Financiamento Administradora (com juros)</li></ul> TipoRegistro string C\u00f3digo com tr\u00eas d\u00edgitos que representa a o tipo da transa\u00e7\u00e3o efetuada. <ul><li>[CPR] Cart\u00e3o Private Label</li><li>[CPL] Consulta Private Label</li><li>[SPL] Simula\u00e7\u00e3o Private Label</li><li>[FPL] Pagamento de fatura Private Label</li></ul> ValorDesconto string 10 inteiros, 2 decimais ValorEntrada string 10 inteiros, 2 decimais ValorFinal string Valor final da transa\u00e7\u00e3o (Original \u2013 Desconto). 10 inteiros, 2 decimais ValorOriginal string 10 inteiros, 2 decimais ValorTaxaServico string 10 inteiros, 2 decimais ValorTransacao string 10 inteiros, 2 decimais VencimentoCartao string Formato MMAA VencimentosaPular string N\u00famero de vencimentos a pular"},{"location":"pages/LogTransacoes/ObterLogTransacao/#qrc-transacao-qr-code","title":"QRC (Transa\u00e7\u00e3o QR Code)","text":"Clique para mostrar o Objeto Par\u00e2metro Tipo Observa\u00e7\u00e3o CNPJRedeAdquirente string CNPJ da rede adquirente CodigoBandeira string C\u00f3digo da bandeira do cart\u00e3o CodigoBandeiraRede string C\u00f3digo da bandeira na rede CodigoBandeiraSefaz string C\u00f3digo da Bandeira na Sefaz CodigoBandeiraTerceiro string C\u00f3digo da Bandeira do TEF de terceiro CodigoProdutoRede string C\u00f3digo do produto da rede utilizado na transa\u00e7\u00e3o. Ser\u00e1 retornado somente para as redes que o utilizarem. CodigoPSP string C\u00f3digo do PSP CodigoRedeTerceiro string C\u00f3digo da Rede do TEF de terceiro CodigoResposta string C\u00f3digo de resposta da transa\u00e7\u00e3o. CodigoTEFTerceiro string C\u00f3digo do TEF a que se referem os campos de bandeira e rede de terceiro (1=SiTef) Data string Data que a transa\u00e7\u00e3o foi efetuada Hora string Hora que a transa\u00e7\u00e3o foi efetuada IdEndToEnd string ID PIX Gerado pelo Banco Central remaining_amount string (QRLinx) Valor que foi pago pelo cliente. multiPsp boolean (QRLinx) Identifica\u00e7\u00e3o se a transa\u00e7\u00e3o ocorreu com o provedor prim\u00e1rio ou secund\u00e1rio, devido a instabilidades nos PSPs de PIX. NomeBandeira string Nome da bandeira do cart\u00e3o NomeOperadora string Nome da operadora do cart\u00e3o NomePortador string Nome do portador do cart\u00e3o NomePSP string Nome do PSP NumeroAutorizacaoRede string N\u00famero da autoriza\u00e7\u00e3o na rede adquirente NumeroAutorizador8 string Rede Autorizadora do Linx TEF NumeroControle string NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroControleRede string N\u00famero do Controle da Rede NumeroControleRedeAdicional string NSU Rede para rede Stone NumeroCupom string N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroEmpresa string N\u00famero da empresa configurada no Paykit NumeroEquipamento string N\u00famero do PDV configurado no Paykit NumeroLoja string N\u00famero da loja configurada no Paykit TipoRegistro string C\u00f3digo com tr\u00eas d\u00edgitos que representa a o tipo da transa\u00e7\u00e3o efetuada. <ul><li>[QRC] QR Code</li></ul> ValorDesconto string Valor do desconto ValorFinal string Valor final da transa\u00e7\u00e3o (Original \u2013 Desconto) ValorOriginal string Valor original da transa\u00e7\u00e3o ValorTransacao string 10 inteiros, 2 decimais"},{"location":"pages/LogTransacoes/ObterLogTransacao/#paa-transacao-acrescimo-de-pre-autorizacao","title":"PAA (Transa\u00e7\u00e3o Acr\u00e9scimo de Pr\u00e9 Autoriza\u00e7\u00e3o)","text":"Clique para mostrar o Objeto Par\u00e2metro Tipo Observa\u00e7\u00e3o CNPJRedeAdquirente string CNPJ da rede adquirente CPFouCNPJ string CPF ou CNPJ retornado na transa\u00e7\u00e3o CartaoPrePago string Indicativo se \u00e9 um cart\u00e3o pr\u00e9-pago: 'S' (Sim), 'N' (N\u00e3o) ou ' ' (para redes que n\u00e3o informam o tipo do cart\u00e3o) CodigoBandeira string C\u00f3digo da bandeira do cart\u00e3o CodigoBandeiraRede string C\u00f3digo da bandeira na rede CodigoBandeiraSefaz string C\u00f3digo da Bandeira na Sefaz CodigoBandeiraTerceiro string C\u00f3digo da Bandeira do TEF de terceiro CodigoOperadora string C\u00f3digo da operadora CodigoProdutoRede string C\u00f3digo do produto da rede utilizado na transa\u00e7\u00e3o. Ser\u00e1 retornado somente para as redes que o utilizarem. CodigoRedeTerceiro string C\u00f3digo da Rede do TEF de terceiro CodigoResposta string C\u00f3digo de resposta da transa\u00e7\u00e3o. CodigoTEFTerceiro string C\u00f3digo do TEF a que se referem os campos de bandeira e rede de terceiro (1=SiTef) Data string Data que a transa\u00e7\u00e3o foi efetuada Hora string Hora que a transa\u00e7\u00e3o foi efetuada NomeBandeira string Nome da bandeira do cart\u00e3o NomeOperadora string Nome da operadora do cart\u00e3o NomePortador string Nome do portador do cart\u00e3o NumeroAutorizacaoRede string N\u00famero da autoriza\u00e7\u00e3o na rede adquirente NumeroAutorizador8 string Rede Autorizadora do Linx TEF NumeroCartao string Conte\u00fado da trilha 2 sem bytes sentinelas NumeroControle string NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroControleRede string N\u00famero do Controle da Rede NumeroControleRedeAdicional string NSU Rede para rede Stone NumeroCupom string N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroEmpresa string N\u00famero da empresa configurada no Paykit NumeroEquipamento string N\u00famero do PDV configurado no Paykit NumeroLoja string N\u00famero da loja configurada no Paykit NumeroParcelas string N\u00famero de parcelas da transa\u00e7\u00e3o TipoColetaCartao string C\u00f3digo com um d\u00edgito que representa a forma de entrada utilizada na transa\u00e7\u00e3o. <ul><li>[0] Tarja magn\u00e9tica</li><li>[1] Digitado</li><li>[2] Chip TIBC 1</li><li>[3] Chip TIBC 3</li><li>[4] Chip com contato EMV</li><li>[5] Sem contato tarja</li><li>[6] Sem contato EMV</li><li>[7] QR Code</li></ul> TipoOperacao string C\u00f3digo com dois d\u00edgitos que representa a forma de parcelamento utilizada na transa\u00e7\u00e3o.<ul><li>[AV] \u00c0 Vista</li><li>[FL] Financiamento Lojista (sem juros)</li><li>[FA] Financiamento Administradora (com juros)</li></ul> TipoRegistro string C\u00f3digo com tr\u00eas d\u00edgitos que representa a o tipo da transa\u00e7\u00e3o efetuada. <ul><li>[PAA] Acr\u00e9scimo Pr\u00e9 Autoriza\u00e7\u00e3o</li></ul> ValorDesconto string Valor do desconto ValorFinal string Valor final da transa\u00e7\u00e3o (Original \u2013 Desconto) ValorOriginal string Valor original da transa\u00e7\u00e3o ValorParcela string 10 inteiros, 2 decimais ValorTaxaEmbarque string 10 inteiros, 2 decimais ValorTaxaServico string 10 inteiros, 2 decimais ValorTransacao string 10 inteiros, 2 decimais VencimentoCartao string Formato MMAA"},{"location":"pages/LogTransacoes/ObterLogTransacao/#cfp-transacao-confirmacao-de-pre-autorizacao","title":"CFP (Transa\u00e7\u00e3o Confirma\u00e7\u00e3o de Pr\u00e9 Autoriza\u00e7\u00e3o)","text":"Clique para mostrar o Objeto Par\u00e2metro Tipo Observa\u00e7\u00e3o CNPJRedeAdquirente string CNPJ da rede adquirente CPFouCNPJ string CPF ou CNPJ retornado na transa\u00e7\u00e3o CartaoPrePago string Indicativo se \u00e9 um cart\u00e3o pr\u00e9-pago: 'S' (Sim), 'N' (N\u00e3o) ou ' ' (para redes que n\u00e3o informam o tipo do cart\u00e3o) CodigoBandeira string C\u00f3digo da bandeira do cart\u00e3o CodigoBandeiraRede string C\u00f3digo da bandeira na rede CodigoBandeiraSefaz string C\u00f3digo da Bandeira na Sefaz CodigoBandeiraTerceiro string C\u00f3digo da Bandeira do TEF de terceiro CodigoOperadora string C\u00f3digo da operadora CodigoProdutoRede string C\u00f3digo do produto da rede utilizado na transa\u00e7\u00e3o. Ser\u00e1 retornado somente para as redes que o utilizarem. CodigoRedeTerceiro string C\u00f3digo da Rede do TEF de terceiro CodigoResposta string C\u00f3digo de resposta da transa\u00e7\u00e3o. CodigoTEFTerceiro string C\u00f3digo do TEF a que se referem os campos de bandeira e rede de terceiro (1=SiTef) Data string Data que a transa\u00e7\u00e3o foi efetuada Hora string Hora que a transa\u00e7\u00e3o foi efetuada NomeBandeira string Nome da bandeira do cart\u00e3o NomeOperadora string Nome da operadora do cart\u00e3o NomePortador string Nome do portador do cart\u00e3o NumeroAutorizacaoRede string N\u00famero da autoriza\u00e7\u00e3o na rede adquirente NumeroAutorizador8 string Rede Autorizadora do Linx TEF NumeroCartao string Conte\u00fado da trilha 2 sem bytes sentinelas NumeroControle string NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroControleRede string N\u00famero do Controle da Rede NumeroControleRedeAdicional string NSU Rede para rede Stone NumeroCupom string N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroEmpresa string N\u00famero da empresa configurada no Paykit NumeroEquipamento string N\u00famero do PDV configurado no Paykit NumeroLoja string N\u00famero da loja configurada no Paykit NumeroParcelas string N\u00famero de parcelas da transa\u00e7\u00e3o TipoColetaCartao string C\u00f3digo com um d\u00edgito que representa a forma de entrada utilizada na transa\u00e7\u00e3o. <ul><li>[0] Tarja magn\u00e9tica</li><li>[1] Digitado</li><li>[2] Chip TIBC 1</li><li>[3] Chip TIBC 3</li><li>[4] Chip com contato EMV</li><li>[5] Sem contato tarja</li><li>[6] Sem contato EMV</li><li>[7] QR Code</li></ul> TipoOperacao string C\u00f3digo com dois d\u00edgitos que representa a forma de parcelamento utilizada na transa\u00e7\u00e3o.<ul><li>[AV] \u00c0 Vista</li><li>[FL] Financiamento Lojista (sem juros)</li><li>[FA] Financiamento Administradora (com juros)</li></ul> TipoRegistro string C\u00f3digo com tr\u00eas d\u00edgitos que representa a o tipo da transa\u00e7\u00e3o efetuada. <ul><li>[CFP] Confirma\u00e7\u00e3o de pr\u00e9-autoriza\u00e7\u00e3o</li></ul> ValorDesconto string Valor do desconto ValorFinal string Valor final da transa\u00e7\u00e3o (Original \u2013 Desconto) ValorOriginal string Valor original da transa\u00e7\u00e3o ValorParcela string 10 inteiros, 2 decimais ValorTaxaEmbarque string 10 inteiros, 2 decimais ValorTaxaServico string 10 inteiros, 2 decimais ValorTransacao string 10 inteiros, 2 decimais VencimentoCartao string Formato MMAA"},{"location":"pages/LogTransacoes/ObterLogTransacao/#fro-transacao-frota","title":"FRO (Transa\u00e7\u00e3o Frota)","text":"Clique para mostrar o Objeto Par\u00e2metro Tipo Observa\u00e7\u00e3o CNPJRedeAdquirente string CNPJ da rede adquirente CodigoBandeira string C\u00f3digo da bandeira do cart\u00e3o CodigoBandeiraRede string C\u00f3digo da bandeira na rede CodigoBandeiraSefaz string C\u00f3digo da Bandeira na Sefaz CodigoBandeiraTerceiro string C\u00f3digo da Bandeira do TEF de terceiro CodigoCondutor string C\u00f3digo do condutor CodigoOperadora string C\u00f3digo da operadora CodigoProdutoRede string C\u00f3digo do produto da rede utilizado na transa\u00e7\u00e3o. Ser\u00e1 retornado somente para as redes que o utilizarem. CodigoRedeTerceiro string C\u00f3digo da Rede do TEF de terceiro CodigoResposta string C\u00f3digo de resposta da transa\u00e7\u00e3o. CodigoTEFTerceiro string C\u00f3digo do TEF a que se referem os campos de bandeira e rede de terceiro (1=SiTef) CodigoVeiculo string C\u00f3digo do ve\u00edculo Data string Data que a transa\u00e7\u00e3o foi efetuada Hora string Hora que a transa\u00e7\u00e3o foi efetuada Kilometragem string Od\u00f4metro do ve\u00edculo NomeBandeira string Nome da bandeira do cart\u00e3o NomeOperadora string Nome da operadora do cart\u00e3o NomePortador string Nome do portador do cart\u00e3o NumeroAutorizacaoRede string N\u00famero da autoriza\u00e7\u00e3o na rede adquirente NumeroAutorizador8 string Rede Autorizadora do Linx TEF NumeroCartao string Conte\u00fado da trilha 2 sem bytes sentinelas NumeroControle string NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroControleRede string N\u00famero do Controle da Rede NumeroControleRedeAdicional string NSU Rede para rede Stone NumeroCupom string N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroEmpresa string N\u00famero da empresa configurada no Paykit NumeroEquipamento string N\u00famero do PDV configurado no Paykit NumeroLoja string N\u00famero da loja configurada no Paykit TipoColetaCartao string C\u00f3digo com um d\u00edgito que representa a forma de entrada utilizada na transa\u00e7\u00e3o. <ul><li>[0] Tarja magn\u00e9tica</li><li>[1] Digitado</li><li>[2] Chip TIBC 1</li><li>[3] Chip TIBC 3</li><li>[4] Chip com contato EMV</li><li>[5] Sem contato tarja</li><li>[6] Sem contato EMV</li><li>[7] QR Code</li></ul> TipoProduto string C\u00f3digo com um d\u00edgito que representa o tipo de produto da transa\u00e7\u00e3o. <ul><li>[0] Pr\u00e9-Pago (VCE)</li><li>[1] P\u00f3s-Pago (MaxiFrota)</li><li>[2] Outros</li></ul> TipoRegistro string C\u00f3digo com tr\u00eas d\u00edgitos que representa a o tipo da transa\u00e7\u00e3o efetuada. <ul><li>[FRO]  Cart\u00e3o Frota</li></ul> ValorDesconto string Valor do desconto ValorFinal string Valor final da transa\u00e7\u00e3o (Original \u2013 Desconto) ValorOriginal string Valor original da transa\u00e7\u00e3o ValorTransacao string 10 inteiros, 2 decimais VencimentoCartao string Formato MMAA"},{"location":"pages/LogTransacoes/ObterLogTransacao/#cpp-cartao-pre-pago","title":"CPP (Cart\u00e3o Pr\u00e9-Pago)","text":"Clique para mostrar o Objeto Par\u00e2metro Tipo Observa\u00e7\u00e3o CNPJRedeAdquirente string CNPJ da rede adquirente CodigoBandeira string C\u00f3digo da bandeira do cart\u00e3o CodigoBandeiraRede string C\u00f3digo da bandeira na rede CodigoBandeiraSefaz string C\u00f3digo da Bandeira na Sefaz CodigoBandeiraTerceiro string C\u00f3digo da Bandeira do TEF de terceiro CodigoOperadora string C\u00f3digo da operadora CodigoProdutoRede string C\u00f3digo do produto da rede utilizado na transa\u00e7\u00e3o. Ser\u00e1 retornado somente para as redes que o utilizarem. CodigoRedeTerceiro string C\u00f3digo da Rede do TEF de terceiro CodigoResposta string C\u00f3digo de resposta da transa\u00e7\u00e3o. CodigoTEFTerceiro string C\u00f3digo do TEF a que se referem os campos de bandeira e rede de terceiro (1=SiTef) Data string Data que a transa\u00e7\u00e3o foi efetuada Hora string Hora que a transa\u00e7\u00e3o foi efetuada NomeBandeira string Nome da bandeira do cart\u00e3o NomeOperadora string Nome da operadora do cart\u00e3o NomePortador string Nome do portador do cart\u00e3o NumeroAutorizacaoRede string N\u00famero da autoriza\u00e7\u00e3o na rede adquirente NumeroAutorizador8 string Rede Autorizadora do Linx TEF NumeroCartao string Conte\u00fado da trilha 2 sem bytes sentinelas NumeroControle string NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroControleRede string N\u00famero do Controle da Rede NumeroControleRedeAdicional string NSU Rede para rede Stone NumeroCupom string N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroEmpresa string N\u00famero da empresa configurada no Paykit NumeroEquipamento string N\u00famero do PDV configurado no Paykit NumeroLoja string N\u00famero da loja configurada no Paykit TipoOperacao string C\u00f3digo com dois d\u00edgitos que representa o tipo de opera\u00e7\u00e3o realizada. <ul><li>[CA] Carga Cart\u00e3o</li><li>[RE] Recarga do Cart\u00e3o</li><li>[PG] Pagamento com Cart\u00e3o Pr\u00e9-pago (Vale-presente)</li><li>[CR] C\u00f3digo de Resgate de Cart\u00e3o Pr\u00e9-pago</li></ul> TipoRegistro string C\u00f3digo com tr\u00eas d\u00edgitos que representa a o tipo da transa\u00e7\u00e3o efetuada. <ul><li>[CPP] Cart\u00e3o Pr\u00e9-Pago</li></ul> ValorDesconto string Valor do desconto ValorFinal string Valor final da transa\u00e7\u00e3o (Original \u2013 Desconto) ValorOriginal string Valor original da transa\u00e7\u00e3o ValorTransacao string 10 inteiros, 2 decimais"},{"location":"pages/LogTransacoes/ObterLogTransacao/#cbp-pagamento-corban","title":"CBP (Pagamento Corban)","text":""},{"location":"pages/LogTransacoes/ObterLogTransacao/#cbc-cancelamento-corban","title":"CBC (Cancelamento Corban)","text":""},{"location":"pages/LogTransacoes/ObterLogTransacao/#cbi-inicializacao-corban","title":"CBI (Inicializa\u00e7\u00e3o Corban)","text":""},{"location":"pages/LogTransacoes/ObterLogTransacao/#cbf-finalizacao-corban","title":"CBF (Finaliza\u00e7\u00e3o Corban)","text":"Clique para mostrar o Objeto Par\u00e2metro Tipo Observa\u00e7\u00e3o CMC7 string Valor CMC7 CNPJRedeAdquirente string CNPJ da rede adquirente CodigoBandeira string C\u00f3digo da bandeira do cart\u00e3o CodigoBandeiraRede string C\u00f3digo da bandeira na rede CodigoBandeiraSefaz string C\u00f3digo da Bandeira na Sefaz CodigoBandeiraTerceiro string C\u00f3digo da Bandeira do TEF de terceiro CodigoBarras string C\u00f3digo de barras CodigoProdutoRede string C\u00f3digo do produto da rede utilizado na transa\u00e7\u00e3o. Ser\u00e1 retornado somente para as redes que o utilizarem. CodigoRedeTerceiro string C\u00f3digo da Rede do TEF de terceiro CodigoResposta string C\u00f3digo de resposta da transa\u00e7\u00e3o. CodigoTEFTerceiro string C\u00f3digo do TEF a que se referem os campos de bandeira e rede de terceiro (1=SiTef) Data string Data que a transa\u00e7\u00e3o foi efetuada DataVencimento string Formato:  FormaPagamento string C\u00f3digo com um d\u00edgito que identifica a forma de pagamento. <ul><li>[1] Dinheiro</li><li>[2] Cheque</li><li>[3] D\u00e9bito</li><li>[4] Cr\u00e9dito</li></ul> Hora string Hora que a transa\u00e7\u00e3o foi efetuada IndicativoCMC7 string C\u00f3digo com um d\u00edgito que identifica a forma de entrada do CMC7<ul><li>[1] Lido</li><li>[2] Digitado</li></ul> NomeBandeira string Nome da bandeira do cart\u00e3o NomeOperadora string Nome da operadora do cart\u00e3o NomePortador string Nome do portador do cart\u00e3o NumeroAutorizacaoRede string N\u00famero da autoriza\u00e7\u00e3o na rede adquirente NumeroControle string NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroControleRede string N\u00famero do Controle da Rede NumeroControleRedeAdicional string NSU Rede para rede Stone NumeroCupom string N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroEmpresa string N\u00famero da empresa configurada no Paykit NumeroEquipamento string N\u00famero do PDV configurado no Paykit NumeroLoja string N\u00famero da loja configurada no Paykit TipoDocumento string Indicativo da leitura do codigo de barras<ul><li>[0] Lido oticamente</li><li>[1] Digitado</li></ul> TipoRegistro string C\u00f3digo com tr\u00eas d\u00edgitos que representa a o tipo da transa\u00e7\u00e3o efetuada. <ul><li>[CPP] Cart\u00e3o Pr\u00e9-Pago</li></ul> TipoTransacao string C\u00f3digo com um d\u00edgito que identifica o tipo de transa\u00e7\u00e3o. <ul><li>[0] Pagamento</li><li>[1] Cancelamento</li></ul> ValorDesconto string Valor do desconto ValorFinal string Valor final da transa\u00e7\u00e3o (Original \u2013 Desconto) ValorOriginal string Valor original da transa\u00e7\u00e3o ValorTransacao string 10 inteiros, 2 decimais"},{"location":"pages/LogTransacoes/ObterLogTransacao/#cel-recarga-de-celular","title":"CEL (Recarga de Celular)","text":"Clique para mostrar o Objeto Par\u00e2metro Tipo Observa\u00e7\u00e3o CNPJRedeAdquirente string CNPJ da rede adquirente CodigoArea string C\u00f3digo da \u00e1rea do celular CodigoBandeira string C\u00f3digo da bandeira do cart\u00e3o CodigoBandeiraRede string C\u00f3digo da bandeira na rede CodigoBandeiraSefaz string C\u00f3digo da Bandeira na Sefaz CodigoBandeiraTerceiro string C\u00f3digo da Bandeira do TEF de terceiro CodigoOperadoraCelular string C\u00f3digo da Operadora do Celular CodigoProdutoRede string C\u00f3digo do produto da rede utilizado na transa\u00e7\u00e3o. Ser\u00e1 retornado somente para as redes que o utilizarem. CodigoRedeTerceiro string C\u00f3digo da Rede do TEF de terceiro CodigoResposta string C\u00f3digo de resposta da transa\u00e7\u00e3o. CodigoTEFTerceiro string C\u00f3digo do TEF a que se referem os campos de bandeira e rede de terceiro (1=SiTef) Data string Data que a transa\u00e7\u00e3o foi efetuada Hora string Hora que a transa\u00e7\u00e3o foi efetuada NomeBandeira string Nome da bandeira do cart\u00e3o NomeOperadoraCelular string Nome da operadora de recarga de celular NomePortador string Nome do portador do cart\u00e3o NumeroAutorizacaoRede string N\u00famero da autoriza\u00e7\u00e3o na rede adquirente NumeroAutorizador8 string Rede Autorizadora do Linx TEF NumeroControle string NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroControleRede string N\u00famero do Controle da Rede NumeroControleRedeAdicional string NSU Rede para rede Stone NumeroCupom string N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroEmpresa string N\u00famero da empresa configurada no Paykit NumeroEquipamento string N\u00famero do PDV configurado no Paykit NumeroLoja string N\u00famero da loja configurada no Paykit NumeroTelefone string N\u00famero do telefone TipoRegistro string C\u00f3digo com tr\u00eas d\u00edgitos que representa a o tipo da transa\u00e7\u00e3o efetuada. <ul><li>[CEL] Recarga de Celular</li></ul> ValorDesconto string Valor do desconto ValorFinal string Valor final da transa\u00e7\u00e3o (Original \u2013 Desconto) ValorOriginal string Valor original da transa\u00e7\u00e3o ValorRecarga string 10 inteiros, 2 decimais"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/","title":"Log Ultima Transa\u00e7\u00e3o (Depreciado)","text":"<p>Os m\u00e9todos abaixo foram depreciados e n\u00e3o recebem mais atualiza\u00e7\u00f5es. Para obter a vers\u00e3o mais recente utilize o m\u00e9todo Obter Log das Transa\u00e7\u00f5es</p>"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/#log-da-ultima-transacao-depreciado","title":"LOG da \u00daltima Transa\u00e7\u00e3o (DEPRECIADO)","text":"<p>procedure ObtemLogUltimaTransacao(pLogUltimaTransacao: Pchar);</p> <p>A fun\u00e7\u00e3o ObtemLogUltimaTransacao retorna informa\u00e7\u00f5es sobre a \u00faltima realizada com sucesso. Estas informa\u00e7\u00f5es s\u00e3o \u00fateis caso seja necess\u00e1rio \u00e0 automa\u00e7\u00e3o comercial registrar dados da opera\u00e7\u00e3o que tenham sido introduzidos durante a transa\u00e7\u00e3o com o Linx TEF .</p> <p>O formato dos dados de retorno corresponde ao formato do log das transa\u00e7\u00f5es. O registro \u00e9 fixo e cont\u00e9m 257 bytes, o que exigir\u00e1 portanto a aloca\u00e7\u00e3o de no m\u00ednimo esse tamanho para a \u00e1rea apontada pelo par\u00e2metro pLogUltimaTransacao na chamada da fun\u00e7\u00e3o.</p> <p>A estrutura dos logs das opera\u00e7\u00f5es de cada uma das transa\u00e7\u00f5es \u00e9 apresentada no t\u00f3pico correspondente desta se\u00e7\u00e3o.</p> <p>Caso seja necess\u00e1rio, poder\u00e1 ser passado como par\u00e2metro o valor \u201cLOGESTENDIDO\u201d e neste caso ser\u00e3o retornadas informa\u00e7\u00f5es adicionais da transa\u00e7\u00e3o. O formato do registro \u00e9 o LOG ESTENDIDO.</p> <p>Observa\u00e7\u00e3o : esta fun\u00e7\u00e3o n\u00e3o retorna os dados referentes \u00e0s transa\u00e7\u00f5es de tele-marketing. Para a(s) transa\u00e7\u00e3o(\u00f5es) de tele-marketing deve-se utilizar o m\u00e9todo abaixo.</p>"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/#log-da-ultima-transacao-tele-marketing","title":"LOG da \u00daltima Transa\u00e7\u00e3o Tele-Marketing","text":"<p>procedure ObtemLogUltimaTransacaoTeleMarketing (pNumeroPDV, pLogUltimaTransacao: Pchar);</p> <p>procedure ObtemLogUltimaTransacaoTeleMarketingMultiLoja (pNumeroEmpresa, pNumeroLoja, pNumeroPDV, pLogUltimaTransacao: Pchar);</p> <p>A fun\u00e7\u00e3o ObtemLogUltimaTransacaoTeleMarketing retorna informa\u00e7\u00f5es sobre a \u00faltima transa\u00e7\u00e3o de tele-marketing realizada com sucesso. Estas informa\u00e7\u00f5es s\u00e3o \u00fateis caso seja necess\u00e1rio registrar dados da opera\u00e7\u00e3o que tenham sido introduzidos durante a transa\u00e7\u00e3o com o Linx TEF .</p> <p>O formato dos dados de retorno corresponde ao formato do log das transa\u00e7\u00f5es. O registro \u00e9 fixo e cont\u00e9m 257 bytes, o que exigir\u00e1 portanto a aloca\u00e7\u00e3o de no m\u00ednimo esse tamanho para a \u00e1rea apontada pelo par\u00e2metro pLogUltimaTransacao na chamada da fun\u00e7\u00e3o.</p> <p>O par\u00e2metro pNumeroPDV indica o n\u00famero do terminal que solicitou a transa\u00e7\u00e3o. Caso o Paykit n\u00e3o esteja parametrizado para gerar log por terminal (default), deve-se passar \u201c000\u201d no n\u00famero do PDV para que a fun\u00e7\u00e3o retorne os dados corretamente.</p> <p>A estrutura dos logs das opera\u00e7\u00f5es \u00e9 apresentada na se\u00e7\u00e3o LOG da \u00daltima Transa\u00e7\u00e3o.</p> <p>Caso seja necess\u00e1rio, poder\u00e1 ser passado no par\u00e2metro pLogUltimaTransacao o valor \u201cLOGESTENDIDO\u201d e neste caso ser\u00e3o retornadas informa\u00e7\u00f5es adicionais da transa\u00e7\u00e3o. O formato do registro \u00e9 o LOG ESTENDIDO.</p> <p>Observa\u00e7\u00e3o : para transa\u00e7\u00f5es de telemarketing em ambientes com m\u00faltiplas threads simult\u00e2neas, dever\u00e1 ser utilizada a DLL DPOSDRVTM.DLL.</p>"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/AcrescimoPreAutorizacao/","title":"Transa\u00e7\u00e3o Acr\u00e9scimo de Pr\u00e9-Autoriza\u00e7\u00e3o","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/AcrescimoPreAutorizacao/#registro-da-transacao-acrescimo-de-pre-autorizacao","title":"Registro da Transa\u00e7\u00e3o Acr\u00e9scimo de Pr\u00e9-Autoriza\u00e7\u00e3o","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[PAA] Acr\u00e9scimo Pr\u00e9 Autoriza\u00e7\u00e3o</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais Reservado 1 A NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas Reservado 4 A TipoOperacao 2 A <ul><li>[AV] \u00c0 Vista</li></ul> DataDebito 8 N  Data da parcela Reservado 21 A CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 55 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/AcumuloDePontosResgateDePontos/","title":"Transa\u00e7\u00e3o de Ac\u00famulo de Pontos/Resgate de Pontos","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/AcumuloDePontosResgateDePontos/#registro-das-transacoes-de-resgate-e-acumulo-de-pontos","title":"Registro das Transa\u00e7\u00f5es de Resgate e Ac\u00famulo de Pontos","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[VPO] Ac\u00famulo de Pontos</li><li>[RPO] Resgate de Pontos</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais FormaPagamento 1 N <ul><li>[1] Dinheiro</li><li>[2] Cheque</li><li>[3] Cart\u00e3o</li></ul> NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras CPFCNPJ 14 A CPF ou CNPJ do cliente C\u00f3digoFuncion\u00e1rio 6 A C\u00f3digo do funcion\u00e1rio SaldoPontos 12 N Saldo de pontos PontosOpera\u00e7\u00e3o 12 N Pontos obtidos/resgatados na opera\u00e7\u00e3o CodigoResposta 2 N NumeroControleRede 12 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 12 A MensagemErro 20 A CodigoOrigem 5 N Origem da transa\u00e7\u00e3o<ul><li>[00001] Pista</li><li>[00002] BrMania</li><li>[00003] Lubrax+</li></ul> TelefoneCliente 15 A BinTransacaoCartao 6 N 6 primeiros d\u00edgitos do cart\u00e3o se a forma de pagamento foi cart\u00e3o Tipo de documento do cliente 1 A <ul><li>[F] CPF</li><li>[J] CNPJ</li><li>[C] Cart\u00e3o</li><li>[I] C\u00f3digo interno</li></ul> Documento do cliente 37 N Reservado 30 A NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/Cancelamento/","title":"Transa\u00e7\u00e3o de Cancelamento","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/Cancelamento/#registro-da-transacao-de-cancelamento","title":"Registro da Transa\u00e7\u00e3o de Cancelamento","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CNC] Cancelamento</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais TipoColetaCartao 1 N <ul><li>[0] Tarja magn\u00e9tica</li><li>[1] Digitado</li><li>[2] Chip TIBC 1</li><li>[3] Chip TIBC 3</li><li>[4] Chip com contato EMV</li><li>[5] Sem contato tarja</li><li>[6] Sem contato EMV</li><li>[7] QR Code</li></ul> NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas VencimentoCartao 4 N Formato MMAA Reservado 4 A NumeroControleCancelado 6 N NSU da transa\u00e7\u00e3o cancelada Reservado 37 A CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 55 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/CargaERecargaDeCartao/","title":"Transa\u00e7\u00e3o de Carga e Recarga de Cart\u00e3o (Pr\u00e9-Pago)","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/CargaERecargaDeCartao/#registro-da-transacao-de-carga-e-recarga-de-cartao-pre-pago","title":"Registro da Transa\u00e7\u00e3o de Carga e Recarga de Cart\u00e3o (Pr\u00e9-Pago)","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CPP] Cart\u00e3o Pr\u00e9-Pago</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais Reservado 1 A NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas Reservado 4 A TipoOperacao 2 A <ul><li>[CA] Carga Cart\u00e3o</li><li>[RE] Recarga do Cart\u00e3o</li><li>[PG] Pagamento com Cart\u00e3o Pr\u00e9-pago (Vale-presente)</li><li>[CR] C\u00f3digo de Resgate de Cart\u00e3o Pr\u00e9-pago</li></ul> Reservado 45 A CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 55 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/CartaoCrediario/","title":"Transa\u00e7\u00e3o Cart\u00e3o Credi\u00e1rio","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/CartaoCrediario/#registro-da-transacao-cartao-crediario","title":"Registro da Transa\u00e7\u00e3o Cart\u00e3o Credi\u00e1rio","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CCD] Cart\u00e3o Credi\u00e1rio</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 A Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais Reservado 1 A NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas VencimentoCartao 4 N Formato MMAA TipoOperacao 2 A <ul><li>[PC] Parcelada (com juros)</li></ul> NumeroParcelas 2 N N\u00famero de parcelas da transa\u00e7\u00e3o SequenciaParcela 2 N Seq\u00fc\u00eancia da parcela na transa\u00e7\u00e3o DataDebito 8 N  Data da parcela (transa\u00e7\u00e3o parcelada) ou Data de d\u00e9bito (transa\u00e7\u00e3o pr\u00e9-datada) ValorParcela 12 N 10 inteiros, 2 decimais Reservado 21 A CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 55 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/CartaoCredito/","title":"Transa\u00e7\u00e3o Cart\u00e3o de Cr\u00e9dito","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/CartaoCredito/#registro-da-transacao-cartao-de-credito","title":"Registro da Transa\u00e7\u00e3o Cart\u00e3o de Cr\u00e9dito","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CCR] Cart\u00e3o de Cr\u00e9dito</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais TipoColetaCartao 1 N <ul><li>[0] Tarja magn\u00e9tica</li><li>[1] Digitado</li><li>[2] Chip TIBC 1</li><li>[3] Chip TIBC 3</li><li>[4] Chip com contato EMV</li><li>[5] Sem contato tarja</li><li>[6] Sem contato EMV</li><li>[7] QR Code</li></ul> NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas VencimentoCartao 4 N Formato MMAA TipoOperacao 2 A <ul><li>[AV] \u00c0 Vista</li><li>[FL] Financiamento Lojista (sem juros)</li><li>[FA] Financiamento Administradora (com juros)</li></ul> NumeroParcelas 2 N N\u00famero de parcelas da transa\u00e7\u00e3o CartaoPrePago 1 A Indicativo se \u00e9 um cart\u00e3o pr\u00e9-pago, respostas possiveis: 'S' (Sim), 'N' (N\u00e3o) ou ' ' (para redes que n\u00e3o informam o tipo do cart\u00e3o) Reservado 9 A ValorParcela 12 N 10 inteiros, 2 decimais ValorTaxaServico 12 N 10 inteiros, 2 decimais Reservado 9 A CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A ValorTaxaEmbarque 12 N 10 inteiros, 2 decimais CPF ou CNPJ 14 A CPF ou CNPJ retornado na transa\u00e7\u00e3o Reservado 29 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/CartaoDebito/","title":"Transa\u00e7\u00e3o Cart\u00e3o de D\u00e9bito","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/CartaoDebito/#registro-da-transacao-cartao-de-debito","title":"Registro da Transa\u00e7\u00e3o Cart\u00e3o de D\u00e9bito","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CDB] Cart\u00e3o de D\u00e9bito</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 A Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais CartaoPrePago 1 A Indicativo se \u00e9 um cart\u00e3o pr\u00e9-pago, respostas possiveis: 'S' (Sim), 'N' (N\u00e3o) ou ' ' (para redes que n\u00e3o informam o tipo do cart\u00e3o) NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas VencimentoCartao 4 N Formato MMAA TipoOperacao 2 A <ul><li>[PS] Parcelada (sem juros)</li><li>[PC] Parcelada (com juros)</li><li>[PD] Pr\u00e9-datada</li></ul> NumeroParcelas 2 N N\u00famero de parcelas da transa\u00e7\u00e3o SequenciaParcela 2 N Seq\u00fc\u00eancia da parcela na transa\u00e7\u00e3o DataDebito 8 N  Data da parcela (transa\u00e7\u00e3o parcelada) ou Data de d\u00e9bito (transa\u00e7\u00e3o pr\u00e9-datada) ValorParcela 12 N 10 inteiros, 2 decimais ValorTaxaServico 12 N 10 inteiros, 2 decimais TipoTransacao 1 N <ul><li>[0] Transa\u00e7\u00e3o Normal</li><li>[1] Transa\u00e7\u00e3o For\u00e7ada</li></ul> CodigoSupervisor 8 A C\u00f3digo do Supervisor autorizador da Transa\u00e7\u00e3o For\u00e7ada CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A TextoGenerico 22 A CPF, CNPJ, Pontos Adquiridos, Fator de Compra, etc ValorSaque 12 N 10 inteiros, 2 decimais ValorTaxaEmbarque 12 N 10 inteiros, 2 decimais Reservado 3 9 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/CartaoFidelidade/","title":"Transa\u00e7\u00e3o Cart\u00e3o Fidelidade","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/CartaoFidelidade/#registro-da-transacao-cartao-fidelidade","title":"Registro da Transa\u00e7\u00e3o Cart\u00e3o Fidelidade","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CPF] Carga de Pontos Fidelidade</li><li>[DPF] D\u00e9bito de Pontos Fidelidade</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais Reservado 1 A NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas NSUCancelado 6 N NSU da transa\u00e7\u00e3o a ser cancelada NumeroDocumento 20 N Documento do cliente (CPF) PontosAdquiridos 8 N 6 inteiros 2 decimais FatorCompra 7 N 3 inteiros 4 decimais Reservado 10 A CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 63 A CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/CartaoPrivateLabel/","title":"Transa\u00e7\u00e3o Cart\u00e3o Private Label","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/CartaoPrivateLabel/#registro-da-transacao-private-label","title":"Registro da Transa\u00e7\u00e3o Private Label","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CPR] Cart\u00e3o Private Label</li><li>[CPL] Consulta Private Label</li><li>[SPL] Simula\u00e7\u00e3o Private Label</li><li>[FPL] Pagamento de fatura Private Label</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais TipoColetaCartao 1 N <ul><li>[0] Tarja magn\u00e9tica</li><li>[1] Digitado</li><li>[2] Chip TIBC 1</li><li>[3] Chip TIBC 3</li><li>[4] Chip com contato EMV</li><li>[5] Sem contato tarja</li><li>[6] Sem contato EMV</li></ul> NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas VencimentoCartao 4 N Formato MMAA TipoOperacao 2 A <ul><li>[AV] \u00c0 Vista</li><li>[FL] Financiamento Lojista (sem juros)</li><li>[FA] Financiamento Administradora (com juros)</li></ul> NumeroParcelas 2 N N\u00famero de parcelas da transa\u00e7\u00e3o Reservado 10 A ValorEntrada 12 N 10 inteiros, 2 decimais ValorTaxaServico 12 N 10 inteiros, 2 decimais Reservado 9 A CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A PlanoPagamento 5 N Plano informado pelo operador VencimentosAPular 2 A N\u00famero de vencimentos a pular CodigoItem 11 A C\u00f3digo do item FormaPagamento 1 A <ul><li>[D] para Dinheiro</li><li>[C] para Cheque</li><li>[R] para Cart\u00e3o</li></ul> Reservado 36 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/CartaoVoucher/","title":"Transa\u00e7\u00e3o Cart\u00e3o Voucher","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/CartaoVoucher/#registro-da-transacao-cartao-voucher","title":"Registro da Transa\u00e7\u00e3o Cart\u00e3o Voucher","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CCV] Cart\u00e3o Voucher</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais Reservado 1 A NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas VencimentoCartao 4 N Formato MMAA Reservado 47 A CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 55 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/Cheque/","title":"Transa\u00e7\u00e3o Cheque","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/Cheque/#registro-da-transacao-cheque","title":"Registro da Transa\u00e7\u00e3o Cheque","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CHQ] Cheque</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 A Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais TipoDocumento 1 A <ul><li>[1] CPF</li><li>[2] CNPJ</li></ul> NumeroDocumento 14 N QuantidadeCheques 2 N Quantidade de cheques da transa\u00e7\u00e3o SequenciaCheque 2 N Seq\u00fc\u00eancia do cheque na transa\u00e7\u00e3o CamaraCompensacao 3 N C\u00e2mara de compensa\u00e7\u00e3o NumeroBanco 3 N N\u00famero do banco NumeroAgencia 4 N N\u00famero da agencia NumeroContaCorrente 10 N N\u00famero da conta-corrente NumeroCheque 7 N N\u00famero do cheque com D\u00edgito verificador DataDeposito 8 N ValorCheque 12 N 10 inteiros, 2 decimais DataNascimentoCliente 8 N TelefoneCliente 12 N CMC7 50 N Conte\u00fado da trilha CMC-7 CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 18 A CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/ConfirmacaoPreAutorizacao/","title":"Transa\u00e7\u00e3o de Confirma\u00e7\u00e3o de Pr\u00e9-Autoriza\u00e7\u00e3o","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/ConfirmacaoPreAutorizacao/#registro-da-transacao-de-confirmacao-de-pre-autorizacao","title":"Registro da Transa\u00e7\u00e3o de Confirma\u00e7\u00e3o de Pr\u00e9-Autoriza\u00e7\u00e3o","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CFP] Confirma\u00e7\u00e3o de pr\u00e9-autoriza\u00e7\u00e3o</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais TipoColetaCartao 1 N <ul><li>[0] Tarja magn\u00e9tica</li><li>[1] Digitado</li><li>[2] Chip TIBC 1</li><li>[3] Chip TIBC 3</li><li>[4] Chip com contato EMV</li><li>[5] Sem contato tarja</li><li>[6] Sem contato EMV</li></ul> NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas VencimentoCartao 4 N Formato MMAA Reservado 4 A NumeroControlePreAutorizacao 6 N NSU da transa\u00e7\u00e3o de Pr\u00e9-Autoriza\u00e7\u00e3o Reservado 37 A CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 59 A NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/Deposito/","title":"Transa\u00e7\u00e3o de Dep\u00f3sito","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/Deposito/#registro-da-transacao-de-deposito","title":"Registro da Transa\u00e7\u00e3o de Dep\u00f3sito","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[DEP] Dep\u00f3sito</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais Reservado 1 A NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras Reservado 41 A TipoOperacao 2 A <ul><li>[01] Nacional</li><li>[02] Internacional</li></ul> DocEmissor 11 A N\u00famero do Documento do Emissor DocDestinatario 11 A N\u00famero do Documento do Destinat\u00e1rio Reservado 23 A CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 59 A NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/ErroTransacao/","title":"Erro da Transa\u00e7\u00e3o","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/ErroTransacao/#registro-de-erro-da-transacao","title":"Registro de erro da Transa\u00e7\u00e3o","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CDB] Cart\u00e3o de D\u00e9bito</li><li>[CCR] Cart\u00e3o de Cr\u00e9dito</li><li>[CCV] Cart\u00e3o Voucher</li><li>[CCD] Cart\u00e3o Credi\u00e1rio</li><li>[CHQ] Cheque</li><li>[PBM] Registro de venda de medicamento PBM</li><li>[CNF] Confirma\u00e7\u00e3o</li><li>[CNC] Cancelamento</li><li>[CPR] Cart\u00e3o Private Label</li><li>[CPA] Consulta Parcelas</li><li>[N\u00c3O] Concilia\u00e7\u00e3o Financeira</li><li>[CNF] Concilia\u00e7\u00e3o Financeira</li><li>[CSD] Consulta Saldo</li><li>[PRA] Pr\u00e9-Autoriza\u00e7\u00e3o</li><li>[SAQ] Saque</li><li>[DEP] Dep\u00f3sito</li><li>[SQD] Saque Transfer\u00eancia Dom\u00e9stica</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas VencimentoCartao 4 N Formato MMAA Reservado 2 A CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 64 A Reservado 63 A CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/Frota/","title":"Transa\u00e7\u00e3o de Frota","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/Frota/#registro-da-transacao-de-transacao-frota","title":"Registro da Transa\u00e7\u00e3o de Transa\u00e7\u00e3o Frota","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[FRO]  Cart\u00e3o Frota</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais TipoProduto 1 N <ul><li>[0] Pr\u00e9-Pago (VCE)</li><li>[1] P\u00f3s-Pago (MaxiFrota)</li><li>[2] Outros</li></ul> NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas VencimentoCartao 4 N Formato MMAA NumeroParcelas 2 N N\u00famero de parcelas CodigoVeiculo 8 N C\u00f3digo do ve\u00edculo CodigoCondutor 8 N C\u00f3digo do condutor Kilometragem 10 N Od\u00f4metro do ve\u00edculo Reservado 19 A Campo reservado para uso futuro CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A CodigoCombustivel 2 N C\u00f3digo do combust\u00edvel Litragem 7 N Volume abastecido Reservado 46 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/InicializacaoFinalizacao/","title":"Inicializa\u00e7\u00e3o/Finaliza\u00e7\u00e3o","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/InicializacaoFinalizacao/#registro-de-inicializacaofinalizacao","title":"Registro de Inicializa\u00e7\u00e3o/Finaliza\u00e7\u00e3o","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[INI] Inicializa\u00e7\u00e3o</li><li>[FIM] Finaliza\u00e7\u00e3o</li></ul> Data 8 N Hora 6 N Reservado 2 A NumeroEquipamento 6 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal Reservado 212 A CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/LogAdicional/","title":"LOG Adicional","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/LogAdicional/#registro-do-log-adicional","title":"Registro do LOG Adicional","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[XXX] Mesmo registro da transa\u00e7\u00e3o original</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroControle 6 N NSU (n\u00famero sequencial \u00fanico) NomeBandeira 64 A Nome da bandeira do cart\u00e3o NomeOperadora 64 A Nome da operadora do cart\u00e3o Reservado 3928 A CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/LogEstendido/","title":"LOG Estendido","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/LogEstendido/#registro-do-log-estendido","title":"Registro do LOG Estendido","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[XXX] Mesmo registro da transa\u00e7\u00e3o original</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroControle 6 N NSU (n\u00famero sequencial \u00fanico) ValorOriginal 12 N Valor original da transa\u00e7\u00e3o ValorDesconto 12 N Valor do desconto ValorFinal 12 N Valor final da transa\u00e7\u00e3o (Original \u2013 Desconto) CodigoBandeira 4 N C\u00f3digo da bandeira do cart\u00e3o (Tabela 5.0) CodigoProdutoRede 4 N C\u00f3digo do produto da rede utilizado na transa\u00e7\u00e3o. Ser\u00e1 retornado somente para as redes que o utilizarem e \u201c0000\u201d em caso contr\u00e1rio. CodigoBandeiraRede 4 N C\u00f3digo da bandeira na rede NumeroControleRede 15 A N\u00famero do Controle da Rede com 15 posi\u00e7\u00f5es (no lognormal, est\u00e1 com 9) C\u00f3digoTEFTerceiro 2 N C\u00f3digo do TEF a que se referem os campos de bandeira e rede de terceiro (1=SiTef) CodigoRedeTerceiro 8 N C\u00f3digo da Rede do TEF de terceiro CodigoBandeiraTerceiro 8 N C\u00f3digo da Bandeira do TEF de terceiro CNPJRedeAdquirente 14 N CNPJ da rede adquirente NumeroControleRedeAdicional 32 A NSU Rede para rede Stone CodigoBandeiraSefaz 4 N C\u00f3digo da Bandeira na Sefaz NomePortador 32 A Nome do portador do cart\u00e3o Reservado 54 A CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/PBM/","title":"Transa\u00e7\u00f5es PBM (Pharmacy Benefit Management)","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/PBM/#registro-da-transacao-pbm-pharmacy-benefit-management","title":"Registro da Transa\u00e7\u00e3o PBM (Pharmacy Benefit Management)","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[PBM] Registro de venda de medicamento PBM</li><li>[PPA] Pr\u00e9-Autoriza\u00e7\u00e3o de venda de medicamento PBM</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais ValorVista 12 N Valor \u00e0 vista pago na venda PBM ValorCartao 12 N Valor com cart\u00e3o pago na venda PBM Rede 5 N N\u00famero da rede PBM selecionada NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas Reservado 4 A Digitado 1 N <ul><li>[1] Cart\u00e3o digitado</li><li>[0] Cart\u00e3o lido no pinpad</li></ul> Autoriza\u00e7\u00e3o 12 N N\u00famero da autoriza\u00e7\u00e3o de compra NSU_Consulta 6 N N\u00famero de controle referente \u00e0 consulta de medicamentos da venda CRM 12 N Registro no Conselho Regional de Medicina UF_CRM 2 A Unidade Federativa do Conselho Regional de Medicina QuantidadeMedicamentos 2 N Quantidade de medicamentos PBM vendidos SequenciaMedicamento 2 N Seq\u00fc\u00eancia do medicamento na venda CodigoMedicamento 13 N C\u00f3digo do medicamento vendido QuantidadeVendida 2 N Quantidade vendida do medicamento PrecoMaximoConsumidor 8 N 6 inteiros, 2 decimais PrecoUnitarioVendaCons 8 N 6 inteiros, 2 decimais PrecoFabricaUnitario 8 N 6 inteiros, 2 decimais PrecoAquisicaoUnitario 8 N 6 inteiros, 2 decimais PrecoRepasseVarejo 8 N 6 inteiros, 2 decimais MotivoRejeicao 2 A Motivo da rejei\u00e7\u00e3o do medicamento TipoEmbalagem 1 A Unit\u00e1rio ou parcial Desconto 5 N 3 inteiros, 2 decimais CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/PagamentoDeContasCielo/","title":"Transa\u00e7\u00e3o de Pagamento de Contas (Cielo)","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/PagamentoDeContasCielo/#registro-da-transacao-de-pagamento-de-contas-cielo","title":"Registro da Transa\u00e7\u00e3o de Pagamento de Contas (Cielo)","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[PCV] Pagamento de Contas</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais TipoColetaCartao 1 N <ul><li>[0] Tarja magn\u00e9tica</li><li>[1] Digitado</li><li>[2] Chip TIBC 1</li><li>[3] Chip TIBC 3</li><li>[4] Chip com contato EMV</li><li>[5] Sem contato tarja</li><li>[6] Sem contato EMV</li></ul> NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas TipoOperacao 2 A <ul><li>[AV] \u00c0 Vista</li><li>[PS] Parcelada (sem juros)</li><li>[PC] Parcelada (com juros)</li><li>[PD] Pr\u00e9-Datada</li></ul> CodigoBarras 44 A C\u00f3digo de Barras sem d\u00edgito verificador TipoDocumento 1 N <ul><li>[0] T\u00edtulo Lido</li><li>[1] T\u00edtulo Digitado</li><li>[2] Conv\u00eanio Lido</li><li>[3] Conv\u00eanio Digitado</li></ul> CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 55 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/PagamentoDeContasCorban/","title":"Transa\u00e7\u00e3o de Pagamento de Contas (CORBAN)","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/PagamentoDeContasCorban/#registro-de-transacao-de-pagamento-de-contas-corban","title":"Registro de Transa\u00e7\u00e3o de Pagamento de Contas (CORBAN)","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CBP] Pagamento</li><li>[CBC] Cancelamento</li><li>[CBI] Inicializa\u00e7\u00e3o</li><li>[CBF] Finaliza\u00e7\u00e3o</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras Operador 9 A N\u00e3o utilizado. Preenchido com espa\u00e7os ' ' CodTransacao 4 N N\u00e3o utilizado. Preenchido com sequencia de 0 TipoTransacao 1 N <ul><li>[0] Pagamento</li><li>[1] Cancelamento</li></ul> CodigoBarras 47 A Codigo de Barras TipoDocumento 1 N Indicativo da leitura do codigo de barras<ul><li>[0] Lido oticamente</li><li>[1] Digitado</li></ul> FormaPagamento 3 N <ul><li>[001] Dinheiro</li><li>[002] Cheque</li><li>[003] D\u00e9bito</li><li>[004] Cr\u00e9dito</li></ul> Reservado 25 A IndicativoCMC7 1 N <ul><li>[1] Lido</li><li>[2] Digitado</li></ul> CMC7 41 A ValorDesconto 41 A 10 inteiros, 2 decimais DataVencimento 8 N CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/QRCode/","title":"Transa\u00e7\u00e3o QR Code","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/QRCode/#registro-da-transacao-qr-code","title":"Registro da Transa\u00e7\u00e3o QR Code","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[QRC] QR Code</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais CodigoResposta 2 N NumeroControleRede 80 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico), para transa\u00e7\u00f5es com QR Linx, ser\u00e1 o Payment ID NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 80 A Para transa\u00e7\u00f5es com o QRLinx ser\u00e1 o TXID da transa\u00e7\u00e3o. M\u00e9todo de pagamento 25 A M\u00e9todo de pagamento informado na transa\u00e7\u00e3o com QR Code NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/QuitacaoCartaFrete/","title":"Transa\u00e7\u00e3o Quita\u00e7\u00e3o de Carta Frete","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/QuitacaoCartaFrete/#registro-da-transacao-quitacao-de-carta-frete","title":"Registro da Transa\u00e7\u00e3o Quita\u00e7\u00e3o de Carta Frete","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[QCF] Quita\u00e7\u00e3o Carta Frete</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais TipoColetaCartao 1 N <ul><li>[0] Leitura</li><li>[1] Trilha</li></ul> NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas VencimentoCartao 4 N Formato MMAA NumeroCartaFrete 25 A QuantidadeChegada 12 N CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF Reservado 65 A CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/RecargaDeCelular/","title":"Transa\u00e7\u00e3o de Recarga de Celular","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/RecargaDeCelular/#registro-da-transacao-de-recarga-de-celular","title":"Registro da Transa\u00e7\u00e3o de Recarga de Celular","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[CEL] Recarga de Celular</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) CodigoArea 2 N C\u00f3digo da \u00e1rea do celular NumeroTelefone 10 N N\u00famero do telefone Reservado 3 A Campo reservado para uso futuro ValorRecarga 12 N 10 inteiros, 2 decimais CodigoOperadora 5 N C\u00f3digo da Operadora do Celular NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NomeOperadora 40 A Nome da operadora de recarga de celular Reservado_2 29 A Campo reservado para uso futuro CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 59 A NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/Reinicio/","title":"Rein\u00edcio","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/Reinicio/#registro-de-reinicio","title":"Registro de Rein\u00edcio","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[REI] Reinicio</li></ul> Data 8 N Hora 6 N Reservado 2 A NumeroEquipamento 6 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal MotivoReinicio 30 A Reservado 182 A CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/Saque/","title":"Transa\u00e7\u00e3o de Saque","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/Saque/#registro-da-transacao-de-saque","title":"Registro da Transa\u00e7\u00e3o de Saque","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[SAQ] Saque</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais TipoColetaCartao 1 N <ul><li>[0] Tarja magn\u00e9tica</li><li>[1] Digitado</li><li>[2] Chip TIBC 1</li><li>[3] Chip TIBC 3</li><li>[4] Chip com contato EMV</li><li>[5] Sem contato tarja</li><li>[6] Sem contato EMV</li></ul> NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras NumeroCartao 37 A Conte\u00fado da trilha 2 sem bytes sentinelas VencimentoCartao 4 N Formato MMAA TipoOperacao 2 A <ul><li>[AV] \u00c0 Vista</li><li>[FL] Financiamento Lojista (sem juros)</li><li>[FA] Financiamento Administradora (com juros)</li></ul> NumeroParcelas 2 N N\u00famero de parcelas da transa\u00e7\u00e3o CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A Reservado 118 A CodigoOperadora 4 N Veja Tabela 4.0 de Operadoras NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/SaqueDomestico/","title":"Transa\u00e7\u00e3o de Saque Dom\u00e9stico","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/SaqueDomestico/#registro-da-transacao-de-saque-domestico","title":"Registro da Transa\u00e7\u00e3o de Saque Dom\u00e9stico","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[SQD] Saque Transfer\u00eancia Dom\u00e9stica</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) ValorTransacao 12 N 10 inteiros, 2 decimais Reservado 1 A NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras Reservado 41 A TipoOperacao 2 A <ul><li>[01] Nacional</li><li>[02] Internacional</li></ul> DocDestinatario 11 A N\u00famero do Documento do Destinat\u00e1rio Reservado 34 A CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroAutorizacaoRede 6 A MensagemErro 20 A Reservado 59 A NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/ValeGas/","title":"Transa\u00e7\u00e3o de Vale G\u00e1s","text":""},{"location":"pages/LogTransacoes/LogUltimaTransacaoDepreciado/ValeGas/#registro-da-transacao-de-vale-gas","title":"Registro da Transa\u00e7\u00e3o de Vale G\u00e1s","text":"Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o NumeroEmpresa 4 N NumeroLoja 6 N TipoRegistro 3 A <ul><li>[GAS] Pagamento de Contas</li></ul> Data 8 N Hora 6 N CodigoTransacao 2 N Codigo da transa\u00e7\u00e3o solicitada NumeroEquipamento 3 N NumeroFiscalEquipamento 8 N N\u00famero de registro junto \u00e0 Receita Federal NumeroCupom 6 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) CodigoOperadora 5 N C\u00f3digo da operadora Vale G\u00e1s CodigoProduto 7 N C\u00f3digo do produto NumeroValeGas 15 N N\u00famero do vale g\u00e1s ValorTransacao 12 N 10 inteiros, 2 decimais NumeroAutorizador 2 N Veja Tabela 2.0 de Redes Autorizadoras CodigoResposta 2 N NumeroControleRede 9 A NSU Rede (n\u00famero seq\u00fcencial \u00fanico) NumeroControle 6 N NSU (n\u00famero seq\u00fcencial \u00fanico) MensagemErro 20 A Reservado 127 A NumeroAutorizador8 4 N Rede Autorizadora do Linx TEF CR+LF 2 H [0D0A]"},{"location":"pages/MetodosAPIDesktop/","title":"M\u00e9todos API Desktop","text":""},{"location":"pages/MetodosAPIDesktop/#metodos-api-desktop","title":"M\u00e9todos API Desktop","text":"<p>Este documento tem por objetivo descrever as chamadas das transa\u00e7\u00f5es e seus par\u00e2metros no Paykit em sua integra\u00e7\u00e3o API Desktop.</p>"},{"location":"pages/MetodosAPIDesktop/CallbackTransacional/","title":"Callback Transacional","text":""},{"location":"pages/MetodosAPIDesktop/CallbackTransacional/#callback-informacoes-transacionais","title":"Callback Informa\u00e7\u00f5es Transacionais","text":"<p>Os itens descritos abaixo desse alerta s\u00e3o customiza\u00e7\u00f5es liberadas a partir da release de Paykit 8.22.23.0012 (inclusive)</p> <p>Essa callback tem por objetivo acionar a automa\u00e7\u00e3o para enviar informa\u00e7\u00f5es uteis durante o fluxo transacional, ou seja, o Paykit enviar\u00e1 dados da transa\u00e7\u00e3o de forma dinamica no decorrer da transa\u00e7\u00e3o financeira.</p> <p>Os dados que poder\u00e3o ser enviados para a automa\u00e7\u00e3o est\u00e3o documentados abaixo, por\u00e9m sua ordem de envio e a existencia ou n\u00e3o de um atributo em um acionamento da callback pelo Paykit vai depender da transa\u00e7\u00e3o que est\u00e1 sendo executada, sendo ent\u00e3o todos os atributos considerados opcionais na hora do envio.</p> <pre><code>{     \n    \"binCartao\":\"516292\",             \n    \"valorTransacao\":\"000000000100\",     \n    \"codigoTransacao\":8001,     \n    \"codigoRede\":1,\n    \"codigoBandeira\":1,\n    \"nomeBandeira\":\"brand\",\n    \"nomeRede\":\"Bandeira Linx\",\n    \"qrlink\": \"https://paymentqr.linx.com.br/payment/2af10f23-8064-4c5e-a4c5-348bd965b425\" \n}\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/CallbackTransacional/#callback","title":"Callback","text":"<pre><code>// M\u00e9todo utilizado para registrar a callback no Paykit\nextern \"C\" {\n    void DIRETIVA_CALLBACK RegDadosTransacaoCorrente(pDadosTransacaoCorrente);\n}\n\n// A fun\u00e7\u00e3o passada como par\u00e2metro para a fun\u00e7\u00e3o acima dever\u00e1 seguir a estrutura definida abaixo.\ntypedef void (DIRETIVA_CALLBACK *pDadosTransacaoCorrente)(char* pJson);\n</code></pre> <p>Como <code>pJson</code> \u00e9 um ponteiro para uma regi\u00e3o de memoria, este ser\u00e1 limpo ap\u00f3s a automa\u00e7\u00e3o ter retornado o controle para o Paykit ent\u00e3o a automa\u00e7\u00e3o deve copiar o conte\u00fado enviado em <code>pJson</code> para um atributo interno ou realizar o processamento do mesmo antes de retornar o processamento para o Paykit. Ao utilizar essa callback a automa\u00e7\u00e3o dever\u00e1 tamb\u00e9m estar preparada para processar de forma assincrona essa chamada, para que a performance do fluxo transacional n\u00e3o seja afetada.</p>"},{"location":"pages/MetodosAPIDesktop/ConfirmacaoEDesfazimentoDeTransacoes/","title":"Confirma\u00e7\u00e3o e Desfazimento de Transa\u00e7\u00f5es","text":""},{"location":"pages/MetodosAPIDesktop/ConfirmacaoEDesfazimentoDeTransacoes/#confirmacao-e-desfazimento-de-transacoes","title":"Confirma\u00e7\u00e3o e Desfazimento de Transa\u00e7\u00f5es","text":"<p>As fun\u00e7\u00f5es utilizadas no tratamento de confirma\u00e7\u00f5es e desfazimentos s\u00e3o as seguintes:</p> <pre><code>int DIRETIVA_CALLBACK ConfirmaCartao(char *pNumeroControle)\n</code></pre> <p>A fun\u00e7\u00e3o ConfirmaCartao \u00e9 utilizada pelo sistema de automa\u00e7\u00e3o para solicitar ao sistema TEF Linx a confirma\u00e7\u00e3o de uma transa\u00e7\u00e3o que foi aprovada.</p> <p></p> <pre><code>int DIRETIVA_CALLBACK DesfazCartao(char *pNumeroControle)\n</code></pre> <p>A fun\u00e7\u00e3o DesfazCartao \u00e9 utilizada pelo sistema de automa\u00e7\u00e3o para solicitar ao sistema TEF Linx o desfazimento de uma transa\u00e7\u00e3o que foi aprovada.</p> <p></p> <pre><code>int DIRETIVA_CALLBACK FinalizaTransacao()\n</code></pre> <p>A fun\u00e7\u00e3o FinalizaTransacao \u00e9 utilizada pelo sistema de automa\u00e7\u00e3o para solicitar ao sistema TEF Linx a  finaliza\u00e7\u00e3o da opera\u00e7\u00e3o de venda. \u00c9 necess\u00e1rio que a AC chame este m\u00e9todo ap\u00f3s a confirma\u00e7\u00e3o ou desfazimento  da transa\u00e7\u00e3o, para efetiva\u00e7\u00e3o da a\u00e7\u00e3o selecionada anteriormente. O comportamento desta fun\u00e7\u00e3o depender\u00e1  do modo de desfazimento que estiver configurado pela fun\u00e7\u00e3o ConfirmaCartao. </p> <p></p> <pre><code>int DIRETIVA_CALLBACK ConfiguraModoDesfazimento(int iModoDesfazimento)\n</code></pre> <p>A fun\u00e7\u00e3o ConfiguraModoDesfazimento \u00e9 utilizada para configurar o funcionamento das opera\u00e7\u00f5es de desfazimento. Ela \u00e9 documentada a fundo na p\u00e1gina Utiliza\u00e7\u00e3o Paykit.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesEspeciais/","title":"Transa\u00e7\u00f5es Especiais","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesEspeciais/#transacoes-especiais","title":"Transa\u00e7\u00f5es Especiais","text":"<p>A fun\u00e7\u00e3o atualmente disponibilizada \u00e9:</p> <pre><code>    int DIRETIVA_CALLBACK TransacaoEspecial(int iCodigoTransacao, char *pDados)\n</code></pre> <p>A fun\u00e7\u00e3o TransacaoEspecial deve ser utilizada pela automa\u00e7\u00e3o para utilizar as funcionalidades do PIN Pad.</p> <p>Os par\u00e2metros da fun\u00e7\u00e3o est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o CodigoTransacao 3N O campo CodigoTransacao pode assumir os seguintes valores:\u2022 [ 106 ] Fun\u00e7\u00e3o Display de PIN Pad - Apresentar uma informa\u00e7\u00e3o no PIN Pad.\u2022 [ 107 ] Coleta de Tecla de PIN Pad - Aguardar que o usu\u00e1rio pressione uma tecla no PIN Pad. Usado para confirmar opera\u00e7\u00f5es (Confirma/Cancela). \u2022 [ 121 ] Fun\u00e7\u00e3o Coleta de Informa\u00e7\u00e3o do PIN Pad - Coletar informa\u00e7\u00f5es num\u00e9ricas gen\u00e9ricas, como por exemplo CPF. As op\u00e7\u00f5es de coleta dispon\u00edveis est\u00e3o descritas na tabela 10.7. \u2022 [ 122 ] L\u00ea Informa\u00e7\u00f5es do PIN Pad - L\u00ea informa\u00e7\u00f5es do PIN Pad. GetInfo par\u00e2metros gerais ou de uma rede espec\u00edfica. \u2022 [ 123 ] Fun\u00e7\u00e3o Carrega Arquivo Multim\u00eddia - Carrega arquivo multim\u00eddia (Ex: png,jpg, ...) para o PIN Pad. V\u00e1lido somente para padr\u00e3o ABECS. \u2022 [ 124 ] Fun\u00e7\u00e3o Multim\u00eddias Suportadas - Verifica quais m\u00eddias s\u00e3o suportadas pelo PIN Pad. (Ex: png, jpg, ...). \u2022 [ 125 ] Fun\u00e7\u00e3o Exibe Arquivo Multim\u00eddia - Exibe um determinado arquivo multim\u00eddia no PIN Pad. \u2022 [ 126 ] Fun\u00e7\u00e3o Lista Arquivos Multim\u00eddia - Exibe uma lista com o nome dos arquivos multim\u00eddias carregados para o PIN Pad.\u2022 [ 127 ] Fun\u00e7\u00e3o Exclui Arquivos Multim\u00eddia - Exclui uma lista de arquivos multim\u00eddias do PIN Pad. <p>O campo Dados varia conforme a fun\u00e7\u00e3o utilizada e deve seguir a estrutura:</p> Campo Descri\u00e7\u00e3o Display de PIN Pad \u2022 [ MsgDisplay ] 32 A.\u2022 [ TempoDisplayMensagem ] 6 N. Coleta de Tecla de PIN Pad \u2022 [ MsgDisplay ] 32 A.O c\u00f3digo da tecla digitada \u00e9 retornada no primeiro byte do campo MsgDisplay. Os valores poss\u00edveis s\u00e3o:\u2022 [ O ] Ok.\u2022 [ C ] Cancel.\u2022 [ B ] Backspace (limpa).\u2022 [ F ] F1.\u2022 [ G ] F2.\u2022 [ H ] F3.\u2022 [ I ] F4. Coleta de Cart\u00e3o Fideliza\u00e7\u00e3o \u2022 [ TipoAplicacao ] 2 N.\u2022 [ ValorInicial ] 12 N.\u2022 [ TipoCartao ] 2 A.\u2022 [ StatusUltimaLeituraChip ] 1 A.\u2022 [ TipoAplicacaoSelecionada ] 2 N.\u2022 [ IdRedeAdquirente ] 2 N.\u2022 [ IndiceTabParametrosAID ] 2 N.\u2022 [ TamTrilha1 ] 2 N.\u2022 [ Trilha1 ] 76 A.\u2022 [ TamTrilha2 ] 2 N.\u2022 [ Trilha2 ] 37 A.\u2022 [ TamTrilha3 ] 3 N.\u2022 [ Trilha3 ] 104 A.\u2022 [ TamPAN ] 2 N.\u2022 [ PAN ] 19 A.\u2022 [ ApplicationPANSequenceNumber ] 2 N.\u2022 [ ApplicationLabel ] 16 A.\u2022 [ ServiceCode ] 3 N.\u2022 [ CardHolderName ] 26 A.\u2022 [ ApplicationExpirationDate ] 6 N.\u2022 [ TamNroExternoCartao ] 2 N.\u2022 [ NroExternoCartao ] 19 N.\u2022 [ Saldo ] 8 N.\u2022 [ IssuerCountryCode ] 3 A.\u2022 [ TamDadosRedeAdquirente ] 3 N.\u2022 [ DadosRedeAdquirente ] 999 A.Os campos a serem passados s\u00e3o:\u2022 [ TipoAplicacao ] Preencher com \u201c99\u201d.\u2022 [ ValorInicial ] Valor da transa\u00e7\u00e3o, em centavos. Por exemplo, R$ 1,00 \u00e9 representado como 000000000100.Os demais campos s\u00e3o preenchidos no retorno da fun\u00e7\u00e3o.Obs.: para cart\u00f5es, \u00e9 necess\u00e1rio informar o Bin do cart\u00e3o (6 primeiros d\u00edgitos) para que a Linx libere a leitura desse cart\u00e3o no sistema. Coleta de Informa\u00e7\u00e3o do PIN Pad Dever\u00e1 ser usada para coletar informa\u00e7\u00f5es num\u00e9ricas e avulsas.\u2022 [ TamMinimo ] 2 N.\u2022 [ TamMaximo ] 2 N.\u2022 [ TipoColeta ] 2 N.\u2022 [ DadosDigitados ] 32 N.O campos tipo coleta pode ser definido como:.\u2022 [ 01 ] Captura de um CPF.\u2022 [ 02 ] Captura de um n\u00famero de telefone.\u2022 [ 03 ] Captura de uma data.\u2022 [...] Demais op\u00e7\u00f5es dispon\u00edveis est\u00e3o listadas na tabela 10.7TamMinimo e TamMaximo devem ser definidos de acordo com o tamanho de informa\u00e7\u00f5es v\u00e1lidas, sem caracteres separadores, conforme a informa\u00e7\u00e3o que est\u00e1 sendo capturada. Para captura de CPF os dois campos deve ser definidos com \u201c11\u201d. A captura de um telefone suporta valores entre \u201c08\u201d e \u201c11\u201d. A captura de uma data suporta valores entre \u201c04\u201d e \u201c08\u201d. Caso os valores dos campos de tamanho m\u00ednimo e m\u00e1ximo sejam informados zerados, ser\u00e3o assumidos os valores default presentes na tabela 10.7. As mensagens exibidas no visor do PIN Pad s\u00e3o definidas pelo Client TEF. A informa\u00e7\u00e3o que o usu\u00e1rio digita pode aparecer ou n\u00e3o no display do pinpad, a depender da vers\u00e3o da biblioteca compartilhada do dispositivo. Em caso da mensagem estar mascarada s\u00e3o exibidos asteriscos de acordo com o n\u00famero de caracteres digitados. Carrega Arquivo Multim\u00eddia V\u00e1lido somente para padr\u00e3o ABECS.Carrega um arquivo multim\u00eddia para o PIN Pad.\u2022 [ TipoArquivo ] 1 N - \u201c1\u201d=PNG \u201c2\u201d=JPG \u201c3\u201d=RUF.\u2022 [ RUF ] 3 H - 3 bytes bin\u00e1rios. Somente para RUF.\u2022 [ NomeArquivoMultimidia ] 8 A - Nome do arquivo (8 bytes) que ficar\u00e1 registrado no PIN Pad. \u2022 [ ArquivoMultimidia ] 256 A - Nome Completo do arquivo multim\u00eddia, incluindo o path, deve terminar com um byte bin\u00e1rio com um byte zero de finalizador. Multim\u00eddias Suportadas Devolve os tipos de multim\u00eddias suportadas.Retorno:\u2022 [ 0 ] N\u00e3o suporta nenhuma m\u00eddia.\u2022 [ 1 ] Suporta arquivos do tipo PNG.\u2022 [ 2 ] Suporta arquivos do tipo JPG.\u2022 [ 3 ] Suporta arquivos do tipo PNG e JPG. Exibe Arquivo Multim\u00eddia V\u00e1lido somente para padr\u00e3o ABECS.Exibe um arquivo espec\u00edfico de multim\u00eddia no PIN Pad.\u2022 [ NomedoArquivo ] 8 A - Nome do Arquivo Multim\u00eddia, fixo com 8 bytes, que foi carregado pela fun\u00e7\u00e3o Carrega Arquivo Multim\u00eddia. Lista Arquivos Multim\u00eddia V\u00e1lido somente para padr\u00e3o ABECS.Lista o nome dos arquivos de multim\u00eddia carregados no PIN Pad. Os nomes dos arquivos s\u00e3o sempre com oito bytes.Retorno:\u2022 [ Arquivos ] 993 A.S\u00e3o retornados no m\u00e1ximo 124 nomes de arquivos, onde cada nome de arquivo tem 8 bytes. (124 x 8 bytes = 992 bytes). O caractere finalizador \u201czero bin\u00e1rio\u201d ser\u00e1 enviado no final dos dados.Supondo a lista contenha que dois arquivos, ent\u00e3o ser\u00e1 retornado:\u201cArquivo1Arquivo2\u201d seguido de um zero bin\u00e1rio. Exclui Arquivos Multim\u00eddia V\u00e1lido somente para padr\u00e3o ABECS.Exclui arquivos de multim\u00eddia carregados no PIN Pad. Os nomes dos arquivos s\u00e3o sempre com oito bytes.\u2022 [ Arquivos ] 993 A.Podem ser eliminados no m\u00e1ximo 124 nomes de arquivos, onde cada nome de arquivo tem 8 bytes. (124 x 8 bytes = 992 bytes). O caractere finalizador \u201czero bin\u00e1rio\u201d deve ser enviado no final dos dados.Supondo que sejam enviados dois arquivos para serem eliminados, o formato dever\u00e1 ser: \u201cArquivo1Arquivo2\u201d seguido de um zero bin\u00e1rio. <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesEspeciais/#tipos-coleta-pinpad","title":"Tipos Coleta Pinpad","text":"<p>Abaixo seguem os tipos de informa\u00e7\u00e3o dispon\u00edveis para de coleta no pinpad.</p> Tipo Coleta Tamanho M\u00ednimo(default) Tamanho M\u00e1ximo(default) Mensagem Display 91 3 3 DIGITE O DDD 92 3 3 REDIGITE O DDD 93 8 9 REDIGITE O TELEFONE 94 8 9 REDIGITE O TELEFONE 2 11 12 DIGITE DDD+TELEFONE 6 11 12 REDIGITE DDD+TELEFONE 1 11 11 DIGITE O CPF 8 11 11 REDIGITE O CPF 9 1 32 DIGITE O RG 10 1 32 REDIGITE O RG 11 4 4 DIGITE OS 4 \u00daLTIMOS D\u00cdGITOS 12 3 3 DIGITE C\u00d3DIGO DE SEGURAN\u00c7A 13 14 14 DIGITE O CNPJ 14 14 14 REDIGITE O CNPJ 3 8 8 DIGITE A DATA (DDMMAAAA) 16 6 6 DIGITE A DATA (DDMMAA) 17 4 4 DIGITE A DATA (DDMM) 18 2 2 DIGITE O DIA (DD) 19 2 2 DIGITE O M\u00caS (MM) 20 2 2 DIGITE O ANO (AA) 21 4 4 DIGITE O ANO (AAAA) 22 8 8 DATA DE NASCIMENTO (DDMMAAAA) 23 6 6 DATA DE NASCIMENTO (DDMMAA) 24 4 4 DATA DE NASCIMENTO (DDMM) 25 2 2 DIA DO NASCIMENTO (DD) 26 2 2 M\u00caS DO NASCIMENTO (MM) 27 2 2 ANO DO NASCIMENTO (AA) 28 4 4 ANO DO NASCIMENTO (AAAA) 29 1 32 DIGITE IDENTIFICA\u00c7\u00c3O 30 1 32 C\u00d3DIGO DE FIDELIDADE 31 1 32 N\u00daMERO DA MESA 32 1 32 QUANTIDADE DE PESSOAS 33 1 32 DIGITE QUANTIDADE 34 1 32 N\u00daMERO DA BOMBA 35 1 32 N\u00daMERO DA VAGA 36 1 32 N\u00daMERO DO GUICH\u00ca/CAIXA 37 1 32 C\u00d3DIGO DO VENDEDOR 38 1 32 C\u00d3DIGO DO GAR\u00c7OM 39 1 32 NOTA DO ATENDIMENTO 40 1 32 N\u00daMERO DA NOTA FISCAL 41 1 32 N\u00daMERO DA COMANDA 42 1 7 PLACA DO VE\u00cdCULO 43 1 32 DIGITE QUILOMETRAGEM 44 1 32 QUILOMETRAGEM INICIAL 45 1 32 QUILOMETRAGEM FINAL 46 1 32 DIGITE PORCENTAGEM 47 1 2 PESQUISA DE SATISFA\u00c7\u00c3O (0 a 10) 48 1 2 AVALIE ATENDIMENTO (0 a 10) 49 1 32 DIGITE O TOKEN 50 1 32 DIGITE N\u00daMERO DO CART\u00c3O 51 1 32 N\u00daMERO DE PARCELAS 52 1 32 C\u00d3DIGO DO PLANO 53 1 32 C\u00d3DIGO DO PRODUTO"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CartaoPrePagoEValePresente/","title":"Cart\u00e3o Pr\u00e9-Pago e Vale Presente","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CartaoPrePagoEValePresente/#pagamento-cartao-presente","title":"Pagamento Cartao Presente","text":"<p>A solicita\u00e7\u00e3o de transa\u00e7\u00e3o de pagamento com cart\u00e3o \u00e9 realizada atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoPagamentoCartaoPresente.</p> <pre><code>int DIRETIVA_CALLBACK TransacaoPagamentoCartaoPresente(char *pValorTransacao, \n    char *pNumeroCupom, char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CartaoPrePagoEValePresente/#transacao-carga-cartao","title":"Transa\u00e7\u00e3o Carga Cartao","text":"<p>A solicita\u00e7\u00e3o de transa\u00e7\u00e3o de carga de cart\u00e3o \u00e9 realizada atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoCargaCartao </p> <pre><code>int DIRETIVA_CALLBACK TransacaoCargaCartao(char *pValorTransacao, char *pNumeroCupom, \n    char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CartaoPrePagoEValePresente/#transacao-recarga-cartao","title":"Transa\u00e7\u00e3o Recarga Cartao","text":"<p>A solicita\u00e7\u00e3o de transa\u00e7\u00e3o de recarga de cart\u00e3o \u00e9 realizada atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoRecargaCartao</p> <pre><code>int DIRETIVA_CALLBACK TransacaoRecargaCartao(char *pValorTransacao, char *pNumeroCupom, \n    char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/","title":"Correspondente Banc\u00e1rio","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>As fun\u00e7\u00f5es mencionadas nesta p\u00e1gina s\u00e3o referentes ao m\u00f3dulo de pagamento de contas. Os tipos de documentos aceitos (t\u00edtulo, conv\u00eanio ou tributos) dependem da rede autorizadora que for contratada para os pagamentos.</p> <p>As fun\u00e7\u00f5es devem ser chamadas diretamente pela automa\u00e7\u00e3o com a passagem dos par\u00e2metros conforme orienta\u00e7\u00e3o abaixo. Caso o integrador deseja que o trabalho de coleta das informa\u00e7\u00f5es (valor, n\u00famero do documento) sejam realizadas por uma interface da Linx, deve-se utilizar um outro aplicativo chamado Correspondente Banc\u00e1rio. Existe um manual de integra\u00e7\u00e3o espec\u00edfico para este aplicativo (se for o seu caso, solicite o documento). Tamb\u00e9m \u00e9 poss\u00edvel que seja feito o recebimento de contas utilizando a entrada de dados pelo pr\u00f3prio Automa\u00e7\u00e3o Comercial. Neste caso, o integrador dever\u00e1 implementar as telas para coleta das informa\u00e7\u00f5es (solicitar manual para integra\u00e7\u00e3o sem telas).</p> <p>As fun\u00e7\u00f5es para o recebimento de contas s\u00e3o as seguintes:</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#inicializa-sessao-corban","title":"Inicializa Sess\u00e3o Corban","text":"<pre><code>int DIRETIVA_CALLBACK InicializaSessaoCB(char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#finaliza-sessao-corban","title":"Finaliza Sess\u00e3o Corban","text":"<pre><code>int DIRETIVA_CALLBACK FinalizaSessaoCB(char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#consulta-parametros-corban","title":"Consulta Parametros Corban","text":"<pre><code>int DIRETIVA_CALLBACK ConsultaParametrosCB(char *pParametros)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#consulta-pagamento-corban","title":"Consulta Pagamento Corban","text":"<pre><code>int DIRETIVA_CALLBACK ConsultaPagamentoCB(char *pTipoConta, char *pCodigoBarrasDigitado, \n    char *pCodigoBarrasLido, char *pValorDocumento, char *pValorDesconto, char *pValorAcrescimo, \n    char *pDataVencimento, char *pFormaPagamento, char *pReservado1, char *pTipoSenha, \n    char *pReservado2, char *pNSUCartao, char *pTipoCMC7, char *pCMC7, char *pNumeroControle,\n    char *pMensagemTEF, char *pImprimeComprovante, char *pParametrosConsulta, char *pParametrosConsulta_2)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#pagamento-corban","title":"Pagamento Corban","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoPagamentoCB(char *pTipoConta, char *pCodigoBarrasDigitado, \n    char *pCodigoBarrasLido, char *pValorDocumento, char *pValorDesconto, char *pValorAcrescimo, \n    char *pDataVencimento, char *pFormaPagamento, char *pReservado1, char *pTipoSenha, \n    char *pReservado2, char *pNSUCartao, char *pTipoCMC7, char *pCMC7, char *pParametrosConsulta_2,\n    char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#resumo-recebimentos-corban","title":"Resumo Recebimentos Corban","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoResumoRecebimentosCB(char *pTipoResumo, char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#dados-ultima-transacao-corban","title":"Dados Ultima Transacao Corban","text":"<p><pre><code>void DIRETIVA_CALLBACK DadosUltimaTransacaoCB(char * oDadosUltimaTransacaoTitulo)\nvoid DIRETIVA_CALLBACK ObtemLogUltimaTransacao(char *oLogUltimaTransacao)\n</code></pre> </p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#informacoes-comuns","title":"Informa\u00e7\u00f5es Comuns","text":"<p>Estas fun\u00e7\u00f5es devem estar dispon\u00edveis tamb\u00e9m ap\u00f3s abertura do caixa (por exemplo, num menu de opera\u00e7\u00f5es  do CB) para que o operador possa executar novamente caso tenha ocorrido erro na chamada autom\u00e1tica na abertura do caixa. No par\u00e2metro NumeroControle ser\u00e1 retornado o NSU da transa\u00e7\u00e3o.</p> <p>Os dados retornados est\u00e3o estruturados da seguinte forma:</p> Campo Tamanho Descri\u00e7\u00e3o FormasPagamento 04N Indica as formas de pagamento aceitas pelo CB, s\u00e3o elas:\u2022 [ 0001 ] Dinheiro (1 em decimal)\u2022 [ 0010 ] Cheque (2 em decimal)\u2022 [ 0011 ] Dinheiro e Cheque (3 em decimal)\u2022 [ 0100 ] D\u00e9bito (4 em decimal)\u2022 [ 0101 ] Debito e Dinheiro (5 em decimal)\u2022 [ 0110 ] D\u00e9bito e Cheque (6 em decimal)\u2022 [ 0111 ] D\u00e9bito, Dinheiro e Cheque (7 em decimal)\u2022 [ 1000 ] Cr\u00e9dito (8 em decimal)\u2022 [ 1001 ] Cr\u00e9dito e Dinheiro (9 em decimal)\u2022 [ 1010 ] Cr\u00e9dito e Cheque (10 em decimal)\u2022 [ 1011 ] Cr\u00e9dito, Cheque e Dinheiro (11 em decimal)\u2022 [ 1100 ] Cr\u00e9dito e D\u00e9bito (12 em decimal)\u2022 [ 1101 ] Cr\u00e9dito, D\u00e9bito e Dinheiro (13 em decimal)\u2022 [ 1110 ] Cr\u00e9dito, D\u00e9bito e Cheque (14 em decimal)\u2022 [ 1111 ] Cr\u00e9dito, D\u00e9bito, Cheque e Dinheiro (15 em decimal) ResumoRecebimentos 01N 0-N\u00e3o Possui; 1-Possui ColetaNSUTEFCancelamento 01N 0-N\u00e3o Coleta; 1-Deve coletar NSU TEF RealizaInicializaFinalizacaoEquipamento 01N Verifica se deve realizar a inicializa\u00e7\u00e3o e a finaliza\u00e7\u00e3o de equipamento\u2022 (0-N\u00e3o; 1-Sim) HabilitaTransacaoConsultaPagamento 01N Indica se o CB aceita consulta de pagamento\u2022 (0-N\u00e3o; 1-Aceita) ColetaDocumentoCancelamento 01N Indica se o NSU deve ser coletado no cancelamento de pagamento \u2022 (0-N\u00e3o; 1-Sim) TransacaoConsultaPagamentoObrigatoria 01N Indica se a consulta de pagamento \u00e9 obrigat\u00f3ria \u2022 (0-N\u00e3o; 1-Sim) NumeroBancoPermitido 01N Campo com o n\u00famero do banco aceito caso o pagamento seja em cheque; AC deve validar este campo HabilitaRecebimentoTributo01 01N Indica se o CB aceita recebimento de tributos\u2022 (0-N\u00e3o; 1-Aceita) HabilitaAcrescimos 01N Indica se o valor de acr\u00e9scimo deve ser solicitado/habilitado\u2022 (0-N\u00e3o; 1-Sim) HabilitaDescontos 01N Indica se o valor de desconto deve ser solicitado/habilitado\u2022 (0-N\u00e3o; 1-Sim) HabilitaJuros 01N Indica se o valor dos juros deve ser solicitado/habilitado\u2022 (0-N\u00e3o; 1-Sim) HabilitaMulta 01N Indica se o valor da multa deve ser solicitado/habilitado\u2022 (0-N\u00e3o; 1-Sim) HabilitaValorDoc 01N Indica se o valor do documento deve ser habilitado (pode ser editado)\u2022 (0-N\u00e3o; 1-Sim) HabilitaValorCobrado 01N Indica se o valor cobrado deve ser habilitado (pode ser editado)\u2022 (0-N\u00e3o; 1-Sim) HabilitaDataVencimento 01N Indica se a data de vencimento do boleto deve ser habilitado(pode ser editado)\u2022 (0-N\u00e3o; 1-Sim) Filler 46A Campo reservado <p>Uma vez realizada a ConsultaParametrosCB , o AC dever\u00e1 permitir a entrada dos dados do documento informando o tipo do documento (t\u00edtulo, conv\u00eanio ou tributo), c\u00f3digo de barras do do doc, se foi lido ou digitado e o valor, sempre considerando os par\u00e2metros acima citados que indicar\u00e3o quais valores poder\u00e3o ser coletados. Ap\u00f3s a entrada dos dados do documento o AC deve disponibilizar as formas de pagamento dispon\u00edveis (de acordo com o campo FormasPagamento retornado na ConsultaParametrosCB) . Se o pagamento for em TEF, devem ser utilizadas as fun\u00e7\u00f5es TransacaoCartaoCreditoCompleta , TransacaoCartaoDebitoCompleta ou TransacaoChequeCompleta , conforme a forma desejada pelo cliente. \u00c9 importante destacar que \u00e9 permitido realizar somente uma transa\u00e7\u00e3o TEF (cr\u00e9dito ou d\u00e9bito) por documento a receber. Depois de coletar os dados do documento, verificar se o c\u00f3digo de barras \u00e9 v\u00e1lido e definir/realizar a forma de pagamento, dever\u00e1 ser feita a consulta de pagamento atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o ConsultaPagamentoCB.</p> Campo Tamanho Descri\u00e7\u00e3o TipoConta 01N [ 1 ] T\u00edtulo; [ 2 ] Conv\u00eanio (exceto tributos); [ 3 ] Conv\u00eanio (tributos) CodigoBarrasDigitado 48N c\u00f3digo de barras digitado (titulo com 47 bytes ou conv\u00eanio com 48 bytes) CodigoBarrasLido 44N codigo de barras lido (titulo ou conv\u00eanio com 44 bytes) ValorDocumento 12N valor do documento lido do c\u00f3digo de barras (se for zerado, valor digitado); formatar com zeros \u00e0 esquerda ValorDesconto 12N valor do desconto coletado; formatar com zeros \u00e0 esquerda ValorAcrescimo 12N valor do acr\u00e9scimo coletado; formatar com zeros \u00e0 esquerda DataVencimento Data data de vencimento no formato  FormaPagamento 03N [ 001 ] Dinheiro [ 002 ] Cheque [ 003 ] D\u00e9bito [ 004 ] Cr\u00e9dito Reservado1 Alfa Campo reservado para uso interno TipoSenha 01A Usado pelo Paykit; [A] ou [Z] tipo de senha retornado no campo reservado das transa\u00e7\u00f5es de cr\u00e9dito e d\u00e9bito completa;[0] se n\u00e3o coletado Reservado2 Alfa Campo reservado para uso interno NSUCartao 06N NSU da transa\u00e7\u00e3o de cr\u00e9dito ou d\u00e9bito TipoCMC7 01N [ 1 ] para cheque lido; [ 2 ] para cheque digitado CMC7 30N c\u00f3digo CMC7 do cheque NumeroControle 06N NSU da transa\u00e7\u00e3o de consulta pagamento MensagemTEF 32A Par\u00e2metro de retorno com a mensagem que deve ser apresentada pelo CB ImprimeComprovante 01N Par\u00e2metro de retorno que informa se deve ou n\u00e3o imprimir um comprovante da consulta; 0-n\u00e3o imprime 1-deve imprimir ParametrosConsulta Estrutura Par\u00e2metro de retorno da consulta no formato da estrutura TParametrosCBTEF (definida logo acima) ParametrosConsulta_2 Estrutura Conjunto de par\u00e2metros de retorno da consulta com a estrutura TParametrosConsulta_2 (definida logo abaixo). Observa\u00e7\u00f5es dos campos da estrutura a seguir:\u2022 1: valor deve ser acumulado no campo de desconto\u2022 2: valor deve ser acumulado no campo de acr\u00e9scimo\u2022 3: valor deve ser apresentado no campo de multa\u2022 4: indica se operador pode calcular o valor do documento\u2022 5: indica se o documento est\u00e1 vencido\u2022 6: indica se o documento \u00e9 um titulo do Bradesco\u2022 7: indica se a rede de pagamento aceita t\u00edtulo vencido\u2022 8: indica se a rede de pagamento retornou valor do documento recalculado (se sim, pega do campo ValorDevido)\u2022 9: valor do documento o recalculado pela rede (substitui o valor do documento)\u2022 10: valor cobrado que sempre deve ser enviado para a rede. Caso a rede permitir alterar este campo, dever\u00e1 ser enviado com o valor alterado <p>Uma vez que a transa\u00e7\u00e3o de consulta \u00e9 aprovada (realizada com sucesso com retorno igual a zero), ent\u00e3o verifica (atrav\u00e9s dos par\u00e2metros retornados no campo ParametrosConsulta ) quais campos devem ser habiltados (formas de pagamento, valor de desconto, juros e multa). Se a forma de pagamento for cheque, ent\u00e3o deve-se verificar se o banco do cheque \u00e9 o banco aceito para este pagamento. Tamb\u00e9m \u00e9 neste momento que os par\u00e2metros do campo ParametrosConsulta_2 devem ser processados (acatando os valores recebidos). No entanto, se a transa\u00e7\u00e3o de consulta n\u00e3o for aprovada (retorno diferente de zero), o pagamento dever\u00e1 ser cancelado e a mensagem de retorno do TEF deve ser apresentada (obter a mensagem atrav\u00e9s da fun\u00e7\u00e3o **UltimaMensagemTEF ).</p> Campo Descri\u00e7\u00e3o TParametrosConsulta_2 = record Cedente array[1..40] of char; DataContabil array[1..8] of char; ValorDocumento array[1..12] of char; ValorDesconto array[1..12] of char; ValorAbatimento array[1..12] of char; // Obs1 ValorBonificacao array[1..12] of char; // Obs1 ValorMulta array[1..12] of char; // Obs3 ValorJuros array[1..12] of char; ValorDevido array[1..12] of char; // Obs9 FlagValorCalculadoOperador array[1..1] of char; // Obs4 FlagTituloVencido array[1..1] of char; // Obs5 FlagTituloBradesco array[1..1] of char; // Obs6 FlagAceitaTitulo array[1..1] of char; // Obs7 FlagValorDiverge array[1..1] of char; // Obs8 ValorCobrado array[1..12] of char; // Obs10 <p>Depois da coleta das informa\u00e7\u00f5es complementares (confirma\u00e7\u00e3o dos valores de desconto, juros e multa), a fun\u00e7\u00e3o TransacaoPagamentoCB pode ser realizada.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/Crediario/","title":"Credi\u00e1rio","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/Crediario/#crediario","title":"Credi\u00e1rio","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoCrediario(char *pValorTransacao, char *pNumeroCupom, \n                                               char *pNumeroControle)\n</code></pre> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/Crediario/#crediario-completa","title":"Credi\u00e1rio Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoCrediarioCompleta(char *pValorTransacao, char *pNumeroCupom, \n                                                       char *pNumeroControle, char *pNumeroParcelas, \n                                                       char *pDataParcela1, char *pValorParcela1, \n                                                       char *pValorEntrada, char *pPermiteAlteracao,\n                                                       char *pReservado)\n</code></pre> <p>Quando a automa\u00e7\u00e3o comercial necessitar de detalhes mais precisos da transa\u00e7\u00e3o, de cart\u00e3o credi\u00e1rio, pode ser usada a solicita\u00e7\u00e3o de transa\u00e7\u00e3o com cart\u00e3o credi\u00e1rio, atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoCartaoCrediarioCompleta. Os par\u00e2metros opcionais dessa fun\u00e7\u00e3o s\u00e3o os seguintes:</p> <p>NumeroParcelas (*)</p> <p>DataParcela1 (*)</p> <p>ValorParcela1 (*)</p> <p>ValorEntrada (*)</p> <p>PermiteAlteracao (*)</p> <p>Reservado (*)</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroParcelas 02N N\u00famero de parcelas (00 \u2013 99) DataParcela1 08N &lt;ddmmaaaa&gt; Data da parcela1 ValorParcela1 12N 10 inteiros, 2 decimais ValorEntrada 12N 10 inteiros, 2 decimais PermiteAlteracao 01A [ S ] Permite alterar valores informados (exceto ValorTransacao)[ N ] N\u00e3o permite alterar valores informados Reservado 158A 02I [ 00 ] Transa\u00e7\u00e3oautorizada[ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/Crediario/#simulacao-crediario","title":"Simula\u00e7\u00e3o Credi\u00e1rio","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoSimulacaoCrediario(char *pValorTransacao, char *pNumeroCupom, \n                                                  char *pNumeroControle)\n</code></pre> <p>A fun\u00e7\u00e3o acima \u00e9 realizada atrav\u00e9s da chamada \u00e0s fun\u00e7\u00f5es TransacaoPreAutorizacaoCartaoCredito, TransacaoCancelamentoPagamento ou TransacaoCancelamentoPagamentoCompleta, TransacaoResumoVendas e TransacaoConsultaParcelas , TransacaoConsultaSaldo ou TransacaoConsultaSaldoCompleta, TransacaoSaque, TransacaoSaqueCompleta, TransacaoConsultaCadastroCPF, TransacaoSimulacaoCrediario, TransacaoDeposito, TransacaoSaqueTransferenciaDomestica, Simula\u00e7\u00e3o de Credi\u00e1rio.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) 02I [ 00 ] Transa\u00e7\u00e3o autorizada[ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>** quantidade de dias do ano informado at\u00e9 a data atual</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/DefineParametroTransacao/","title":"Define Par\u00e2metro de Transa\u00e7\u00e3o","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/DefineParametroTransacao/#defineparametrotransacao","title":"DefineParametroTransacao","text":"<pre><code>int DIRETIVA_CALLBACK DefineParametroTransacao(int iCodigoParametro,\n    char *pValorParametro,int iTamanhoParametro)\n</code></pre> <p>A fun\u00e7\u00e3o DefineParametroTransacao deve ser chamada sempre que o automa\u00e7\u00e3o comercial desejar repassar um par\u00e2metro espec\u00edfico para a transa\u00e7\u00e3o. Os par\u00e2metros aceitos est\u00e3o listados no \u00edtem 8.6 \u201cTabela 10.6 de PARAMETROS TRANSA\u00c7\u00c3O\u201d. Esta fun\u00e7\u00e3o deve ser utilizada antes de chamar a transa\u00e7\u00e3o espec\u00edfica que se deseja.</p> <p>Os par\u00e2metros est\u00e3o abaixo caracterizados a fun\u00e7\u00e3o DefineParametroTransacao.</p> Campo Tamanho Descri\u00e7\u00e3o CodigoParametro 04N C\u00f3digo do par\u00e2metro conforme tabela 6.0 ValorParametro 4096A Informa\u00e7\u00e3o para ser enviada. No m\u00e1ximo 4096 bytes. TamanhoParametro 04N Tamanho da informa\u00e7\u00e3o a ser enviada"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/DefineParametroTransacao/#parametros-transacao","title":"Parametros Transa\u00e7\u00e3o","text":"C\u00f3digo Par\u00e2metro Descri\u00e7\u00e3o 1000 DADOS ADICIONAIS LOJA Dados adicionais da LOJA, conhecido como MAD pela Elavon, utilizado para captar informa\u00e7\u00f5es adicionais da loja(para a rede imprimi-las no comprovante da transa\u00e7\u00e3o). 1001 NUMERO CARTAO AUTOMACAO N\u00famero do cart\u00e3o recebido da automa\u00e7\u00e3o. 1002 USAR NUMERO CARTAO AUTOMACAO Indica\u00e7\u00e3o de que deve tratar o n\u00famero do cart\u00e3o da automa\u00e7\u00e3o. 1003 SOFT DESCRIPTOR Informa\u00e7\u00e3o adicional do estabelecimento. Utilizado para redes que utilizam o campo na sub-adquir\u00eancia. 1004 TOKEN ESTABELECIMENTO Token recebido do PDV que ser\u00e1 passado nas transa\u00e7\u00f5es de fideliza\u00e7\u00e3o. 1005 LISTA PRODUTOS RESGATE Produtos recebidos numa transa\u00e7\u00e3o de resgate de fideliza\u00e7\u00e3o. Os dados ser\u00e3o passados diretamente para o Autorizador POS, por isso o formato dos dados dever\u00e1 ser definido pelo Autorizador. 1006 TOKEN CPF Informa\u00e7\u00e3o gerada pelo servidor a partir do CPF e que deve ser repassada em todas as transa\u00e7\u00f5es de fideliza\u00e7\u00e3o para a rede FTC Cards. 1007 VALIDADE CARTAO AUTOMACAO Validade do cart\u00e3o recebido da automa\u00e7\u00e3o - formato MMAA. 1008 NOME DBA AUTOMACAO Nome DBA. 1009 ENDERE\u00c7O Informar o valor com o endere\u00e7o a ser enviado para o Linx TEF. 1010 CIDADE Informar o valor com o cidade a ser enviado para o Linx TEF. 1011 UF Informar o valor com o UF a ser enviado para o Linx TEF. 1012 CEP Informar o valor com o CEP (somente n\u00fameros) a ser enviado para o Linx TEF. 1013 ID SUB ESTAB AUTOMACAO Informar o valor com o ID Sub_Estabelecimento a ser enviado para o Linx TEF. 1014 TELEFONE Informar o valor com o telefone a ser enviado para o Linx TEF. 1016 DATA EMBARQUE Informar a data de embarque. 1017 CAPTURA CARTAO DIGITADO For\u00e7a a captura do cart\u00e3o por digita\u00e7\u00e3o. 1018 CAPTURA CARTAO DIGITADO ATE 22 DIGITOS Permite a captura de cart\u00e3o por digita\u00e7\u00e3o com at\u00e9 22 d\u00edgitos. 1019 DADOS ADICIONAIS TLV Para acrescentar parametros diversos. 1020 ATUALIZAR OPERADORA BANDEIRA Flag para indicar a necessidade de recalcular a bandeira e operadora do cart\u00e3o. 1021 TRATAR QUEDA ENERGIA Informar o valor \"1\" para indicar que o client deve realizar o desfazimento das transa\u00e7\u00f5es da \u00faltima venda em que ocorreu queda de energia. 1022 NRR DESCRIPTION NSU do Autorizador (Alelo) - N\u00famero de Refer\u00eancia da Rede de captura. 1023 MERCHANT QTDE Quantidade de sub-merchants (max 5). 1024 MERCHANT IDS Sub-merchants IDs (max N15 x 5). 1025 MERCHANT AMOUNTS Sub-merchants Amounts (max N12 x 5). 1026 BIN CARTAO Bin do cart\u00e3o com seis d\u00edgitos. 1027 CPF/CNPJ Informar o valor com o CPF/CNPJ a ser enviado para o Linx TEF. Pode ser enviado com os caracteres especiais ou n\u00e3o, desde que o tamanho da string informada esteja correta. 1028 TITULAR DEPENDENTE AUTOMACAO Informar se \u00e9 titular ou dependente(1=titular/2=dependente). 1029 CODIGO REDE AUTOMACAO C\u00f3digo da rede selecionada. 1030 TIPO ASSOCIACAO Informar o tipo associa\u00e7\u00e3o  1-Venda/2-Recarga. 1031 TIPO FORMA ENTRADA AUTOMACAO Informar o tipo de identifica\u00e7\u00e3o1-cpf/2-placa/3-Telefone/4- CARTAO. 1032 NUMERO MAXIMO PARCELA CDC Indica n\u00famero m\u00e1ximo de parcelas, fin. para CDC. Quando menor que um, indica que n\u00e3o ser\u00e1 coletado. 1033 CODIGO TABELA CDC Indica o c\u00f3digo da tabela do plano de CDC selecionado. 1034 E-MAIL Informar o valor com o e-mail a ser enviado para o Linx TEF. 1035 PA\u00cdS Informar o valor com o Pa\u00eds a ser enviado para o Linx TEF. 1036 MCC Informar o valor com o MCC a ser enviado para o Linx TEF. 1037 NOME FANTASIA Informar o valor com o nome fantasia a ser enviado para o Linx TEF. 1038 CAMPO SLIP DAS OPCOES Campo auxiliar/complementar do campo de op\u00e7\u00f5es, para ser informado um SLIP para cada uma das op\u00e7\u00f5es. 1039 TOKEN TRANSACAO Informar o identificador da transa\u00e7\u00e3o. 1040 CODIGO REFERENCIA AUTOMACAO C\u00f3digo gravado para a transa\u00e7\u00e3o com o pedido da automa\u00e7\u00e3o."},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/FuncoesAdministrativas/","title":"Fun\u00e7\u00f5es Administrativas","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/FuncoesAdministrativas/#funcoes-administrativas","title":"Fun\u00e7\u00f5es Administrativas","text":"<p>A fun\u00e7\u00e3o atualmente disponibilizada \u00e9:</p> <pre><code> function TransacaoFuncoesAdministrativas(pValorTransacao, pNumeroCupom, pNumeroControle,\n pReservado: PChar);\n</code></pre> <p>A fun\u00e7\u00e3o TransacaoFuncoesAdministrativas permite que sejam acionadas fun\u00e7\u00f5es gerais que n\u00e3o necessitam de integra\u00e7\u00e3o mais direta com a automa\u00e7\u00e3o. \u00c9 uma fun\u00e7\u00e3o a ser utilizada na modalidade de recebimento e n\u00e3o como forma de pagamento.</p> <p>Os campos das fun\u00e7\u00f5es est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) Reservado 128A [ 0..0 ]: \u2018P\u2019 \u2013 apresenta apenas transa\u00e7\u00f5es do programa Premmia"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/ObtemDadosCartao/","title":"Obtem Dados Cartao","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/ObtemDadosCartao/#obtem-dados-cartao","title":"Obtem Dados Cart\u00e3o","text":"<p>Esse m\u00e9todo tem por objetivo devolver \u00e0 automa\u00e7\u00e3o dados genericos do cart\u00e3o, o formato da chamada e sua resposta estar\u00e3o descritos abaixo.</p> <p>M\u00e9todo disponivel a partir da release 8.22.23.0023 do Paykit <pre><code>const char* DIRETIVA_CALLBACK ObtemDadosCartaoJson(int *status)\n</code></pre></p> <p>M\u00e9todo disponivel a partir da release 8.22.23.0032 do Paykit <pre><code>const char* DIRETIVA_CALLBACK ObtemDadosCartaoJsonCompleta(char *input, int *status)\n</code></pre></p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/ObtemDadosCartao/#requisicao","title":"Requisi\u00e7\u00e3o","text":"Envio - Clique para mostrar o Objeto <p>Sendo char *input um ponteiro de char, para uma string contendo um json. Obrigatoriamente deve-se existir um <code>\\0</code> no final da string. <pre><code>//Exemplo json\n{\"transactionType\":1}\n</code></pre></p> Campo tipo Descri\u00e7\u00e3o transactionType int Campo utilizado para filtrar o cart\u00e3o a ser lido. \u2022 0 para qualquer cart\u00e3o\u2022 1 para Credito\u2022 2 para D\u00e9bito/Voucher"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/ObtemDadosCartao/#resposta","title":"Resposta","text":"Resposta - Clique para mostrar o objeto <p>Sendo int *status um ponteiro do tipo int, o qual retornar\u00e1 se o processamento da solicita\u00e7\u00e3o foi executado com sucesso. \u00c9 necess\u00e1rio que a automa\u00e7\u00e3o aloque a memoria do ponteiro antes de passa-lo ao m\u00e9todo, poss\u00edveis respostas:</p> Campo Tamanho Descri\u00e7\u00e3o Status 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>O retorno const char* do m\u00e9todo descrito acima conter\u00e1 os dados do cart\u00e3o e ser\u00e1 retornado no formato json descrito abaixo: <pre><code>{\n    \"cardBin\":\"123456\", \n    \"cardLastFourDigits\":\"4321\",\n    \"cardExpirationDate\":\"YYMM\"\n}\n</code></pre></p> Campo Tipo Descri\u00e7\u00e3o cardBin string Bin do cart\u00e3o cardLastFourDigits string Ultimos 4 digitos do cart\u00e3o. Retornado a partir da release 8.22.23.0032 cardExpirationDate string Data de expira\u00e7\u00e3o do cart\u00e3o <p>Nota: O retorno do m\u00e9todo n\u00e3o dever\u00e1 ser manipulado, dever\u00e1 ser copiado para um objeto interno da automa\u00e7\u00e3o antes de ser executado uma nova chamada ao Paykit, pois, a memoria ser\u00e1 limpa na pr\u00f3xima chamada ao Paykit.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/","title":"Outras Transa\u00e7\u00f5es","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#funcao-para-obtencao-de-informacoes-da-transacao-corrente","title":"Fun\u00e7\u00e3o para obten\u00e7\u00e3o de informa\u00e7\u00f5es da transa\u00e7\u00e3o corrente","text":"<p>A fun\u00e7\u00e3o atualmente disponibilizada \u00e9:</p> <pre><code>int DIRETIVA_CALLBACK ObtemInformacaoTransacaoCorrente(int iCodigoInformacao, \n    char *pValorInformacao)\n</code></pre> <p>A fun\u00e7\u00e3o ObtemInformacaoTransacaoCorrente deve ser utilizada para a obten\u00e7\u00e3o de informa\u00e7\u00f5es da transa\u00e7\u00e3o corrente.</p> <p>Os campos das fun\u00e7\u00f5es est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o CodigoInformacao 3N \u2022 [ 2 ] BIN do cart\u00e3o (6 primeiros d\u00edgitos).\u2022 [ 3 ] Valor da transa\u00e7\u00e3o em centavos.\u2022 [ 12 ] C\u00f3digo da transa\u00e7\u00e3o.\u2022 [ 25 ] C\u00f3digo da rede.\u2022 [ 334 ] C\u00f3digo da bandeira.\u2022 [ 899 ] Nome da bandeira.\u2022 [ 950 ] Nome da rede. pValorInformacao 1024A Valor da informa\u00e7\u00e3o solicitada pelo codigo da informa\u00e7\u00e3o fornecido."},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#funcao-para-obter-o-caminho-do-diretorio-de-cupons-tef","title":"Fun\u00e7\u00e3o  para obter o caminho do diret\u00f3rio de Cupons TEF","text":"<p>A fun\u00e7\u00e3o atualmente disponibilizada \u00e9:</p> <pre><code>int DIRETIVA_CALLBACK ObtemPathCupons(char *pPathCupons, int iPathLength)\n</code></pre> <p>A fun\u00e7\u00e3o ObtemPathCupons deve ser utilizada para obter o path onde o Paykit salvar\u00e1 os cupons ao final de cada transa\u00e7\u00e3o.  M\u00e9todo dispon\u00edvel a partir da vers\u00e3o: <code>8.22.21.00</code> do paykit.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o pPathCupons A Ponteiro que recebe o retorno do path completo do diret\u00f3rio de cupons em caso de sucesso. Exemplo: <code>C:\\ClientLinxTEF\\Cupons</code> iPathLength 03N Tamanho do buffer pPathCupons em bytes"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#funcao-para-obter-a-empresa-loja-pdv-ip-e-porta-do-servidor-tef-configurados-no-client","title":"Fun\u00e7\u00e3o para obter a Empresa, Loja, PDV, IP e Porta do servidor TEF configurados no client.","text":"<p>A fun\u00e7\u00e3o atualmente disponibilizada \u00e9:</p> <pre><code>int DIRETIVA_CALLBACK ObtemDadosConfigurados(char *pEmpresa, char *pLoja, char *pPDV, char *pCNPJ, char *pIPServidor,\n                                             int iIpLength, char *pPorta)\n</code></pre> <p>A fun\u00e7\u00e3o ObtemDadosConfigurados deve ser chamada sempre que a automa\u00e7\u00e3o comercial necessitar recuperar os dados configurados no client.   O m\u00e9todo retornar\u00e1 os dados de Empresa, Loja, CNPJ, IP e Porta do servidor TEF. M\u00e9todo dispon\u00edvel a partir da vers\u00e3o: <code>8.22.21.00</code> do paykit.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o pEmpresa 04N Ponteiro que recebe o retorno do numero da empresa em caso de sucesso. pLoja 04N Ponteiro que recebe o retorno do numero da loja em caso de sucesso. pPDV 04N Ponteiro que recebe o retorno do numero do PDV em caso de sucesso. pCNPJ 14N Ponteiro que recebe o retorno do numero do CNPJ em caso de sucesso. pIPServidor A Ponteiro que recebe o retorno do IP do servidor em caso de sucesso. iIpLength 03N Tamanho do buffer pIPServidor em bytes pPorta 05N Ponteiro que recebe o retorno da porta do servidor em caso de sucesso."},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#funcao-para-obter-a-empresa-e-loja-retornados-do-tef","title":"Fun\u00e7\u00e3o para obter a Empresa e Loja retornados do TEF.","text":"<p>A fun\u00e7\u00e3o atualmente disponibilizada \u00e9:</p> <pre><code>int DIRETIVA_CALLBACK ObtemDadosEmpresaLojaTEF(char *pCNPJ, char *pCodigoEmpresa, char *pCodigoLoja)\n</code></pre> <p>A fun\u00e7\u00e3o ObtemDadosEmpresaLojaTEF deve ser chamada sempre que a automa\u00e7\u00e3o comercial necessitar coletar os dados de Empresa e Loja do TEF. O m\u00e9todo retornar\u00e1 os dados de Empresa e Loja a partir do CNPJ informado.  M\u00e9todo dispon\u00edvel a partir da vers\u00e3o: <code>8.22.21.00</code> do paykit.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o pCNPJ 14N Ponteiro que cont\u00e9m o n\u00famero do CNPJ para realizar a coleta do c\u00f3digo de Empresa e Loja. pCodigoEmpresa 04N Ponteiro que recebe o retorno do numero da empresa em caso de sucesso. pCodigoLoja 04N Ponteiro que recebe o retorno do numero da loja em caso de sucesso."},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#transacao-pagamento-private-label-completa","title":"Transa\u00e7\u00e3o Pagamento Private Label Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoPagamentoPrivateLabelCompleta(char *pValorTransacao, \n    char *pNumeroCupom, char *pNumeroControle, char *pIndicadorDigitacao, char *pCodigoBarras, \n    char *pNumeroCartao, char *pCodigoRede, char *pPermiteAlteracao, char *pReservado)\n</code></pre> <p>Quando a automa\u00e7\u00e3o comercial necessitar fazer um pagamento de t\u00edtulo deve ser usada a solicita\u00e7\u00e3o de transa\u00e7\u00e3o de pagamento private label completa, atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoPagamentoPrivateLabelCompleta.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) IndicadorDigitacao 01N \u2022 [ 0 ] C\u00f3digo de Barras Lido\u2022 [ 1 ] C\u00f3digo de Barras digitado CodigoBarras 47A C\u00f3digo de Barras NumeroCartao 19A N\u00famero do cart\u00e3o CodigoRede 04N C\u00f3digo da Rede que ser\u00e1 enviada a transa\u00e7\u00e3o. Ex: 0007 para Redecard. PermiteAlteracao 01A \u2022 [ S ] Permite alterar valores informados (exceto ValorTransacao)\u2022 [ N ] N\u00e3o permite alterar valores informados Reservado 255A Campo Reservado \u2022 [Posi\u00e7\u00e3o] Campo \u2022 [01..01] Valor 1 se opera\u00e7\u00e3o de pagamento com cart\u00e3o de cr\u00e9dito ou 2 com cart\u00e3o de d\u00e9bito."},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consulta-private-label","title":"Consulta Private Label","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoConsultaPrivateLabel(char *pValorTransacao, char *pNumeroCupom,\n                                                    char *pNumeroControle)\n</code></pre> <p>Para a transa\u00e7\u00e3o acima, pode-se utilizar a fun\u00e7\u00e3o ConfirmaCartaoCredito . Ap\u00f3s a execu\u00e7\u00e3o desta, deve-se chamar a fun\u00e7\u00e3o FinalizaTransacao , assim como \u00e9 feito nas transa\u00e7\u00f5es de cart\u00f5es de d\u00e9bito, cr\u00e9dito e voucher.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consulta-parcelas","title":"Consulta parcelas","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoConsultaParcelas(char *pNumeroControle)\n</code></pre> <p>Para a transa\u00e7\u00e3o acima, pode-se utilizar a fun\u00e7\u00e3o ConfirmaCartaoCredito . Ap\u00f3s a execu\u00e7\u00e3o desta, deve-se chamar a fun\u00e7\u00e3o FinalizaTransacao , assim como \u00e9 feito nas transa\u00e7\u00f5es de cart\u00f5es de d\u00e9bito, cr\u00e9dito e voucher.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consulta-saldo","title":"Consulta Saldo","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoConsultaSaldo(char *pNumeroCupomVenda, char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consulta-saldo-completa","title":"Consulta Saldo Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoConsultaSaldoCompleta(char *pNumeroCupomVenda, char *pNumeroControle, \n                                                     char *pTipoCartao, char *pPermiteAlteracao, \n                                                     char *pReservado)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consulta-planos","title":"Consulta Planos","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoConsultaPlanos(char *pValorTransacao, char *pNumeroControle, \n                                              char *pReservado, char *pPlanos)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#funcao-para-consultar-status-das-transacoes-pela-automacao","title":"Fun\u00e7\u00e3o para consultar status das transa\u00e7\u00f5es pela automa\u00e7\u00e3o","text":"<pre><code>int DIRETIVA_CALLBACK ConsultaTransacao(char *pNumeroEmpresa, char *pNumeroLoja, \n    char *pNumeroPDV, char *pSolicitacao, char *pResposta, char *pMensagemErro)\n</code></pre> <p>A fun\u00e7\u00e3o ConsultaTransacao deve ser utilizada pela automa\u00e7\u00e3o para consultar o status das transa\u00e7\u00f5es.</p> <p>Os par\u00e2metros da fun\u00e7\u00e3o est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o NumeroEmpresa 4N N\u00famero da empresa NumeroLoja 4N N\u00famero da loja NumeroPDV 4N N\u00famero do PDV Solicitacao 102A Deve ser informada a data e o NSU da transa\u00e7\u00e3o. A estrutura da solicita\u00e7\u00e3o \u00e9: \u2022 [ Data ] 8 N - Formato YYYYMMDD  \u2022 [ NSU ] 6 N\u2022 [ Reservado ] 88 A Resposta 102A Estrutura preenchida com os valores gravados na base de dados. A estrutura da resposta ser\u00e1:\u2022 [ Data ] 8 N - Formato YYYYMMDD \u2022 [ NSU ] 6 N\u2022 [ Cupom ] 6 N\u2022 [ Status ] 2 N - Indica se a transa\u00e7\u00e3o est\u00e1 pendente. Uma transa\u00e7\u00e3o pendente estar\u00e1 com o valor \"77\".\u2022 [ CodigoResposta ] 4 N\u2022 [ Valor ] 12 N - 10 Decimais e 2 Inteiros\u2022 [ CodigoRede ] 4 N\u2022 [ CodigoBandeira ] 4 N\u2022 [ CodigoTransacao ] 4 N\u2022 [ NumeroCartao ] 20 N\u2022 [ Resolu\u00e7\u00e3o Pendencia ] 3 N\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u2022 000 - PDV\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u2022 001 - Web\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u2022 002 - Resolu\u00e7\u00e3o de pendencias PDV\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u2022 003 - WebService\u2022 [ Reservado ] 29 A MensagemRetorno 64A Mensagem de retorno do TEF, os dois primeiros bytes cont\u00e9m o codigo da resposta"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#saque","title":"Saque","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoSaque(char *pValorTransacao, char *pNumeroCupom, \n                                     char *pNumeroControle)\n</code></pre> <p>Para a transa\u00e7\u00e3o acima, pode-se utilizar a fun\u00e7\u00e3o ConfirmaCartaoCredito . Ap\u00f3s a execu\u00e7\u00e3o desta, deve-se chamar a fun\u00e7\u00e3o FinalizaTransacao , assim como \u00e9 feito nas transa\u00e7\u00f5es de cart\u00f5es de d\u00e9bito, cr\u00e9dito e voucher.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#saque-completa","title":"Saque Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoSaqueCompleta(char *pValorTransacao, char *pNumeroCupom, \n                                             char *pNumeroControle, char *pTipoTransacao, \n                                             char *pPlanoPagamento, char *pNumeroParcelas, \n                                             char *pPermiteAlteracao, char *pReservado)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#transacao-de-primeira-compra","title":"Transa\u00e7\u00e3o de Primeira Compra","text":"<p>Os campos das fun\u00e7\u00f5es est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) TipoOperacao 02A \u2022 [ AV ] \u00c0 vista\u2022 [ FL ] Financiamento Lojista \u2022 [ FA ] Financiamento Administradora NumeroParcelas 02N N\u00famero de parcelas (00 \u2013 99) ValorParcela 12N 10 inteiros, 2 decimais ValorEntrada 12N 10 inteiros, 2 decimais ValorTaxaServico 12N 10 inteiros, 2 decimais PermiteAlteracao 01A \u2022 [ S ] Permite alterar valores informados (exceto ValorTransacao) \u2022 [ N ] N\u00e3o permite alterar valores informados Reservado 158A [ Especifica\u00e7\u00e3o ]\u2022 [ 1..1 ] Uso restrito. Fixo \u201c0\u201d\u2022 [ 2..4 ] Uso restrito. Fixo \u201c000\u201d\u2022 [ 5..7 ] Plano de pagamento utilizado no PDV\u2022 [ 8..8 ] Valor [ 0 ] indica pagamento com Cart\u00e3o de Cr\u00e9dito;[ 1 ] indica pagamento com Crach\u00e1. [ 3 ] indica pagamento com cart\u00e3o Qualidade [ 4 ] indica pagamento com cart\u00e3o MettaCard\u2022 [ 9..9 ] Flag indicando se h\u00e1 dados de cart\u00e3o (Crach\u00e1) [ 0]N\u00e3o [ 1 ]Sim[10] Op\u00e7\u00e3o para Pagamento de fatura\u2022 0-&gt;Indica que n\u00e3o \u00e9 pagamento de fatura\u2022 1-&gt;C\u00f3digo de Barras digitado\u2022 2-&gt;C\u00f3digo de Barras lido \u00f3ticamente\u2022 3-&gt;CPF (11 caracteres)\u2022 4-&gt;Cart\u00e3o (n\u00e3o deve passar o n\u00famero do cart\u00e3o, colocar tamanho dos dados zerado)\u2022 5-&gt;Outros(at\u00e9 40 caracteres)\u2022 [11..12] Tamanho dos dados da op\u00e7\u00e3o de pagamento de fatura\u2022 [13..59] Dados do pagamento de fatura\u2022 [60..126] Uso restrito.\u2022 [127..138] Valor da taxa de embarque\u2022 [139..139] Tipo de Venda (0-Normal; 1-Promocional)\u2022 [ Especifica\u00e7\u00e3o do Retorno ]C\u00f3digo poss\u00edveis :\u2022 [ 01 ] Dados Correspondente Banc\u00e1rio\u2022 [ 02 ] Dados Correspondente Banc\u00e1rio\u2022 [ 03 ] Dados Correspondente Banc\u00e1rio\u2022 [ 04 ] Dados Correspondente Banc\u00e1rio\u2022 [ 05 ] Dados Venda Crach\u00e1\u2022 [ 06 ] Dados Correspondente Banc\u00e1rio\u2022 [ 07 ] Dados Correspondente Banc\u00e1rio\u2022 [ Especifica\u00e7\u00e3o dos Dados Venda Crach\u00e1 ]\u2022 [ 01..09 ] CodigoAutorizacao\u2022 [ 10..59 ] NomeFuncionario\u2022 [ 60..71 ] ValorDesconto\u2022 [ 72..76 ] PercentualDesconto"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#primeira-compra","title":"Primeira Compra","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoPrimeiraCompra(char *pValorTransacao, \n    char *pNumeroCupom, char *pNumeroControle);\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#primeira-compra-completa","title":"Primeira Compra Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoPrimeiraCompraCompleta(char *pValorTransacao, char *pNumeroCupom,\n    char *pNumeroControle, char *pTipoOperacao, char *pNumeroParcelas, char *pValorParcela,\n    char *pValorTaxaServico, char *pPermiteAlteracao, char *pReservado);\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#pre-autorizacao-credito","title":"Pr\u00e9 Autoriza\u00e7\u00e3o Cr\u00e9dito","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoPreAutorizacaoCartaoCredito(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoConfirmacaoPreAutorizacao(char *pNumeroControle)\n</code></pre> <p>Para a transa\u00e7\u00e3o acima, pode-se utilizar a fun\u00e7\u00e3o ConfirmaCartaoCredito . Ap\u00f3s a execu\u00e7\u00e3o desta, deve-se chamar a fun\u00e7\u00e3o FinalizaTransacao , assim como \u00e9 feito nas transa\u00e7\u00f5es de cart\u00f5es de d\u00e9bito, cr\u00e9dito e voucher.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#informacoes-debito-parcelado","title":"Informa\u00e7\u00f5es D\u00e9bito Parcelado","text":"<p>procedure ObtemInfTransacaoDebitoParcelado(pDados: Pchar);</p> <p>A fun\u00e7\u00e3o ObtemInfTransacaoDebitoParcelado retorna informa\u00e7\u00f5es sobre as parcelas da \u00faltima transa\u00e7\u00e3o de d\u00e9bito parcelado realizada. Essa informa\u00e7\u00e3o est\u00e1 dispon\u00edvel apenas para as transa\u00e7\u00f5es cujas parcelas sejam disponibilizadas pela rede autorizadora.</p> <p>Os dados da transa\u00e7\u00e3o s\u00e3o retornados na \u00e1rea que deve ser previamente alocada e passada como par\u00e2metro. A estrutura retornada est\u00e1 caracterizada abaixo.</p> Campo Tamanho Descri\u00e7\u00e3o N\u00famero de parcelas 04B N\u00famero de parcelas. O tipo do dado retornado \u00e9 inteiro, em formato bin\u00e1rio, representa\u00e7\u00e3o little endian. Por exemplo, o valor de 5 parcelas ser\u00e1 retornado como 0x05 0x00 0x00 0x00 Data Parcela 1 08N Data da parcela, no formato DDMMAAAA Valor Parcela 1 12N 10 inteiros, 2 decimais Data Parcela n 08N Data da parcela, no formato DDMMAAAA Valor Parcela n 12N 10 inteiros, 2 decimais"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#estatistica","title":"Estat\u00edstica","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoEstatistica(char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consulta-cadastro-cpf","title":"Consulta Cadastro CPF","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoConsultaCadastroCPF(char *pValorTransacao, char *pNumeroCupom, \n                                                   char *pNumeroControle, char *pTipoOperacao, \n                                                   char *pDocEmissor, char *pPermiteAlteracao, \n                                                   char *pReservado)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#transacao-consulta-cadastro-cpf-completa","title":"Transa\u00e7\u00e3o Consulta Cadastro CPF Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoConsultaCadastroCPFCompleta(char *pValorTransacao, char *pNumeroCupom,\n                                                           char *pNumeroControle, char *pTipoOperacao,\n                                                           char *pDocEmissor, char *pPermiteAlteracao,\n                                                           char *pReservado)\n</code></pre> <p>Quando a automa\u00e7\u00e3o comercial necessitar de verifica\u00e7\u00e3o dos destinat\u00e1rios de um emissor deve ser usada a solicita\u00e7\u00e3o de transa\u00e7\u00e3o de consulta de cadastro CPF completa, atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoConsultaCadastroCPFCompleta. Os par\u00e2metros destas fun\u00e7\u00f5es s\u00e3o os seguintes:</p> <ul> <li>ValorTransacao</li> <li>NumeroCupom</li> <li>NumeroControle</li> <li>TipoOperacao</li> <li>DocEmissor</li> <li>PermiteAlteracao</li> <li>Reservado (*)</li> </ul> <p>O preenchimento dos par\u00e2metros indicados com (*) \u00e9 opcional. Caso o sistema de automa\u00e7\u00e3o n\u00e3o possua estas informa\u00e7\u00f5es, devem ser preenchidos com zeros ou espa\u00e7os, conforme o tipo do campo.</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 preenchido o campo NumeroControle, o DocEmissor e ser\u00e1 devolvido o status, indicando o resultado da transa\u00e7\u00e3o.</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p> <p>O NumeroControle, inclu\u00eddo na resposta, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o, pois na fun\u00e7\u00e3o de confirma\u00e7\u00e3o este n\u00famero ser\u00e1, obrigatoriamente, utilizado.</p> <p>Caso a transa\u00e7\u00e3o seja autorizada, ser\u00e1 disponibilizado no diret\u00f3rio parametrizado para os cupons um arquivo contendo o comprovante da opera\u00e7\u00e3o a ser impresso pela automa\u00e7\u00e3o. O nome desse arquivo tem o formato NNNNNN.PPP, onde NNNNNN \u00e9 o NumeroControle e PPP \u00e9 o n\u00famero do terminal configurado.</p> <p>Ao final da venda para encerrar a opera\u00e7\u00e3o deve ser chamada a fun\u00e7\u00e3o FinalizaTransacao, documentada  nesta p\u00e1gina.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Descri\u00e7\u00e3o Tamanho Observa\u00e7\u00e3o ValorTransacao 12 N 10 inteiros, 2 decimais NumeroCupom 06 N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06 N NSU (n\u00famero seq\u00fcencial \u00fanico) TipoOperacao 01 N [1] Nacional; [2] Internacional DocEmissor 11 A N\u00famero do Documento do Emissor (CPF ou passaporte) PermiteAlteracao 01 A [S] Permite alterar valores informados (exceto ValorTransacao) [N] N\u00e3o permite alterar valores informados"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#transacao-atualizacao-de-parametros-do-cartao","title":"Transa\u00e7\u00e3o Atualiza\u00e7\u00e3o de Par\u00e2metros do Cart\u00e3o","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoAtualizacaoParametrosCartao(char *pNumeroControle)\n</code></pre> <p>A solicita\u00e7\u00e3o da transa\u00e7\u00e3o de atualiza\u00e7\u00e3o de par\u00e2metros do cart\u00e3o \u00e9 realizada atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoAtualizacaoParametrosCartao e serve para que a Rede Adquirente envie informa\u00e7\u00f5es para serem atualizadas no cart\u00e3o. Para esta fun\u00e7\u00e3o deve-se enviar o seguinte par\u00e2metro:</p> <p>NumeroControle</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 preenchido o campo NumeroControle e ser\u00e1 devolvido o , indicando o resultado da transa\u00e7\u00e3o.</p> <p>O NumeroControle , inclu\u00eddo na resposta, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o, pois na fun\u00e7\u00e3o de confirma\u00e7\u00e3o este n\u00famero ser\u00e1, obrigatoriamente, utilizado.</p> <p>Esta transa\u00e7\u00e3o n\u00e3o \u00e9 financeira, ou seja, n\u00e3o deve gerar cupom fiscal.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#resgate-de-premio","title":"Resgate de Pr\u00eamio","text":"<p>A fun\u00e7\u00e3o atualmente disponibilizada \u00e9:</p> <pre><code>int DIRETIVA_CALLBACK TransacaoResgatePremio(char *pNumeroCupom, char *pNumeroControle)\n</code></pre> <p>A fun\u00e7\u00e3o TransacaoResgatePremio permite que seja feito o resgate de pr\u00eamios da plataforma promocional da Cielo. \u00c9 uma fun\u00e7\u00e3o a ser utilizada na modalidade de recebimento e n\u00e3o como forma de pagamento. N\u00e3o existem par\u00e2metros espec\u00edficos para a fun\u00e7\u00e3o e todo o controle de pr\u00eamios a serem exibidos \u00e9 feito pelo Linx TEF.</p> <p>Essa transa\u00e7\u00e3o n\u00e3o gera comprovante e portanto ele n\u00e3o precisa ser impresso.</p> <p>Os campos das fun\u00e7\u00f5es est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico)"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#transacoes-de-pontos","title":"Transa\u00e7\u00f5es de Pontos","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoAcumuloPontos(char *pValorTransacao, char *pNumeroCupom, \n    char *pTipoDocumentoCliente, char *pDocumentoCliente, char *pTipoDocumentoAtendente, \n    char *pDocumentoAtendente, char *pPermiteAlteracao, char *pReservadoAcumulo, \n    char *pNumeroControle, char *pSaldoPontos)\n</code></pre> <p><pre><code>int DIRETIVA_CALLBACK TransacaoResgatePontos(char *pValorTransacao, char *pNumeroCupom, \n    char *pTipoDocumentoCliente, char *pDocumentoCliente, char *pTipoDocumentoAtendente, \n    char *pDocumentoAtendente, char *pProdutos, char *pPermiteAlteracao, char *pReservadoResgate, \n    char *pNumeroControle, char *pSaldoPontos)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoConsultaPontos(char *pValorTransacao, char *pNumeroCupom, \n    char *pTipoDocumentoCliente, char *pDocumentoCliente, char *pTipoDocumentoAtendente, \n    char *pDocumentoAtendente, char *pProdutos, char *pPermiteAlteracao, \n    char *pReservadoConsulta, char *pNumeroControle, char *pSaldoPontos)\n</code></pre></p> <pre><code>int DIRETIVA_CALLBACK TransacaoExtratoPontos(char *pValorTransacao, char *pNumeroCupom, \n    char *pTipoDocumentoCliente, char *pDocumentoCliente, char *pTipoDocumentoAtendente, \n    char *pDocumentoAtendente, char *pProdutos, char *pPermiteAlteracao, \n    char *pReservadoExtrato, char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoRelatorioPontos(char *pParametrosRelatorio, \n    char *pPermiteAlteracao, char *pReservadoRelatorio,  char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoConsultaProdutosResgate(char *pValorTransacao, char *pNumeroCupom,\n    char *pTipoDocumentoCliente, char *pDocumentoCliente, char *pTipoDocumentoAtendente, \n    char *pDocumentoAtendente, char *pProdutos, char *pPermiteAlteracao, \n    char *pReservadoConsultaProdutosResgate, char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoResgateProdutos(char *pValorTransacao, char *pNumeroCupom, \n    char *pTipoDocumentoCliente, char *pDocumentoCliente, char *pTipoDocumentoAtendente, \n    char *pDocumentoAtendente, char *pProdutos, char *pPermiteAlteracao, char *pReservadoResgate, \n    char *pNumeroControle, char *pSaldoPontos)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoEstornoAcumuloPontos(char *pValorTransacao, char *pNumeroCupom,\n    char *pTipoDocumentoCliente, char *pDocumentoCliente, char *pTipoDocumentoAtendente, \n    char *pDocumentoAtendente, char *pDataEstorno, char *pNSUEstorno, char *pPermiteAlteracao, \n    char *pReservadoEstorno, char *pNumeroControle)\n</code></pre> <p>A solicita\u00e7\u00e3o de transa\u00e7\u00f5es de pontos s\u00e3o feitas com as fun\u00e7\u00f5es TransacaoAcumuloPontos, TransacaoResgatePontos, TransacaoConsultaPontos e TransacaoRelatorioPontos.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais Transa\u00e7\u00e3o de resgate de pontos - Dependendo da Forma de resgate utilizada, indicada no campo ReservadoResgate, o campo Valortransacao ser\u00e1 tratado de diferentes formas:\u2022 Se FormaResgate [V] o campo indica o valor a ser resgatado em R$ com 2 casas decimais;\u2022 Se FormaResgate [P] o campo indica quantidade de pontos com 12 inteiros e 0 decimais;\u2022 Se FormaResgate [C] o campo indicar\u00e1 o valor total da compra e ser\u00e1 utilizado como limite m\u00e1ximo de valor para resgate dos Cupons/Vales/Vouchers. NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) TipoDocumentoCliente 01A Tipo do documento do cliente\u2022 [F] CPF\u2022 [J] CNPJ\u2022 [C] Cart\u00e3o \u2022 [I] C\u00f3digo interno DocumentoCliente 37N Documento do cliente, conforme tipo informado acima TipoDocumentoAtendente01 01A Tipo do documento do atendente\u2022 [F] CPF \u2022 [J] CNPJ \u2022 [C] Cart\u00e3o \u2022 [I] C\u00f3digo interno DocumentoAtendente 37N Documento do atendente, conforme tipo informado acima PermiteAlteracao 01A Permite altera\u00e7\u00e3o pelo usu\u00e1rio dos par\u00e2metros informados. Caso o par\u00e2metro seja \u201cN\u00e3o\u201d, o Paykit ir\u00e1 assumir os valores passados nos par\u00e2metros sem solicitar a altera\u00e7\u00e3o. \u2022 [S] Sim \u2022 [N] N\u00e3o ReservadoAcumulo 255P Par\u00e2metros adicionais\u2022 QuantidadePromocoes |CodigoPromocao1;QuantidadeItensPromocao|...|CodigoPromocaoN;QuantidadeItensPromocaoN Exemplos:\u2022 2|3;4|1;3 NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) Produtos N A Lista de produtos, no formato:\u2022 QuantidadeProdutos| CodigoProduto1;QuantidadeItensProduto1 |...| CodigoProdutoN ;QuantidadeItensProdutoN Exemplos: \u2022 2|1;1|2;3 \u2022 3|2;1|5;1|5;2 ReservadoResgate 255P Par\u00e2metros adicionais FormaResgate\u2022 [V] Resgate por valor\u2022 [P] Resgate por quantidade de pontos \u2022 [C] Resgate por vales Exemplos \u2022 V \u2022 P ReservadoConsulta 255P Par\u00e2metros adicionais TipoConsulta TipoConsulta\u2022 [S] Saldo \u2022 [E] Extrato Exemplos: \u2022 S \u2022 E ParametrosRelatorio 255P Par\u00e2metros no formato:\u2022 TipoRelatorio |PeriodoRelatorio\u2022 Tipo do Relat\u00f3rio\u2022 [G] Geral\u2022 [P] Per\u00edodoPeriodoRelatorio\u2022 AAAAMMDD ; AAAAMMDD \u2013 Per\u00edodo Inicial;Per\u00edodo FinalExemplos:\u2022 P|20150310;20150311\u2022 G|;Obs.: no relat\u00f3rio geral, o per\u00edodo \u00e9 desconsiderado ReservadoRelatorio 255P Reservado para uso futuro DataEstorno 08N  Data da transa\u00e7\u00e3o de ac\u00famulo original NSU Estorno 06N NSU do estorno Reservado Estorno 255P Reservado para uso futuro SaldoPontos 12N Saldo de pontos"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#plataforma-promocional-cielo","title":"Plataforma Promocional CIELO","text":"<p>Para tratar essa funcionalidade \u00e9 necess\u00e1rio que a automa\u00e7\u00e3o comercial realize implementa\u00e7\u00f5es espec\u00edficas, chamando algumas fun\u00e7\u00f5es que numa situa\u00e7\u00e3o normal de pagamento n\u00e3o s\u00e3o utilizadas. Os passos para realizar este tratamento s\u00e3o os seguintes:</p> <p>Chamar a fun\u00e7\u00e3o IdentificacaoAutomacaoComercial para informar ao Linx TEF que a automa\u00e7\u00e3o est\u00e1 preparada para tratar as situa\u00e7\u00f5es especiais que poder\u00e3o ocorrer quando a rede autorizadora um desconto na transa\u00e7\u00e3o.</p> <p>Na resposta da chamada da transa\u00e7\u00e3o financeira ( TransacaoCartaoCredito , por exemplo), verificar as informa\u00e7\u00f5es do log estendido para identificar se a rede autorizadora respondeu a transa\u00e7\u00e3o com um desconto. Se houve desconto, dever\u00e1 ser tratada a parte fiscal (gerar o desconto no cupom). Para obter essa informa\u00e7\u00e3o, verificar a documenta\u00e7\u00e3o sobre a fun\u00e7\u00e3o ObtemLogUltimaTransacao , especificamente sobre o Log Estendido. Esta verifica\u00e7\u00e3o deve ser feita somente se a rede autorizadora da transa\u00e7\u00e3o \u00e9 uma rede do Linx TEF, pois para as transa\u00e7\u00f5es feitas com redes no Linx TEF 5 o log estendido n\u00e3o \u00e9 gerado.</p> <p>Implementar a chamada \u00e0 fun\u00e7\u00e3o TransacaoResgatePremio , para fazer o resgate dos pr\u00eamios.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#transacao-cheque","title":"Transa\u00e7\u00e3o Cheque","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCheque(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle,\n                                      char *pQuantidadeCheques, char *pPeriodicidadeCheques, \n                                      char *pDataPrimeiroCheque, char *pCarenciaPrimeiroCheque)\n</code></pre> <p>A solicita\u00e7\u00e3o de transa\u00e7\u00e3o com cheque \u00e9 realizada atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoCheque , com a passagem dos seguintes par\u00e2metros opcionais:</p> <p>QuantidadeCheques</p> <p>PeriodicidadeCheques</p> <p>DataPrimeiroCheque</p> <p>CarenciaPrimeiroCheque</p> <p>Se for retornado um comprovante a ser impresso, a confirma\u00e7\u00e3o e a finaliza\u00e7\u00e3o da transa\u00e7\u00e3o ser\u00e3o necess\u00e1rias. Para saber se um comprovante foi retornado, ap\u00f3s a execu\u00e7\u00e3o com sucesso da fun\u00e7\u00e3o dever\u00e1 ser pesquisado no diret\u00f3rio de libera\u00e7\u00e3o de cupons o arquivo correspondente ao n\u00famero de controle retornado na fun\u00e7\u00e3o.</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 devolvido o , indicando o resultado da transa\u00e7\u00e3o.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) QuantidadeCheques 02N Quantidade de cheques da transa\u00e7\u00e3o PeriodicidadeCheques 03N Periodicidade, em dias, entre os cheques. [ 000 ] indica periodicidade vari\u00e1vel (livre) a ser coletada. DataPrimeiroCheque 08N Data do dep\u00f3sito do primeiro cheque, no formato &lt;ddmmaaaa&gt; CarenciaPrimeiroCheque 03N Car\u00eancia, em dias, para o dep\u00f3sito do primeiro cheque 02I [ 00 ] Transa\u00e7\u00e3o autorizada [ 11 ] Transa\u00e7\u00e3o n\u00e3o autorizada <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o e que os cheques envolvidos foram impressos com sucesso.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#cheque-completa","title":"Cheque Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoChequeCompleta(char *pValorTransacao, char *pNumeroCupomVenda, \n                                              char *pNumeroControle, char *pQuantidadeCheques, \n                                              char *pPeriodicidadeCheques, char *pDataPrimeiroCheque, \n                                              char *pCarenciaPrimeiroCheque, char *pTipoDocumento, \n                                              char *pNumeroDocumento, char *pQuantidadeCheques, \n                                              char *pSequenciaCheque, char *pCamaraCompensacao, \n                                              char *pNumeroBanco, char *pNumeroAgencia, \n                                              char *pNumeroContaCorrente, char *pNumeroCheque, \n                                              char *pDataDeposito, char *pValorCheque, \n                                              char *pDataNascimentoCliente, char *pTelefoneCliente, \n                                              char *pCMC7, char *pPermiteAlteracao, char *pReservado)\n</code></pre> <p>Quando a automa\u00e7\u00e3o comercial necessitar de detalhes mais precisos da transa\u00e7\u00e3o, de cheque, pode ser usada a solicita\u00e7\u00e3o de transa\u00e7\u00e3o com cheque completa, atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoChequeCompleta. Os par\u00e2metros opcionais dessa fun\u00e7\u00e3o s\u00e3o os seguintes:</p> <p>QuantidadeCheques</p> <p>PeriodicidadeCheques</p> <p>DataPrimeiroCheque</p> <p>CarenciaPrimeiroCheque</p> <p>TipoDocumento</p> <p>NumeroDocumento</p> <p>QuantidadeCheques</p> <p>SequenciaCheque</p> <p>CamaraCompensacao</p> <p>NumeroBanco</p> <p>NumeroAgencia</p> <p>NumeroContaCorrente</p> <p>NumeroCheque</p> <p>DataDeposito</p> <p>ValorCheque</p> <p>DataNascimentoCliente</p> <p>TelefoneCliente</p> <p>CMC7</p> <p>PermiteAlteracao</p> <p>Reservado</p> <p>Se for retornado um comprovante a ser impresso, a confirma\u00e7\u00e3o e a finaliza\u00e7\u00e3o da transa\u00e7\u00e3o ser\u00e3o necess\u00e1rias. Para saber se um comprovante foi retornado, ap\u00f3s a execu\u00e7\u00e3o com sucesso da fun\u00e7\u00e3o dever\u00e1 ser pesquisado no diret\u00f3rio de libera\u00e7\u00e3o de cupons o arquivo correspondente ao n\u00famero de controle retornado na fun\u00e7\u00e3o.</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 devolvido o , indicando o resultado da transa\u00e7\u00e3o.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) QuantidadeCheques 02N Quantidade de cheques da transa\u00e7\u00e3o PeriodicidadeCheques 03N Periodicidade, em dias, entre os cheques. O valor [ 000 ] indica periodicidade vari\u00e1vel (livre) a ser coletada. DataPrimeiroCheque 08N Data do dep\u00f3sito do primeiro cheque, no formato &lt;ddmmaaaa&gt; CarenciaPrimeiroCheque 03N Car\u00eancia, em dias, para o dep\u00f3sito do primeiro cheque TipoDocumento 01N \u2022 [ 1 ] CPF\u2022 [ 2 ] CNPJ NumeroDocumento 14N CPF ou CNPJ QuantidadeCheques 02N Quantidade de cheques da transa\u00e7\u00e3o ( obrigat\u00f3rio para consulta de m\u00faltiplos cheques ) SequenciaCheque 02N N\u00famero de seq\u00fc\u00eancia do cheque ( obrigat\u00f3rio para consulta de m\u00faltiplos cheques ) CamaraCompensacao 03N C\u00e2mara de compensa\u00e7\u00e3o NumeroBanco 03N N\u00famero do banco NumeroAgencia 04N N\u00famero da agencia NumeroContaCorrente 10N N\u00famero da conta-corrente NumeroCheque 07N N\u00famero do cheque com D\u00edgito verificador DataDeposito 08N &lt;ddmmaaaa&gt; ValorCheque 12N 10 inteiros, 2 decimais DataNascimentoCliente 08N &lt;ddmmaaaa&gt; TelefoneCliente 12A Telefone somente com caracteres num\u00e9ricos CMC7 50A Conte\u00fado da trilha CMC-7 PermiteAlteracao 01A [ S ] Permite alterar valores informados (exceto ValorTransacao) [ N ] N\u00e3o Permite alterar valores informados Reservado 51A [ Especifica\u00e7\u00e3o ] [ 01..01 ] Reservado [ 02..13 ] Valor m\u00e1ximo permitido para a transa\u00e7\u00e3o [ 14..14 ] [ S ] Consultar Cheque [ N ] N\u00e3o consultar [ 15..15 ] D\u00edgito C1 do cheque coletado [ 16..16 ] D\u00edgito C2 do cheque coletado [ 17..17 ] D\u00edgito C3 do cheque coletado [ 18..23 ] Cliente Desde, no formato 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o autorizada <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o e que os cheques envolvidos foram impressos com sucesso.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p> <p>Habilitando a Consulta de M\u00faltiplos Cheques</p> <p>Para realizar a consulta de m\u00faltiplos cheques em uma mesma transa\u00e7\u00e3o com a rede verificadora, \u00e9 necess\u00e1rio que o Paykit esteja parametrizado para efetuar tal procedimento. Esta parametriza\u00e7\u00e3o deve ser realizada no Linx TEF e \u00e9 armazenado no arquivo CHEQUE.TEF. Este arquivo dever\u00e1 ser copiado para o diret\u00f3rio do Paykit. Al\u00e9m disso, s\u00f3 \u00e9 permitido a consulta de m\u00faltiplos cheques para cheques da mesma conta. Se for realizado recebimentos de cheque de contas diferentes, ser\u00e1 enviado para a rede uma transa\u00e7\u00e3o de consulta para cada cheque, independente da parametriza\u00e7\u00e3o definida.</p> <p>Este tipo de consulta \u00e9 v\u00e1lido somente quando o automa\u00e7\u00e3o comercial realiza a consulta atrav\u00e9s da chamada da fun\u00e7\u00e3o TransacaoChequeCompleta informando os campos referentes \u00e0 seq\u00fc\u00eancia e a quantidade de cheques. A consulta do(s) cheque(s) ser\u00e1 enviada ao Linx TEF ap\u00f3s a coleta do \u00faltimo cheque (campo pSequenciaCheque igual ao campo pQuantidadeCheques ). Para isto, o automa\u00e7\u00e3o comercial dever\u00e1 realizar uma chamada da fun\u00e7\u00e3o TransacaoChequeCompleta para cada cheque a ser processado, acumulando o campo pSequenciaCheque at\u00e9 atingir a quantidade de cheques informado (campo pQuantidadeCheques ).</p> <p>Observa\u00e7\u00e3o : a consulta de m\u00faltiplos cheques est\u00e1 limitado em 24 cheques na mesma transa\u00e7\u00e3o de consulta com a rede.</p> <p>Importante : esta funcionalidade depende da institui\u00e7\u00e3o verificadora cadastrada. Nem todas possuem este recurso. Portanto, deve-se consultar a rede se h\u00e1 disponibilidade deste servi\u00e7o.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consultando-cheques-garantidos","title":"Consultando Cheques Garantidos","text":"<pre><code>int DIRETIVA_CALLBACK ConsultaChequesGarantidos(char *pTipoDocumento, char *pNumeroDocumento, \n                                                char *pDataInicialConsulta, char *pDataFinalConsulta, \n                                                char *pNumeroControle)\n</code></pre> <p>Para realizar a consulta dos cheques que foram garantidos pela rede autorizadora, deve-se realizar chamada \u00e0 fun\u00e7\u00e3o ConsultaChequesGarantidos . Esta fun\u00e7\u00e3o s\u00f3 est\u00e1 dispon\u00edvel caso a garantia de cheques esteja habilitada. Esta parametriza\u00e7\u00e3o deve ser realizada no Linx TEF e \u00e9 armazenado no arquivo CHEQUE.TEF. Este arquivo dever\u00e1 ser copiado para o diret\u00f3rio do Paykit. A seguir, est\u00e3o detalhados os par\u00e2metros utilizados na chamada da fun\u00e7\u00e3o.</p> Campo Tamanho Descri\u00e7\u00e3o TipoDocumento 01N \u2022 [ 1 ] CPF\u2022 [ 2 ] CNPJ NumeroDocumento 14N CPF ou CNPJ NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) DataInicialConsulta 08N DDMMAAAA DataFinalConsulta 08N DDMMAAAA 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o autorizada <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#especificacao-solicita-funcoes","title":"Especifica\u00e7\u00e3o Solicita Fun\u00e7\u00f5es","text":"<p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) TipoCartao 01N Indica o tipo de cart\u00e3o que deseja consultar o saldo [ 1 ] Cr\u00e9dito [ 2 ] D\u00e9bito [ 3 ] Private [ 4 ] CPF (1) [ 5 ] CNPJ (\u00b9) TipoTransacao 01N \u2022 [ 0 ] Consulta Saque [ 1 ] Saque TipoOperacao 01N \u2022 [ 1 ] Nacional [ 2 ] Internacional DocEmissor 11A N\u00famero do Documento do Destinat\u00e1rio (CPF ou passaporte) DocDestinatario 11A N\u00famero do Documento do Destinat\u00e1rio (CPF ou passaporte) CodigoPIN 11A N\u00famero do Documento recebido via SMS PlanoPagamento 03N C\u00f3digo do plano de pagamento NumeroParcelas 02N N\u00famero de parcelas PermiteAlteracao 01A [ S ] Permite alterar valores informados (exceto ValorTransacao) [ N ] N\u00e3o permite alterar valores informados Reservado 158A [ Especifica\u00e7\u00e3o \u2013 TransacaoCancelamentoPagamento ]\u2022 [ 1..1 ] Valor\u2022 - [ 0 ] indica cancelamento de pagamento feito com Cart\u00e3o;\u2022 - [ 1 ] indica cancelamento de pagamento feito com Crach\u00e1;\u2022 - [ 2 ] indica cancelamento de pagamento d\u00e9bito Wappa;\u2022 - [ 3 ] indica cancelamento de pagamento feito com cart\u00e3o Qualidade\u2022 - [ 4 ] indica cancelamento de pagamento feito com cart\u00e3o MettaCard\u2022 - [ 5 ] indica cancelamento de pagamento feito com cart\u00e3o Ecopag\u2022 - [ Q ] indica cancelamento de pagamento feito com QR Code\u2022 [ 2..9 ] Data da transa\u00e7\u00e3o a ser cancelada, no formato AAAAMMDD\u2022 [ Especifica\u00e7\u00e3o do Retorno ]\u2022 C\u00f3digo poss\u00edveis :\u2022 [ 01 ] Dados Venda Crach\u00e1\u2022 [ Especifica\u00e7\u00e3o dos Dados Venda Crach\u00e1 ]\u2022 [ 01..09 ] CodigoAutorizacao\u2022 [ 10..59 ] NomeFuncionario\u2022 [ 60..71 ] ValorDesconto\u2022 [ 72..76 ] PercentualDesconto[Especifica\u00e7\u00e3o dos Dados \u2013 Opera\u00e7\u00e3o Saque]\u2022 [ 01 ] N\u00famero da Rede Autorizadora[ Especifica\u00e7\u00e3o dos Dados \u2013 Opera\u00e7\u00e3o Consulta Saldo ][ 01..01 ]Indicador de consulta com crach\u00e1\u2022 - [0] para consulta norma\u2022 - [1] para consulta com crach\u00e1\u2022 [ 02..15 ] CPF ou CNPJ do cliente (espa\u00e7os a direita se CPF) 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada Planos 1..999A [ Especifica\u00e7\u00e3o dos Dados \u2013 Consulta Planos ]\u2022 [ 01..008 ] Data Nascimento Portador do Cart\u00e3o(DDMMAAAA)\u2022 [ 09..058 ] NomePortador do Cart\u00e3o\u2022 [ 59..059 ] Fixo P-indicador de Consulta de Planos\u2022 [ 60..999 ] Planos (para cada c\u00f3digo de processamento o bloco abaixo se repetira)\u2022 [ N06 ] CodigoProcessamento\u2022 [ N05 ] DataPrimeiraParcela(AADDD ** )\u2022 [ N01 ] FlagJuros\u2022 [ N01 ] FlagPulaCicloOs campos descritos abaixo podem repetir para demonstrar a quantidade de parcelas do tipo de plano:\u2022 [ N02 ] NumeroDaParcela\u2022 [ N08 ] ValorPrimeiraParcela\u2022 [ N08 ] ValorDemaisParcelas\u2022 [ N05 ] TaxaJuros\u2022 [ N05 ] CETAnual\u2022 [ N01 ] \u201c;\u201d(FinalizadorDeCodigoProcessamento) <p>** quantidade de dias do ano informado at\u00e9 a data atual</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#funcoes-para-vale-gas","title":"Fun\u00e7\u00f5es para Vale G\u00e1s","text":"<p>As seguintes fun\u00e7\u00f5es foram desenvolvidas para realizar o processamento do Vale G\u00e1s.</p> <p>Os campos das fun\u00e7\u00f5es est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroValeGas 15N 15 inteiros MensagemOperador 64P Mensagem de retorno do Linx TEF"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#transacao-vale-gas","title":"Transa\u00e7\u00e3o Vale G\u00e1s","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoeValeGas(char *pValorTransacao, char *pNumeroCupom,\n    char *pNumeroControle, char *pNumeroValeGas)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consulta-tabelas-vale-gas","title":"Consulta Tabelas Vale G\u00e1s","text":"<pre><code>int DIRETIVA_CALLBACK ConsultaTabelasValeGas(char *pNumeroControle, char *pMensagemOperador)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#cancelamento-padrao","title":"Cancelamento Padr\u00e3o","text":"<pre><code>int DIRETIVA_CALLBACK CancelamentoPadrao(char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#forcar-atualizacao-de-tabelas","title":"For\u00e7ar Atualiza\u00e7\u00e3o de Tabelas","text":"<pre><code>int DIRETIVA_CALLBACK ForcaAtualizacaoTabelasPinpad()\n</code></pre> <p>Observa\u00e7\u00e3o: Essa fun\u00e7\u00e3o \u00e9 encontrada no PayKit a partir da vers\u00e3o 8.22.21.0400</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#exibir-imagem-no-pinpad","title":"Exibir Imagem no Pinpad","text":"<pre><code>int DIRETIVA_CALLBACK ExibeImagemPinPadPayKit(char *pcNomeArquivo)\n</code></pre> Campo Tamanho Descri\u00e7\u00e3o pcNomeArquivo A Caminho para o arquivo da imagem <p>Observa\u00e7\u00e3o: Essa fun\u00e7\u00e3o \u00e9 encontrada no PayKit a partir da vers\u00e3o 8.22.21.0005</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#apagar-imagem-do-pinpad","title":"Apagar Imagem do Pinpad","text":"<pre><code>int DIRETIVA_CALLBACK ApagaImagemPinPadPayKit()\n</code></pre> <p>Observa\u00e7\u00f5es: 1. Essa fun\u00e7\u00e3o \u00e9 encontrada no PayKit a partir da vers\u00e3o 8.22.21.0005 2. \u00c9 de suma import\u00e2ncia que este m\u00e9todo seja chamado ao final da utiliza\u00e7\u00e3o da exibi\u00e7\u00e3o da imagem no QR.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#obter-identificacao-do-pinpad","title":"Obter Identifica\u00e7\u00e3o do PinPad","text":"<pre><code>int DIRETIVA_CALLBACK LeIdentificacaoPinPad(char *pDados)\n</code></pre> <p>A fun\u00e7\u00e3o LeIdentificacaoPinpad deve ser chamada quando o automa\u00e7\u00e3o comercial deseja obter as informa\u00e7\u00f5es do pinpad, tais como: fabricante, modelo, vers\u00e3o, etc. Estes dados ser\u00e3o retornados no par\u00e2metro pDados com o layout especificado abaixo:</p> Posi\u00e7\u00e3o Descri\u00e7\u00e3o Formato Observa\u00e7\u00f5es 001-020 Nome do Fabricante A20 021-039 Modelo/vers\u00e3o do hardware A19 Formato \u201cxxx...xxx;mmm\u201d, onde \u201cxxxx\u201d \u00e9 o nome do equipamento e \u201cmmm\u201d a capacidade de mem\u00f3ria (\u201c512KB\u201d, \u201c1MB\u201d, \u201c2MB\u201d, ...) 040 Se o pinpad suporta cart\u00e3o com chip sem contato A1 Este campo deve conter a letra \u201cC\u201d, caso contr\u00e1rio um espa\u00e7o em branco 041-060 Vers\u00e3o do software b\u00e1sico/firmware A20 Formato livre 061-064 Vers\u00e3o da especifica\u00e7\u00e3o A4 Formato \u201cV.VV\u201d (neste caso, fixo \u201c1.08\u201d) 065-080 Vers\u00e3o da aplica\u00e7\u00e3o b\u00e1sica A16 Formato \u201cVVV.VV AAMMDD\u201d (com 3 espa\u00e7os \u00e0 direita) 081-100 N\u00famero de s\u00e9rie do pinpad A20 Com espa\u00e7os \u00e0 direita"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/PagamentoDeContasCielo/","title":"Pagamento de Contas (CIELO)","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/PagamentoDeContasCielo/#pagamento-contas-cielo","title":"Pagamento Contas Cielo","text":"<p>A fun\u00e7\u00e3o atualmente disponibilizada \u00e9:</p> <pre><code>int DIRETIVA_CALLBACK TransacaoPagamentoContasVisanet(char *pTipoConta, char *pCodigoBarras, \n    char *pFormaPagamento, char *pTrilhaCartao, char *pValorTransacao, char *pNumeroCupom, \n    char *pNumeroControle)\n</code></pre> <p>Atrav\u00e9s da fun\u00e7\u00e3o TransacaoPagamentoContasVisanet \u00e9 poss\u00edvel realizar o pagamento de contas desde que esta seja autorizada pela Cielo (a rede Cielo antigamente era chamada Visanet). Caso a transa\u00e7\u00e3o seja autorizada, ser\u00e1 disponibilizado no diret\u00f3rio parametrizado para os cupons um arquivo contendo as informa\u00e7\u00f5es. O automa\u00e7\u00e3o comercial dever\u00e1 imprimir o comprovante presente no arquivo.</p> <p>O nome desse arquivo tem o formato NNNNNN.PPP, onde NNNNNN \u00e9 o NumeroControle e PPP \u00e9 o n\u00famero do terminal configurado.</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e3o preenchidos os campos TipoConta , CodigoBarras , FormaPagamento , TrilhaCartao , NumeroControle , e ser\u00e1 devolvido o , indicando o resultado da transa\u00e7\u00e3o.</p> <p>Os campos das fun\u00e7\u00f5es est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o TipoConta 01N Tipo do documento pago\u2022 [ 0 ] T\u00edtulo lido\u2022 [ 1 ] T\u00edtulo digitado\u2022 [ 2 ] Conv\u00eanio lido\u2022 [ 3 ] Conv\u00eanio digitado CodigoBarras 44N C\u00f3digo de barras ou linha digit\u00e1vel do documento FormaPagamento 02N Forma de pagamento utilizada\u2022 [ 03 ] Cart\u00e3o de d\u00e9bito TrilhaCartao 37A ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico)"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/RecargaDeCelular/","title":"Recarga de Celular","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/RecargaDeCelular/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Estas fun\u00e7\u00f5es foram desenvolvidas para permitir a realiza\u00e7\u00e3o de recarga de celular pr\u00e9-pago.</p> <p>Atrav\u00e9s da fun\u00e7\u00e3o ConsultaValoresPrePago \u00e9 poss\u00edvel saber as operadoras de cart\u00e3o conveniadas e seus respectivos planos de recarga. Caso a transa\u00e7\u00e3o seja autorizada, ser\u00e1 disponibilizado no diret\u00f3rio parametrizado para os cupons um arquivo contendo as informa\u00e7\u00f5es. O automa\u00e7\u00e3o comercial poder\u00e1 imprimir e/ou apresentar na tela as informa\u00e7\u00f5es contidas no arquivo. Esta fun\u00e7\u00e3o n\u00e3o exige confirma\u00e7\u00e3o.</p> <p>A transa\u00e7\u00e3o de recarga TransacaoRecargaCelular permite a execu\u00e7\u00e3o da recarga propriamente dita. Nesta deve ser selecionado a operadora e o plano desejados. Ao contr\u00e1rio da fun\u00e7\u00e3o de consulta, nesta transa\u00e7\u00e3o o comprovante de recarga deve ser impresso e a confirma\u00e7\u00e3o dever\u00e1 ser realizada com o NumeroControle retornado pela transa\u00e7\u00e3o. Neste caso, deve-se chamar as fun\u00e7\u00f5es ConfirmaCartaoCredito e FinalizaTransacao.</p> <p>Os campos das fun\u00e7\u00f5es est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o CodigoArea 02N 02 inteiros NumeroTelefone 08N 08 inteiros NumeroControle 06P 06 inteiros MensagemOperador 64P Mensagem de retorno do Linx TEF"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/RecargaDeCelular/#consulta-valores-prepago","title":"Consulta Valores PrePago","text":"<pre><code>int DIRETIVA_CALLBACK ConsultaValoresPrePago(char *pNumeroControle, char *pMensagemOperador)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/RecargaDeCelular/#recarga-celular","title":"Recarga Celular","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoRecargaCelular(char *pCodigoArea, char *pNumeroTelefone, char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/TransacoesEspecificas/","title":"Transa\u00e7\u00f5es Espec\u00edficas (Redecard/Cielo/Banrisul/GetNet)","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/TransacoesEspecificas/#funcoes-especificas-especificacao-redecardcielobanrisulgetnet","title":"Fun\u00e7\u00f5es Espec\u00edficas (Espec\u00edfica\u00e7\u00e3o Redecard/Cielo/Banrisul/GetNet)","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoCreditoIATA(char *pValorTransacao, char *pNumeroCupom, \n                                                 char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCartaoPrivateLabel(char *pValorTransacao, char *pNumeroCupom, \n                                                  char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoSaqueRedecard(char *pValorTransacao, char *pNumeroCupom, \n                                             char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK EstornoPreAutorizacaoRedecard(char *pValorTransacao, char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoSimulacaoPrivateLabel(char *pValorTransacao, char *pNumeroCupom, \n                                                     char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoPagamentoPrivateLabel(char *pValorTransacao, char *pNumeroCupom, \n                                                     char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCartaoCompraSaqueCompleta(char *pValorCompra, char *pValorSaque, \n                                                         char *pNumeroCupom, char *pNumeroControle, \n                                                         char *pPermiteAlteracao)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCDC1MIN(char *pValorTransacao, char *pNumeroCupom, \n                                       char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoSIMparcelado(char *pValorTransacao, char *pNumeroCupom, \n                                            char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK IdentificacaoAutomacaoComercial(char *pNomeAutomacao, char *pVersaoAutomacao, \n                                                      char *pReservado)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoInjecaoChaves(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoAcrescimoPreAutorizacao(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoConsultaPreAutorizacao(char *pNumeroControle)\n</code></pre> <p>As solicita\u00e7\u00f5es de transa\u00e7\u00e3o de Estorno de Pr\u00e9-Autoriza\u00e7\u00e3o de pagamento com Cart\u00e3o de Cr\u00e9dito, de Saque, de Pagamento com Cart\u00e3o de Cr\u00e9dito IATA e Cart\u00e3o Private Label s\u00e3o realizadas atrav\u00e9s das chamadas \u00e0s fun\u00e7\u00f5es EstornoPreAutorizacaoRedecard , TransacaoSaqueRedecard , TransacaoCartaoCreditoIATA, TransacaoCartaoPrivateLabel , TransacaoCartaoCompraSaque, TransacaoCDC1MIN e TransacaoSIMparcelado.</p> <p>O NumeroControle , inclu\u00eddo na resposta, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o, pois na fun\u00e7\u00e3o de confirma\u00e7\u00e3o este n\u00famero ser\u00e1, obrigatoriamente, utilizado, tanto nas fun\u00e7\u00f5es de pagamento como na de Saque e Estorno.</p> <p>As fun\u00e7\u00f5es de Estorno e Saque devem ser disponibilizadas via \"menu\", ou seja, o PDV n\u00e3o pode estar efetuando uma venda (assim como as fun\u00e7\u00f5es de cancelamento de pagamento e reimpress\u00e3o). J\u00e1 as fun\u00e7\u00f5es de pagamento (Cart\u00e3o Cr\u00e9dito IATA e Private Label) devem estar disponibilizadas como formas de pagamento do PDV.</p> <p>As fun\u00e7\u00f5es TransacaoCDC1MIN e TransacaoSIMparcelado s\u00e3o espec\u00edficas da rede Banrisul.</p> <p>O PDV dever\u00e1 realizar, respectivamente, chamada \u00e0s fun\u00e7\u00f5es IdentificacaoAutomacaoComercial e TransacaoEstatistica toda a vez que for inicializado.</p> <p>A fun\u00e7\u00e3o TransacaoPagamentoPrivateLabel \u00e9 a transa\u00e7\u00e3o dispon\u00edvel para efetuar o pagamento de fatura de cart\u00f5es private.</p> <p>A fun\u00e7\u00e3o de Inje\u00e7\u00e3o de Chaves poder ser chamada ou executada automaticamente (no caso de executar uma transa\u00e7\u00e3o com a Redecard e existir chave DUKPT na tabela de criptografia da Redecard e o pinpad n\u00e3o possuir esta chave carregada).</p> <p>A fun\u00e7\u00e3o TransacaoAcrescimoPreAutorizacao realiza acr\u00e9scimo de valor na Pr\u00e9-Autoriza\u00e7\u00e3o (ou seja, altera\u00e7\u00e3o de valor em uma pr\u00e9-autoriza\u00e7\u00e3o existente, na qual se deseja aumentar seu valor) pode ser executada com a fun\u00e7\u00e3o TransacaoAcrescimoPreAutorizacao.</p> <p>Uma consulta de Pr\u00e9-Autoriza\u00e7\u00f5es pode ser executada com a fun\u00e7\u00e3o TransacaoConsultaPreAutorizacao.</p> <p>A defini\u00e7\u00e3o das campos das fun\u00e7\u00f5es est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N \u2022 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) NomeAutomacao 20A Identifica\u00e7\u00e3o da automa\u00e7\u00e3o comercial VersaoAutomacao 20A Vers\u00e3o da automa\u00e7\u00e3o comercial Reservado 256A Capacidades da automa\u00e7\u00e3o comercial:\u2022 [1..1] Tratamento plataforma promocional Cielo\u2022 [0]: automa\u00e7\u00e3o n\u00e3o est\u00e1 preparada para tratar a plataforma promocional Cielo\u2022 [1]: automa\u00e7\u00e3o est\u00e1 preparada para tratar plataforma promocional Cielo\u2022 [2..2] Tratamento QR Code\u2022 [0]: automa\u00e7\u00e3o n\u00e3o est\u00e1 preparada para transa\u00e7\u00e3o de QR Code\u2022 [1]: automa\u00e7\u00e3o est\u00e1 preparada para transa\u00e7\u00e3o QR Code\u2022 [3..3] Tratamento QR Code no cancelamento\u2022 [0]: automa\u00e7\u00e3o n\u00e3o est\u00e1 informando se o cancelamento pode ser com QR Code\u2022 [1]: automa\u00e7\u00e3o est\u00e1 indicando que o cancelamento \u00e9 de QR Code 02I [ 00 ] Transa\u00e7\u00e3oautorizada[ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p> <p>Quanto \u00e0 estrutura dos logs de retorno, cada transa\u00e7\u00e3o possui estrutura diferente:</p> <p>EstornoPreAutorizacaoRedecard : id\u00eantica ao layout de cancelamento de pagamento.</p> <p>TransacaoSaqueRedecard : n\u00e3o gera log de transa\u00e7\u00e3o.</p> <p>TransacaoCartaoCreditoIATA : id\u00eantica ao layout de pagamento com cart\u00e3o de cr\u00e9dito.</p> <p>TransacaoCartaoPrivateLabel : layout do log do Cart\u00e3o Private Label.</p> <p>TransacaoCartaoCompraSaque : n\u00e3o gera log de transa\u00e7\u00e3o.</p> <p>TransacaoCartaoCompraSaqueCompleta : n\u00e3o gera log de transa\u00e7\u00e3o.</p> <p>Fun\u00e7\u00f5es de Venda PBM ( Pharmacy Benefit Management )</p> <pre><code>int DIRETIVA_CALLBACK ConsultaParametrosPBM(char *pNumeroCupom, char *pQuantidadeRedes,\n                                            char *pDadosRedes, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK ConsultaProdutosPBM(char *pNumeroCupom, char *pRedePBM, char *pTrilha1,\n                                          char *pTrilha2, char *pDigitado, char *pAutorizacao,\n                                          char *pDadosCRM, char *pTipoVenda, char *pValorTotalMedicamentos,\n                                          char *pValorVista, char *pValorCartao, char *pCodigoCredenciado,\n                                          char *pQuantidadeMedicamentos, char *pMedicamentos, \n                                          char *pReservado, char *pNumeroControle, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoVendaPBM(char *pValorTotalMedicamentos, char *pNumeroCupom, char *pRedePBM, \n                                        char *pTrilha1, char *pTrilha2, char *pDigitado, char *pAutorizacao, \n                                        char *pNSUConsulta, char *pDadosCRM, char *pTipoVenda,\n                                        char *pValorVista, char *pValorCartao, char *pCodigoCredenciado,\n                                        char *pRegraNegocio, char *pQuantidadeMedicamentos, char *pMedicamentos,\n                                        char *pReservado, char *pNumeroControle, char *pNumeroControleRede, \n                                        char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK ConfirmaVendaPBM(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoReimpressaoVendaPBM()\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoVendaPBM(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoElegibilidadePBM(char *pNumeroCupom, char *pRedePBM, char *pMatricula,\n                                                char *pDadosElegibilidade, char *pNumeroControle, \n                                                char *pNumeroControleRede, char *pNomeCliente,\n                                                char *pNomeMedico, char *pInformaDependente, \n                                                char *pListaDependentes, char *pReservado, \n                                                char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoPreAutorizacaoPBM(char *pNumeroCupom, char *pRedePBM, \n                                                 char *pAutorizacaoElegibilidade, char *pDadosFarmaceutico,\n                                                 char *pQuantidadeMedicamentos, char *pMedicamentos, \n                                                 char *pNumeroControle, char *pNumeroControleRede, \n                                                 char *pReservado, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoPreAutorizacaoPBM(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK ConsultaParametrosPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\n                                                          char *pNumeroLoja, char *pNumeroPDV,\n                                                          char *pNumeroCupom, char *pQuantidadeRedes, \n                                                          char *pDadosRedes, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK ConsultaProdutosPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja, \n                                                        char *pNumeroLoja, char *pNumeroPDV, \n                                                        char *pNumeroCupom, char *pRedePBM, \n                                                        char *pTrilha1, char *pTrilha2, \n                                                        char *pDigitado, char *pAutorizacao,\n                                                        char *pDadosCRM, char *pTipoVenda, \n                                                        char *pValorTotalMedicamentos, char *pValorVista, \n                                                        char *pValorCartao, char *pCodigoCredenciado,\n                                                        char *pQuantidadeMedicamentos, char *pMedicamentos,\n                                                        char *pReservado, char *pNumeroControle, \n                                                        char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoVendaPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja, \n                                                      char *pNumeroLoja, char *pNumeroPDV, \n                                                      char *pValorTotalMedicamentos, char *pNumeroCupom, \n                                                      char *pRedePBM, char *pTrilha1, char *pTrilha2,\n                                                      char *pDigitado, char *pAutorizacao, char *pNSUConsulta,\n                                                      char *pDadosCRM, char *pTipoVenda, char *pValorVista, \n                                                      char *pValorCartao, char *pCodigoCredenciado,\n                                                      char *pRegraNegocio, char *pQuantidadeMedicamentos, \n                                                      char *pMedicamentos, char *pReservado, char *pNumeroControle, \n                                                      char *pNumeroControleRede, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoVendaPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\n                                                                  char *pNumeroLoja, char *pNumeroPDV, \n                                                                  char *pTrilha1, char *pTrilha2, \n                                                                  char *pDigitado, char *pReservado, \n                                                                  char *pNumeroControle, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoAberturaVendaPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\n                                                              char *pNumeroLoja, char *pNumeroPDV, \n                                                              char *pRedePBM, char *pTrilha1, \n                                                              char *pTrilha2, char *pDigitado, \n                                                              char *pReservado, char *pPedirDadosComplementares, \n                                                              char *pDadosComplementares, char *pInfoDadosComplementares, \n                                                              char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoVendaProdutoPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\n                                                             char *pNumeroLoja, char *pNumeroPDV, \n                                                             char *pRedePBM, char *pTrilha1, \n                                                             char *pTrilha2, char *pDigitado, \n                                                             char *pMedicamento, char *pReservado, \n                                                             char *pPedirDadosComplementares, \n                                                             char *pDadosComplementares, \n                                                             char *pInfoDadosComplementares, \n                                                             char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoFechamentoVendaPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\n                                                                char *pNumeroLoja, char *pNumeroPDV, \n                                                                char *pRedePBM, char *pTrilha1, \n                                                                char *pTrilha2, char *pDigitado, \n                                                                char *pConfirmacao, char *pReservado,\n                                                                char *pAutorizacao, char *pNumeroControle, \n                                                                char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoElegibilidadePBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\n                                                              char *pNumeroLoja, char *pNumeroPDV,\n                                                              char *pNumeroCupom, char *pRedePBM, \n                                                              char *pMatricula, char *pDadosElegibilidade, \n                                                              char *pNumeroControle, char *pNumeroControleRede, \n                                                              char *pNomeCliente, char *pNomeMedico, \n                                                              char *pInformaDependente, char *pListaDependentes, \n                                                              char *pReservado, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoPreAutorizacaoPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\n                                                               char *pNumeroLoja, char *pNumeroPDV, \n                                                               char *pNumeroCupom, char *pRedePBM, \n                                                               char *pAutorizacaoElegibilidade, \n                                                               char *pDadosFarmaceutico, \n                                                               char *pQuantidadeMedicamentos, \n                                                               char *pMedicamentos, char *pNumeroControle, \n                                                               char *pNumeroControleRede, char *pReservado, \n                                                               char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoPreAutorizacaoPBM_TeleMarketing(char *pNumeroEmpresa,\n                                                                           char *pMultiLoja, \n                                                                           char *pNumeroLoja, \n                                                                           char *pNumeroPDV, \n                                                                           char *pMatricula, \n                                                                           char *pReservado, \n                                                                           char *pNumeroControle,\n                                                                           char *pMensagemOperador)\n</code></pre> <p>As transa\u00e7\u00f5es com a rede \"PBM Funcional\", onde retorna os par\u00e2metros da rede \"DadosRedes=[49000PBM Funcional SS ]\", significa que a mesma necessita do \"C\u00f3digo de Autoriza\u00e7\u00e3o\u201d\" e \"N\u00famero do Cart\u00e3o\", conforme estrutura retornado neste par\u00e2metro.</p> <p>Ainda sobre a rede \u201cPBM Funcional\u201d, referente ao \"N\u00famero do Cart\u00e3o\", o mesmo deve ser solicitado ao operador \"campo com 17 d\u00edgitos\", e enviado no par\u00e2metro \" pTrilha2 \" contendo somente os 17 d\u00edgitos coletados pelo operador.</p> <p>As solicita\u00e7\u00f5es de transa\u00e7\u00e3o de Consulta das Redes Parametrizadas, de Consulta de Produtos, Transa\u00e7\u00e3o de Venda PBM, Confirma\u00e7\u00e3o de Venda PBM, Reimpress\u00e3o de Venda PBM e Cancelamento de Venda PBM s\u00e3o realizadas atrav\u00e9s das chamadas \u00e0s fun\u00e7\u00f5es ConsultaParametrosPBM , ConsultaProdutosPBM , TransacaoVendaPBM , ConfirmaVendaPBM , TransacaoReimpressaoVendaPBM e TransacaoCancelamentoVendaPBM.</p> <p>O NumeroControle , inclu\u00eddo na resposta da fun\u00e7\u00e3o de consulta de produtos, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o, pois na fun\u00e7\u00e3o de venda este n\u00famero dever\u00e1 obrigatoriamente, ser utilizado, para informar o n\u00famero da consulta em que os produtos foram obtidos. No caso do NumeroControle obtido no retorno da fun\u00e7\u00e3o de venda, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o para efetivar a confirma\u00e7\u00e3o da venda.</p> <p>Ap\u00f3s a impress\u00e3o do comprovante pela automa\u00e7\u00e3o comercial, sendo esta com sucesso, deve-se realizar a confirma\u00e7\u00e3o da transa\u00e7\u00e3o atrav\u00e9s da fun\u00e7\u00e3o ConfirmaVendaPBM informando o n\u00famero do NSU da transa\u00e7\u00e3o que deseja confirmar. Em seguida, para encerrar a opera\u00e7\u00e3o deve ser chamada a fun\u00e7\u00e3o FinalizaTransacao, documentada nesta p\u00e1gina.</p> <p>Atrav\u00e9s da fun\u00e7\u00e3o TransacaoReimpressaoVendaPBM poder\u00e1 ser reimpresso o comprovante da \u00faltima venda PBM emitida com sucesso. Caso a fun\u00e7\u00e3o seja executada com sucesso, o arquivo ULTIMOPBM.PRN ser\u00e1 disponibilizado no diret\u00f3rio parametrizado para os cupons.</p> <p>As fun\u00e7\u00f5es de Consulta de Par\u00e2metros e Consulta de Produtos devem ser acionadas antes de iniciar-se uma venda, pois ao efetuar a venda o operador dever\u00e1 optar por utilizar um produto da rede selecionada ou por um produto da pr\u00f3pria loja. Esta \u201csele\u00e7\u00e3o\u201d \u00e9 importante para determinar se o sistema de automa\u00e7\u00e3o comercial dever\u00e1 chamar a fun\u00e7\u00e3o de venda PBM ou n\u00e3o. No caso de efetuar uma venda PBM, todos os par\u00e2metros obtidos atrav\u00e9s da fun\u00e7\u00e3o de consulta PBM dever\u00e3o ser passados na fun\u00e7\u00e3o de venda, de acordo com a quantidade vendida. Estes dados dever\u00e3o estar coerentes com os dados da consulta, caso contr\u00e1rio, a venda corre o risco de n\u00e3o ser aprovada pela rede PBM selecionada.</p> <p>Atrav\u00e9s da fun\u00e7\u00e3o TransacaoCancelamentoVendaPBM pode-se efetuar o cancelamento de uma venda PBM. O NumeroControle da venda a ser cancelada deve ser informado. Al\u00e9m disso, se a rede PBM exigir, poder\u00e1 ser necess\u00e1rio a leitura do cart\u00e3o do benefici\u00e1rio para efetuar o cancelamento.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> <p>Continua na p\u00e1gina 43/33</p> Campo Tamanho Descri\u00e7\u00e3o MultiLoja 01 P 01 Caracter [\u2018S\u2019,\u2019N\u2019] NumeroEmpresa 04 P 04 inteiros NumeroLoja 04 P 04 inteiros NumeroPDV 03 P 03 inteiros [001\u2026356] InfoDadosComplementares 64 A Informa\u00e7\u00e3o de coleta de campos opcionais da tela de abertura de venda PBM. Os par\u00e2metros dos 2 campos t\u00eam o seguinte formato:\u2022 TAAMMXX...XXTAAMMXX...XX\u2022 T : tipo do campo - N (num\u00e9rico), A (alfanum\u00e9rico) ou F (op\u00e7\u00e3o sim ou n\u00e3o - Y/N)\u2022 AA : tamanho m\u00ednimo do campo (1 at\u00e9 50)\u2022 MM : tamanho m\u00e1ximo do campo (1 at\u00e9 50)\u2022 X : nome do campo para apresenta\u00e7\u00e3o na tela (at\u00e9 20 bytes)Os dois campos s\u00e3o opcionais. Se nenhum campo estiver preenchido, n\u00e3o haver\u00e1 a coleta. Exemplo:\u2022 N0808CEP N1111CPF DO PORTADOR\u2022 Neste exemplo, haver\u00e1 a captura de 2 campos, sendo que o primeiro \u00e9 o CEP com 8 d\u00edgitos (N=num\u00e9rico) e o segundo o CPF com 11 d\u00edgitos. DadosComplementares 128A Dados complementares coletados conforme os campos da estrutura InfoDadosComplementares . No exemplo acima, os dados poderiam ficar:\u2022 08999999991199999999999, isto \u00e9, CEP 99999999 com 8 d\u00edgitos e CPF 99999999999 com 11 d\u00edgitos. PedirDadosComplementares 01 A Se a fun\u00e7\u00e3o retornar erro, analisar este campo para verificar se \u00e9 necess\u00e1rio coletar os dados complementares e chamar novamente a fun\u00e7\u00e3o.\u2022 [ S ] Coletar dados complementares\u2022 [ N ] N\u00e3o coletar dados complementares ValorTotalMedicamentos 12N Valor total dos medicamentos do cupom na venda ou valor total dos medicamentos retornados na consulta NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) QuantidadeRedes 02N Quantidade de redes cadastradas DadosRedesFormato:Numero[05]Nome[20]ColetaCartao[01]ColetaAutorizacao[01]Filler[13] 560P Par\u00e2metro que retorna os dados das redes cadastradas. Os campos ColetaCartao e ColetaAutorizacao indicam qual informa\u00e7\u00e3o deve ser coletada pelo sistema de automa\u00e7\u00e3o comercial. Podem ser retornados at\u00e9 14 redes no formato especificado Especifica\u00e7\u00e3o de alguns campos :Campo ColetaCartao = \u2022 [ S ] Coletar cart\u00e3o\u2022 [ N ] N\u00e3o coletar cart\u00e3oCampo ColetaAutorizacao =\u2022 [ S ] Coletar n\u00famero de autoriza\u00e7\u00e3o\u2022 [ N ] N\u00e3o coletar n\u00famero de autoriza\u00e7\u00e3o RedePBM 05N C\u00f3digo da rede PBM selecionada Trilha1 76A Trilha1 do cart\u00e3o Trilha2 37A Trilha2 do cart\u00e3o Digitado 01N \u2022 [ 0 ] Indica que a trilha2 do cart\u00e3o foi obtido atrav\u00e9s de leitura em pinpad criptografado\u2022 [ 1 ] Indica que a trilha2 do cart\u00e3o foi digitado Autoriza\u00e7\u00e3o 12N N\u00famero da autoriza\u00e7\u00e3o coletado pelo sistema de automa\u00e7\u00e3o NSUConsulta 06N N\u00famero de controle obtido na consulta de produtos DadosCRMFormato:CRM[12]UF_CRM[02] 14P Dados de identifica\u00e7\u00e3o do CRM consultado DadosElegibilidadeFormato:CodigoOperadorVita[09]PlanoSaude[06]NumeroDependente[02]TipoProfissional[01]UF_CRM_CRO[02]NumeroCRM_CRO[09]DataReceita[06]DescontoEmFolha[01] 30P Deve ser coletado pelo sistema de automa\u00e7\u00e3o os dados da estrutura.Especifica\u00e7\u00e3o de alguns campos :\u2022 Campo CodigoOperadorVita =\u2022 Campo PlanoSaude = C\u00f3digo do plano de sa\u00fade\u2022 Campo TipoProfissional = [ 0 ] CRM [ 1 ] CRO\u2022 Campo DescontoEmFolha = [ S ] Sim [ N ] N\u00e3o NomeCliente 40P Retornado pela fun\u00e7\u00e3o TransacaoElegibilidadePBM NomeMedico 40P Retornado pela fun\u00e7\u00e3o TransacaoElegibilidadePBM InformaDependente 01P \u2022 [ S ]Sim [ N ]N\u00e3oImportante : se a fun\u00e7\u00e3o retornar status 11, verificar se foi retornado \u201cS\u201d neste par\u00e2metro. Neste caso, chamar a fun\u00e7\u00e3o novamente informando o n\u00famero do dependente na estrutura do par\u00e2metro DadosElegibilidade ListaDependentesFormato:N\u00famero do dependente[02]Nome do dependente[40] 504P Lista de at\u00e9 12 registros AutorizacaoElegibilidade 12P Deve ser informado a Autoriza\u00e7\u00e3o retornada na transa\u00e7\u00e3o de elegibilidade DadosFarmaceuticoFormato:UF_CRF[02]NumeroCRF[12] 14P TipoVenda 01N \u2022 [ 0 ]Vista [ 1 ] Cart\u00e3o ValorVista 12N Valor a pagar \u00e0 vista para consulta e valor pago \u00e0 vista para a fun\u00e7\u00e3o de venda ValorCart\u00e3o 12N Valor a pagar com cart\u00e3o para consulta e valor pago com cart\u00e3o para a fun\u00e7\u00e3o de venda CodigoCredenciado 15N C\u00f3digo do credenciado RegraNegocio 08N C\u00f3digo da regra de neg\u00f3cio (ePharma) QuantidadeMedicamentos 02N Quantidade de medicamentos retornados no campoMedicamentos para a fun\u00e7\u00e3o de consulta e quantidade de medicamentos vendidos para a fun\u00e7\u00e3o de venda MedicamentosFormato:DataReceita[08]IDCRM_CRO[01]CRM[12]UF_CRM[02]TipoMedicamento[02]C\u00f3digo[13]Descri\u00e7\u00e3o[15]CondicaoVenda[01]PrecoMaxConsumidor[08]PrecoFabricaUnitario[08]PrecoUnitarioVendaCons[08]PrecoAquisicaoUnitario[08]PrecoRepasseVarejo[08]MotivoRejeicao[02]QtdReceitada[04]QtdAutorizadaSolicitada[04]Referencia[02]IndicadorVenda[01]TipoEmbalagem[01]Desconto[05]Controle[10]Reembolso[08]Comiss\u00e3o[05]UsoContinuo[01]Filler[05] *P Dados dos medicamentos fornecidos para o sistema de automa\u00e7\u00e3o na fun\u00e7\u00e3o de consulta e dados dos medicamentos vendidos da rede selecionada para a fun\u00e7\u00e3o de venda. Podem ser retornados (pela fun\u00e7\u00e3o de consulta) ou informados (para a fun\u00e7\u00e3o de venda) at\u00e9 o n\u00famero de medicamentos informado no campo QuantidadeMedicamentos.\u2022 * o tamanho deste buffer deve ser calculado da seguinte forma: QuantidadeMedicamentos * 142\u2022 142 = tamanho da estrutura de dados para um medicamentoEspecifica\u00e7\u00e3o de alguns campos :\u2022 Campo IDCRM_CRO = [ 0 ] CRM [ 1 ] CRO\u2022 Campo TipoMedicamento =\u2022 [ 01 ] Medicamento\u2022 [ 02 ] Manipula\u00e7\u00e3o\u2022 [ 03 ] Manip. Especial\u2022 [ 04 ] Perfumaria\u2022 Campo CondicaoVenda =\u2022 [ 0 ] obrigat\u00f3rio utilizar pre\u00e7o f\u00e1brica\u2022 [ 1 ] permite vender com pre\u00e7o inferior\u2022 Campo IndicadorVenda =\u2022 [ 0 ] produto venda cart\u00e3o\u2022 [ 1 ] produto venda vista\u2022 Campo TipoEmbalagem = unit\u00e1rio ou parcial\u2022 Campo Controle = campo para uso restrito\u2022 Campo UsoContinuo = [ S , N ]Observa\u00e7\u00f5es :\u2022 [ 1 ] os campos Reembolso e Comiss\u00e3o foram inclu\u00eddos poiss\u00e3o retornados pela VidaLink\u2022 [ 2 ] o campo UsoContinuo \u00e9 utilizado pela PreSaude\u2022 [ 3 ] no campo QtdAutorizadaSolicitada deve ser informado a quantidade solicitada para a PrevSaude ou quantidadeautorizada para as demais PBMs. Reservado 128P Campo reservadoTransacaoAberturaVendaPBM_TeleMarketing : esta fun\u00e7\u00e3o retornar\u00e1 neste par\u00e2metro o n\u00famero da autoriza\u00e7\u00e3o para esta transa\u00e7\u00e3o. Tamanho de 12 bytes. Confirmacao 01A Indica se a transa\u00e7\u00e3o de venda de produtos PBM deve ser confirmada ou n\u00e3o.\u2022 [ S ] Confirmar a opera\u00e7\u00e3o\u2022 [ N ] N\u00e3o confirmar a opera\u00e7\u00e3o NumeroControle 06 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroControleRede 12 N NSU da Rede Autorizadora (n\u00famero seq\u00fcencial \u00fanico retornado pela rede que aprovou a venda) MensagemOperador 64 P Mensagem retornada pelo Linx TEF indicando o motivo da recusa da transa\u00e7\u00e3o. Deve ser apresentada ao operador quando a transa\u00e7\u00e3o for rejeitada 02 I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>Obs.: todos campos que cont\u00e9m diversos par\u00e2metros devem ser passados conforme seus respectivos tamanhos. Os campos num\u00e9ricos devem vir com zeros \u00e0 esquerda (sem ponto ou v\u00edrgula), enquanto que os alfanum\u00e9ricos devem vir com espa\u00e7os \u00e0 direita.</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. Apresentar ao usu\u00e1rio o conte\u00fado do campo MotivoRejeicao (retornado pela operadora). No campo MensagemOperador cont\u00e9m a mensagem retornada pelo Linx TEF.</p> <p>Observa\u00e7\u00e3o : Para cada conjunto de chamadas as fun\u00e7\u00f5es de TeleMarketing ( ConsultaParametrosPBM_TeleMarketing , ConsultaProdutosPBM_TeleMarketing, TransacaoVendaPBM_TeleMarketing, TransacaoAberturaVendaPBM_Telemarketing, TransacaoVendaProdutoPBM_TeleMarketing, TransacaoFechamentoVendaPBM_TeleMarketing ) deve ser informado um n\u00famero de PDV diferente (obedecendo a faixa de PDVs definida na especifica\u00e7\u00e3o dos par\u00e2metros). Isto \u00e9 necess\u00e1rio para que o Linx TEF possa diferenciar as transa\u00e7\u00f5es que est\u00e3o ocorrendo simultaneamente. Um exemplo de ocorr\u00eancia desta situa\u00e7\u00e3o \u00e9 na utiliza\u00e7\u00e3o desta fun\u00e7\u00e3o atrav\u00e9s de um servidor Web, que pode ter v\u00e1rios usu\u00e1rios realizando acesso simult\u00e2neo.</p> <p>Observa\u00e7\u00e3o para transa\u00e7\u00f5es de pr\u00e9-venda SevenPDV : a autoriza\u00e7\u00e3o das redes tratadas pela PBM SevenPDV deve seguir o seguinte fluxo de chamadas de fun\u00e7\u00f5es:</p> <p>TransacaoAberturaVendaPBM_TeleMarketing : fun\u00e7\u00e3o para abrir a venda. Se no retorno a fun\u00e7\u00e3o indicar que devem ser pedidos dados complementares, dever\u00e1 ser analisado o campo de retorno pInfoDadosComplementares para buscar a defini\u00e7\u00e3o dos campos a serem coletados. A seguir, a fun\u00e7\u00e3o TransacaoAberturaVendaPBM_TeleMarketing dever\u00e1 ser chamada novamente com a informa\u00e7\u00e3o dos dados complementares. Caso a tela de coleta dos dados complementares do portador for exibida mas o operador n\u00e3o entrou com os dados, a palavra VAZIO dever\u00e1 ser informada no campo pDadosComplementares .</p> <p>TransacaoVendaProdutoPBM_TeleMarketing : transa\u00e7\u00e3o para incluir o produto na autoriza\u00e7\u00e3o que est\u00e1 sendo feita simultaneamente \u00e0 venda. Na estrutura do medicamento, dever\u00e3o ser informados os campos Codigo , PrecoMaxConsumidor , PrecoUnitarioVendaCons , QuantidadeAutorizada e TipoEmbalagem . Os campos retornados na estrutura de medicamento s\u00e3o retornados os campos QuantidadeAutorizada , PrecoMaxConsumidor , PrecoUnitarioVendaCons , PrecoRepasseVarejo , Desconto e MotivoRejeicao .</p> <p>TransacaoFechamentoVendaPBM_TeleMarketing : fun\u00e7\u00e3o para finalizar a venda PBM. Se a venda foi finalizada com sucesso, dever\u00e1 passar o par\u00e2metro pConfirma\u00e7ao com o valor \"S\". Neste caso, ao final da execu\u00e7\u00e3o da fun\u00e7\u00e3o ser\u00e1 disponibilizado o comprovante da opera\u00e7\u00e3o para ser impresso. Se a venda n\u00e3o deve ser finalizada, passar no par\u00e2metro o valor \"N\".</p> <p>Observa\u00e7\u00e3o : para transa\u00e7\u00f5es de telemarketing em ambientes com m\u00faltiplas threads simult\u00e2neas, dever\u00e1 ser utilizada a DLL DPOSDRVTM.DLL.</p>"},{"location":"pages/MetodosAPIDesktop/MelhoriaPerformance/ConfiguraFuncionalidades/","title":"Configurar Funcionalidades","text":""},{"location":"pages/MetodosAPIDesktop/MelhoriaPerformance/ConfiguraFuncionalidades/#configurafuncionalidades","title":"ConfiguraFuncionalidades","text":"<pre><code>int DIRETIVA_CALLBACK ConfiguraFuncionalidades(char *pFlags)\n</code></pre> <p>Permite habilitar/desabilitar funcionalidades do Paykit diretamente pela AC. O m\u00e9todo ir\u00e1 receber um ponteiro de char  onde cada caractere ir\u00e1 indicar o estado desejado da funcionalidade indicada: 1 para lig\u00e1-la, ou 0 para deslig\u00e1-la.  Este m\u00e9todo deve ser chamado preferencialmente no setup do paykit, pois uma vez configurado a feature se manter\u00e1 por  todo o ciclo de vida da aplica\u00e7\u00e3o no PDV.</p> <p>\u00c9 preciso informar o estado de cada uma as funcionalidades dispon\u00edveis, listadas na tabela abaixo. \u00c9 tamb\u00e9m obrigat\u00f3rio  que no final do ponteiro de char enviado haja um caracter <code>\\0</code>, pois \u00e0 medida que outras features foram acrescentadas,  ser\u00e3o acrescidos mais bytes nessa cadeia de caracteres, sendo assim importante que haja um indicador de final de string  no final dela.</p> \u00cdndice Funcionalidade Valor padr\u00e3o 0 Acionamento de callbacks de telas que n\u00e3o cont\u00e9m intera\u00e7\u00e3o com o usu\u00e1rio de forma ass\u00edncrona Habilitado nas telas do Paykit; Desabilitado nas telas da AC <p>Exemplo: Como indicado na tabela, atualmente s\u00f3 h\u00e1 uma funcionalidade implementada, ent\u00e3o o argumento pFlags deve conter um \u00fanico caractere (\"1\" ou \"0\"), seguido de <code>\\0</code>. Em um momento em que haja 3 funcionalidades implementadas, por exemplo, um valor  v\u00e1lido para pFlags seria \"101\" seguido de <code>\\0</code>, o que faria com que as funcionalidades dos \u00edndices 0 e 2 do ponteiro fossem  habilitadas, enquanto a do \u00edndice 1 seria desabilitada.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Administrativas/","title":"Administrativas","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Administrativas/#reimpressao-cupom","title":"Reimpress\u00e3o Cupom","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoReimpressaoCupom()\n</code></pre> <p>As solicita\u00e7\u00f5es de transa\u00e7\u00e3o de Reimpress\u00e3o de Cupom \u00e9 realizada atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoReimpressaoCupom.</p> <p>Caso a fun\u00e7\u00e3o seja executada com sucesso, ser\u00e1 disponibilizado no diret\u00f3rio parametrizado (diret\u00f3rio de cupons) um arquivo denominado ULTIMO.PRN contendo o cupom da \u00faltima transa\u00e7\u00e3o de venda efetuada com sucesso.</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 devolvido o , indicando o resultado da transa\u00e7\u00e3o.</p> <p>O campo est\u00e1 abaixo caracterizado.</p> Campo Tamanho Descri\u00e7\u00e3o 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Administrativas/#funcao-para-reimpressao-completa-do-cupom","title":"Fun\u00e7\u00e3o para Reimpress\u00e3o Completa do Cupom","text":"<p>A fun\u00e7\u00e3o atualmente disponibilizada \u00e9:</p> <pre><code>int DIRETIVA_CALLBACK TransacaoReimpressaoCupomCompleta(char *pDataTransacao, \n    char *pNSUTransacao, char *pPermiteAlteracao, char *pReservado)\n</code></pre> <p>A fun\u00e7\u00e3o TransacaoReimpressaoCupomCompleta faz a reimpress\u00e3o completa do cupom permitindo passar os dados da transa\u00e7\u00e3o.</p> <p>Os campos das fun\u00e7\u00f5es est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o DataTransacao 10N DD/MM/AAAA NSUTransacao 6N N\u00famero Sequencial \u00danico NNNNNN PermiteAlteracao 1A S ou N Reservado 1N 0 ou 1: Indica se deve reimprimir a \u00faltima transa\u00e7\u00e3o caso ocorra problema"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Administrativas/#resumo-vendas","title":"Resumo Vendas","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoResumoVendas(char *pNumeroControle)\n</code></pre> <p>Para a transa\u00e7\u00e3o acima, pode-se utilizar a fun\u00e7\u00e3o ConfirmaCartaoCredito . Ap\u00f3s a execu\u00e7\u00e3o desta, deve-se chamar a fun\u00e7\u00e3o FinalizaTransacao, assim como \u00e9 feito nas transa\u00e7\u00f5es de cart\u00f5es de d\u00e9bito, cr\u00e9dito e voucher.</p> Campo Tamanho Descri\u00e7\u00e3o NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) Status 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CancelamentoTransacao/","title":"Cancelamento Transa\u00e7\u00e3o","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CancelamentoTransacao/#cancelamento-pagamento","title":"Cancelamento Pagamento","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoPagamento(char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CancelamentoTransacao/#cancelamento-pagamento-completa","title":"Cancelamento Pagamento Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoPagamentoCompleta(char *pValorTransacao, char *pNumeroCupomVenda,\n                                                             char *pNumeroControle, char *pPermiteAlteracao, \n                                                             char *pReservado)\n</code></pre> <p>A fun\u00e7\u00e3o TransacaoCancelamentoPagamentoCompleta permite a realiza\u00e7\u00e3o do cancelamento de uma transa\u00e7\u00e3o de cart\u00e3o, com a diferen\u00e7a de permitir que o PDV informe o valor da transa\u00e7\u00e3o, n\u00famero do cupom, e se o operador pode alterar o NSU da transa\u00e7\u00e3o ou n\u00e3o. Para as transa\u00e7\u00f5es acima que necessitam de confirma\u00e7\u00e3o (Cancelamento de Pagamento, Pr\u00e9-Autoriza\u00e7\u00e3o, Consulta de Parcelas, Resumo de Vendas, Saque e Consulta Private Label), pode-se utilizar a fun\u00e7\u00e3o ConfirmaCartaoCredito . Ap\u00f3s a execu\u00e7\u00e3o desta, deve-se chamar a fun\u00e7\u00e3o FinalizaTransacao , assim como \u00e9 feito nas transa\u00e7\u00f5es de cart\u00f5es de d\u00e9bito, cr\u00e9dito e voucher.</p> <p>A fun\u00e7\u00e3o TransacaoCancelamentoPagamentoCompleta permite a realiza\u00e7\u00e3o do cancelamento de uma transa\u00e7\u00e3o de cart\u00e3o, com a diferen\u00e7a de permitir que o PDV informe o valor da transa\u00e7\u00e3o, n\u00famero do cupom, e se o operador pode alterar o NSU da transa\u00e7\u00e3o ou n\u00e3o.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) PermiteAlteracao 01A [ S ] Permite alterar valores informados (exceto ValorTransacao) [ N ] N\u00e3o permite alterar valores informados Reservado 158A [ Especifica\u00e7\u00e3o \u2013 TransacaoCancelamentoPagamento ]\u2022 [ 1..1 ] Valor\u2022 - [ 0 ] indica cancelamento de pagamento feito com Cart\u00e3o;\u2022 - [ 1 ] indica cancelamento de pagamento feito com Crach\u00e1;\u2022 - [ 2 ] indica cancelamento de pagamento d\u00e9bito Wappa;\u2022 - [ 3 ] indica cancelamento de pagamento feito com cart\u00e3o Qualidade\u2022 - [ 4 ] indica cancelamento de pagamento feito com cart\u00e3o MettaCard\u2022 - [ 5 ] indica cancelamento de pagamento feito com cart\u00e3o Ecopag\u2022 - [ Q ] indica cancelamento de pagamento feito com QR Code\u2022 [ 2..9 ] Data da transa\u00e7\u00e3o a ser cancelada, no formato AAAAMMDD\u2022 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CancelamentoTransacao/#cancelamento-corban","title":"Cancelamento Corban","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoCB(char *pTipoConta, char *pCodigoBarrasDigitado, \n    char *pCodigoBarrasLido, char *pValorDocumento, char *pNSUCartao, char *pNumeroControle)\n</code></pre> <p>Para mais informa\u00e7\u00f5es Clique aqui.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CartaoFrota/","title":"Cart\u00e3o Frota","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CartaoFrota/#cartao-frota","title":"Cart\u00e3o Frota","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoFrota(char *pValorTransacao, char *pNumeroCupom, \n                                           char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CartaoFrota/#cartao-frota-completa","title":"Cart\u00e3o Frota Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoFrotaCompleta(char *pValorTransacao, char *pNumeroCupom, \n                                                   char *pNumeroControle, char *pTipoProduto, \n                                                   char *pCodigoVeiculo, char *pCodigoCondutor, \n                                                   char *pQuilometragem, char *pDadosServicos, \n                                                   char *pPermiteAlteracao, char *pReservado)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CartaoFrota/#confirmacao-cartao-frota","title":"Confirma\u00e7\u00e3o Cart\u00e3o Frota","text":"<pre><code>int DIRETIVA_CALLBACK ConfirmaCartaoFrota(char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CartaoFrota/#especificacao-cartao-frota","title":"Especifica\u00e7\u00e3o Cart\u00e3o Frota","text":"<p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) TipoProduto 01N [ 0 ] VCE [ 1 ] Pr\u00e9-Pago(MaxiFrota) [ 2 ] P\u00f3s-Pago(MaxiFrota). Deve ser informado zero '0' para as demais redes CodigoVeiculo 20N C\u00f3digo do ve\u00edculo (n\u00e3o utilizado para rede Ticket e TicketLog, informar zeros '0') CodigoCondutor 15A C\u00f3digo do condutor (3ia de 2 a 11 d\u00edgitos) Quilometragem 10N Od\u00f4metro do ve\u00edculo (Policard e 3ia m\u00e1ximo de 8 d\u00edgitos) DadosServicos*este par\u00e2metro \u00e9 limitado em 20 registros para os layouts 2 e 4 e 31 registros para os demais* os dados dos servi\u00e7os devem ser informados conforme a especifica\u00e7\u00e3o ao lado (de acordo com o tipo e tamanho especificado) Dados dos servi\u00e7os fornecidos pela automa\u00e7\u00e3o e que devem ser enviados \u00e0 rede administradora (se esta exigir). Tabelas de especifica\u00e7\u00e3o a seguir.Clique aqui para visualizar as tabelas PermiteAlteracao 01A \u2022 [ S ] Permite alterar valores informados (exceto ValorTransacao)\u2022 [ N ] N\u00e3o Permite alterar valores informados Reservado 255A \u2022 [1..11] CPF\u2022 [12..20] N\u00famero da Ordem Servi\u00e7o\u2022 [21..24] Placa do ve\u00edculo. (Utilizado na rede Ticket, nas demais redes informar zeros '0').\u2022 [25..33] Hor\u00edmetro ( Utilizado na rede Ticket e TicketLog.Enviar zeros '0' se transa\u00e7\u00e3o n\u00e3o utilizar este campo)\u2022 [34..34] Produto frota (Utilizado na rede Fit Card. Enviar zeros '0' se n\u00e3o utilizado)\u2022 [35..35] Indicativo de parametriza\u00e7\u00e3o para CPF E COD funcionario para br premia (0-N\u00e3o; 1-Sim), n\u00e3o utilizado TicketLog.\u2022 [36..38] C\u00f3digo Funcionario BRPREMIA, n\u00e3o utilizado TicketLog.\u2022 [39..45] Placa completa do ve\u00edculo no formato  sem separa\u00e7\u00e3o entre letras e numeros. Quando for informada uma placa v\u00e1lida a informa\u00e7\u00e3o [21..24] ser\u00e1 ignorada.\u2022 [46..50] C\u00f3digo da Rede, onde: 137-FitCard e 10000-Outras. (Rede TicketLog). Campo num\u00e9rico)\u2022 [51..60] Identifica\u00e7\u00e3o do ve\u00edculo na frota. (Campo num\u00e9rico)\u2022 [61..68] N\u00famero de registro do funcion\u00e1rio. (Campo num\u00e9rico)\u2022 [69..69] Tipo de operacao. 1 - Compra; 2 - Consulta Saldo; 3 - Recarga Status 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o autorizada <p>DadosServicos - Especifica\u00e7\u00e3o</p> Campo Tamanho Descri\u00e7\u00e3o C\u00f3digoServi\u00e7o 03N 3 inteiros ValorUnit\u00e1rio 08N 6 Inteiros,2 Decimais Quantidade 08N 5 Inteiros,3 Decimais ValorTotal 12N 10 inteiros,2 decimais <p>DadosServicos - Especifica\u00e7\u00e3o Alternativa 1 (Ex: Rede3ia)</p> Campo Tamanho Descri\u00e7\u00e3o Especifica\u00e7\u00e3o 02A [@1] Tipo 1 C\u00f3digoServi\u00e7o 12N 12 inteiros Quantidade 08N 5 Inteiros, 3 Decimais ValorTotal 09N 7 inteiros, 2 decimais <p>DadosServicos - Especifica\u00e7\u00e3o Alternativa 2 (Ex: RedeTicket)</p> Campo Tamanho Descri\u00e7\u00e3o Especifica\u00e7\u00e3o 02A [@2] Tipo 2 RamoMercadoria 04N 4 Inteiros TipoMercadoria 04N 4 Inteiros C\u00f3digoMercadoria 05N 5 Inteiros Descri\u00e7\u00e3o Mercadoria 30A 30 caracteres (com espa\u00e7os a direita) Valor Unit\u00e1rio 08N 5 inteiros,2 Decimais Quantidade 08N 5 inteiros,2 Decimais Valor Total da mercadoria 12N 10 inteiros, 2 decimais Valor Desconto 12N 10 inteiros, 2 decimais Significado Campo Desconto 12N 0 = Valor em moeda,1 = Valor em percentagem (%) Valor Total com desconto 12N 10 inteiros, 2 Decimais <p>DadosServicos - Especifica\u00e7\u00e3o Alternativa 3 (Ex:Rede MaisAceito):</p> Campo Tamanho Descri\u00e7\u00e3o Especifica\u00e7\u00e3o 02A [@3] Tipo 3 C\u00f3digoServi\u00e7o 09N 3 bytes(c\u00f3d.grupo) 6 bytes (c\u00f3d.produto) Quantidade 08N 5 Inteiros,2 Decimais ValorTotal 10N 8 inteiros,2 Decimais <p>DadosServicos - Especifica\u00e7\u00e3o Alternativa 4 (Ex:Rede TicketLog):</p> Campo Tamanho Descri\u00e7\u00e3o Especifica\u00e7\u00e3o 02A [@4] Tipo 4 RamoMercadoria 04N 1-Abastecimento, 2-Troca de \u00d3leo,3-Servi\u00e7os Diversos TipoMercadoria 04N Para combustiveis informar o c\u00f3digo do tipo, ex.: 1 - gasolina comum, 2 - gasolina aditivada, 3 - diesel. Para   os demais produtos informar '0000' C\u00f3digoMercadoriaServico 12N C\u00f3digo referente ao produto vendido Quantidade 08N 5 Inteiros,3 Decimais ValorTotal 10N 10 inteiros,2 Decimais <p>OBS. 1: Os dados num\u00e9ricos devem ser preenchidos com zeros a esquerda</p> <p>OBS. 2: Nas transa\u00e7\u00f5es TicketLog, se forem informados mais produtos que a rede solicitar, a transa\u00e7\u00e3o ser\u00e1 cancelada e retornara um erro.</p> <p>Exemplo para Rede Ticket:</p> <p>\u2022 Transa\u00e7\u00e3o de 3,00 reais com Desconto em Moeda de 1 real:</p> <p>\u2022 Especifica\u00e7\u00e3o: @2</p> <p>\u2022 Ramo Mercadoria: 0001</p> <p>\u2022 Tipo Mercadoria: 0001</p> <p>\u2022 C\u00f3digo Mercadoria: 00103</p> <p>\u2022 Descri\u00e7\u00e3o Mercadoria: Gasolina Premium</p> <p>\u2022 Valor Unit\u00e1rio: 00001000</p> <p>\u2022 Quantidade: 00003000</p> <p>\u2022 Valor Total Mercadoria 0000000300</p> <p>\u2022 Valor Desconto 0000000100</p> <p>\u2022 Significado do campo 0</p> <p>\u2022 Valor Total com Desconto 0000000200</p> <p>\u2022 Transa\u00e7\u00e3o de 3,00 reais com Desconto em Percentual de 10%:</p> <p>\u2022 Especifica\u00e7\u00e3o: @2</p> <p>\u2022 Ramo Mercadoria: 0001</p> <p>\u2022 Tipo Mercadoria: 0001</p> <p>\u2022 C\u00f3digo Mercadoria: 00103</p> <p>\u2022 Descri\u00e7\u00e3o Mercadoria: Gasolina Premium</p> <p>\u2022 Valor Unit\u00e1rio: 00001000</p> <p>\u2022 Quantidade: 00003000</p> <p>\u2022 Valor Total Mercadoria 0000000300</p> <p>\u2022 Valor Desconto 0000001000</p> <p>\u2022 Significado do campo 1</p> <p>\u2022 Valor Total com Desconto 0000000270</p> <p>Status [ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>Status [ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p> <p>Obs: Para rede Ticket o campo ValorTransa\u00e7\u00e3o deve conter o valor total da transa\u00e7\u00e3o incluindo os descontos aplicados. No caso do exemplo acima da ticket o campo ValorTransacao deve ter valor de 2,00 reais.</p> <p>Os itens CPF e N\u00famero da Ordem de Servi\u00e7o do campo Reservado devem ser preenchidos quando for utilizada a Rede Policard.</p> <p>No campo reservado as informa\u00e7\u00f5es n\u00e3o dispon\u00edveis devem ser preechidas com brancos ou zeros de acordo com o seu tipo de dado.</p> <p>Detalhamento do campo DadosServi\u00e7o para Rede Redecard .</p> <p>O campo C\u00f3digoServi\u00e7o poder\u00e1 ser:</p> <p>1-Abastecimento, 2-Troca de \u00d3leo, 3-Lavagem, 4-Ped\u00e1gio, 5-Outros.</p> <p>O Campo Quantidade representar\u00e1, quando for o caso, os Litros.</p> <p>Detalhamento do campo DadosServi\u00e7o para Rede Policard .</p> <p>Existem tr\u00eas tipos poss\u00edveis e, para cada tipo, produtos que podem ser selecionados.</p> <p>Tipos: 01-Tipos de Combust\u00edveis 02-Tipos de Servi\u00e7o 03-Manuten\u00e7\u00e3o (sem produtos).</p> <p>Tabela de Produtos:</p> 01 Tipos de Combust\u00edveis: 02 Tipos de Servi\u00e7o 01 - Gasolina Comum 01 - Troca de \u00f3leo 02 - Gasolina Aditivada 02 - Filtro de Ar 03 - \u00c1lcool 03 - Filtro de \u00f3leo 04 - Diesel Comum 04 - Filtro de combust\u00edvel 05 - Diesel Aditivado 05 - Flu\u00eddo de Freio 06 - GNV 06 - Flu\u00eddo de Radiador 07 - GLP 07 - Extintor 08 - Lavagem Expressa 09 - Lavagem Completa 10 - Conserto de pneu 11 \u2013 Montagem/desmonte Pneu 12 - Balanceamento 13 - Geometria 14 - Graxa 15 - Querosene 16 \u2013 Outros servi\u00e7os <p>A montagem da estrutura DadosServi\u00e7os deve ser feita da seguinte maneira:</p> <p>O campo C\u00f3digoServi\u00e7o ter\u00e1 o c\u00f3digo do tipo e do produto. Ex: 102, onde 1 indica Tipo de Combust\u00edvel e 02 indica Gasolina Aditivada.</p> <p>O campo ValorUnit\u00e1rio e Valortotal ter\u00e3o valor zero.</p> <p>O campo Quantidade indicar\u00e1 Litros (para caso 01-Tipo de Combust\u00edveis) ou Quantidade (para caso 02-Tipos de Servi\u00e7o).</p> <p>Se for escolhido o tipo 03-Manuten\u00e7\u00e3o deve ser colocado em C\u00f3digoServi\u00e7o o valor 300 e os demais campos zerados. Neste tipo deve-se preencher o campo N\u00famero da Ordem Servi\u00e7o do campo reservado.</p> <p>Detalhamento do campo DadosServico para Rede Ticket .</p> <p>Segue abaixo os registros da tabela da Ticket com Ramo, Tipo e C\u00f3digo da Mercadoria. Devem ser utilizados apenas os campos C\u00f3digo e Mercadoria para passar respectivamente nos campos \u201cC\u00f3digo Mercadoria\u201d e \u201cDescri\u00e7\u00e3o Mercadoria\u201d da estrutura DadosServico.</p> C\u00f3digo Ramo Tipo Nome do Tipo C\u00f3d. Mercadoria 1 POSTO DE COMBUST 1 COMBUSTIVEL 00101 GASOLINA COMUM 1 POSTO DE COMBUST 1 COMBUSTIVEL 00102 GASOLINA ADITIV 1 POSTO DE COMBUST 1 COMBUSTIVEL 00103 GASOLINA PREMIUM 1 POSTO DE COMBUST 1 COMBUSTIVEL 00104 ETANOL COMUM 1 POSTO DE COMBUST 1 COMBUSTIVEL 00105 ETANOL ADITIVADO 1 POSTO DE COMBUST 1 COMBUSTIVEL 00106 DIESEL COMUM 1 POSTO DE COMBUST 1 COMBUSTIVEL 00107 DIESEL ADITIVADO 1 POSTO DE COMBUST 1 COMBUSTIVEL 00108 GAS NATURAL 1 POSTO DE COMBUST 1 COMBUSTIVEL 00109 BIODIESEL 1 POSTO DE COMBUST 1 COMBUSTIVEL 00110 QUEROSENE 1 POSTO DE COMBUST 1 COMBUSTIVEL 00111 METANOL 1 POSTO DE COMBUST 1 COMBUSTIVEL 00112 DIESEL MARITIMO 1 POSTO DE COMBUST 1 COMBUSTIVEL 00113 DIESEL S50 1 POSTO DE COMBUST 1 COMBUSTIVEL 00114 GLP 1 POSTO DE COMBUST 1 COMBUSTIVEL 00115 DIESEL BS 500 1 POSTO DE COMBUST 1 COMBUSTIVEL 00116 DIESEL S 10 1 POSTO DE COMBUST 2 LIMPEZA 00133 LAVAGEM SIMPLES 1 POSTO DE COMBUST 2 LIMPEZA 00134 LAVAGEM COMPLETA 1 POSTO DE COMBUST 2 LIMPEZA 00135 LAVAGEM ESPECIAL 1 POSTO DE COMBUST 2 LIMPEZA 00136 POLIMENTO CERA 1 POSTO DE COMBUST 2 LIMPEZA 00137 POLIMENTO MASSA 1 POSTO DE COMBUST 2 LIMPEZA 00138 CRISTALIZACAO 1 POSTO DE COMBUST 2 LIMPEZA 00139 OUTRO 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00140 TROCA OLEO MOTOR 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00141 COMPL OLEO MOTOR 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00142 ADIT OLEO MOTOR 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00143 TR OLEO TRANSMIS 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00144 COMPL OLEO TRANS 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00145 TR OLEO DIFERENC 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00146 COMPL OLEO DIFER 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00147 TROCA OLEO DIREC 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00148 COMPL OLEO DIREC 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00149 TR FLUIDO FREIO 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00150 COMP FLUID FREIO 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00151 TROCA ADIT RAD 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00152 COMPL AD RAD 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00153 ADITIVO COMBUST 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00154 ENGRAXAMENTO 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00155 OUTROS 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00214 ARLA A GRANEL 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00222 OLEO DOIS TEMPOS 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00223 ARLA 20 LTS 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00224 ARLA 10 LTS 1 POSTO DE COMBUST 4 FILTROS 00156 TR FILTRO OLEO 1 POSTO DE COMBUST 4 FILTROS 00157 TROCA FILTRO AR 1 POSTO DE COMBUST 4 FILTROS 00158 TR FILTRO COMB 1 POSTO DE COMBUST 4 FILTROS 00159 OUTROS 1 POSTO DE COMBUST 5 EQUIP ELETRICOS 00160 TROCA BATERIA 1 POSTO DE COMBUST 5 EQUIP ELETRICOS 00161 TROCA CORREIA 1 POSTO DE COMBUST 5 EQUIP ELETRICOS 00162 TROCA LAMPADA 1 POSTO DE COMBUST 5 EQUIP ELETRICOS 00163 TROCA FUSIVEL 1 POSTO DE COMBUST 5 EQUIP ELETRICOS 00164 OUTROS 1 POSTO DE COMBUST 6 EQUIP DIVERSOS 00165 EXTINTOR INCEN 1 POSTO DE COMBUST 6 EQUIP DIVERSOS 00166 TROCA PALHETA 1 POSTO DE COMBUST 6 EQUIP DIVERSOS 00167 CHAVEIRO 1 POSTO DE COMBUST 6 EQUIP DIVERSOS 00168 OUTROS 1 POSTO DE COMBUST 7 BORRACHARIA 00169 TROCA PNEU 1 POSTO DE COMBUST 7 BORRACHARIA 00170 CONSERTO PNEU 1 POSTO DE COMBUST 7 BORRACHARIA 00171 CALIBRAGEM NITRO 1 POSTO DE COMBUST 7 BORRACHARIA 00172 TROCA CAMARA 1 POSTO DE COMBUST 7 BORRACHARIA 00173 CONSERTO CAMARA 1 POSTO DE COMBUST 7 BORRACHARIA 00174 TROCA VALVULA 1 POSTO DE COMBUST 7 BORRACHARIA 00175 CONSERTO DE RODA 1 POSTO DE COMBUST 7 BORRACHARIA 00176 OUTROS 2 LAVA RAPIDO 2 LIMPEZA 00133 LAVAGEM SIMPLES 2 LAVA RAPIDO 2 LIMPEZA 00134 LAVAGEM COMPLETA 2 LAVA RAPIDO 2 LIMPEZA 00135 LAVAGEM ESPECIAL 2 LAVA RAPIDO 2 LIMPEZA 00136 POLIMENTO CERA 2 LAVA RAPIDO 2 LIMPEZA 00137 POLIMENTO MASSA 2 LAVA RAPIDO 2 LIMPEZA 00138 CRISTALIZACAO 2 LAVA RAPIDO 2 LIMPEZA 00139 OUTRO 3 MANUT E PECAS 8 PECAS E SERVICOS 00177 PECAS E SERVICOS 4 BORRACHARIA 7 BORRACHARIA 00169 TROCA PNEU 4 BORRACHARIA 7 BORRACHARIA 00170 CONSERTO PNEU 4 BORRACHARIA 7 BORRACHARIA 00171 CALIBRAGEM NITRO 4 BORRACHARIA 7 BORRACHARIA 00172 TROCA CAMARA 4 BORRACHARIA 7 BORRACHARIA 00173 CONSERTO CAMARA 4 BORRACHARIA 7 BORRACHARIA 00174 TROCA VALVULA 4 BORRACHARIA 7 BORRACHARIA 00175 CONSERTO DE RODA 4 BORRACHARIA 7 BORRACHARIA 00176 OUTROS 5 HOTEL 9 HOTEL 00178 DIARIA 5 HOTEL 9 HOTEL 00179 OUTROS 6 ESTACIONAMENTO 10 ESTACIONAMENTO 00180 HORA 6 ESTACIONAMENTO 10 ESTACIONAMENTO 00181 DIARIA 6 ESTACIONAMENTO 10 ESTACIONAMENTO 00182 MENSALIDADE 6 ESTACIONAMENTO 10 ESTACIONAMENTO 00183 OUTROS 7 EST INT POSTO 1 COMBUSTIVEL 00101 GASOLINA COMUM 7 EST INT POSTO 1 COMBUSTIVEL 00102 GASOLINA ADITIV 7 EST INT POSTO 1 COMBUSTIVEL 00103 GASOLINA PREMIUM 7 EST INT POSTO 1 COMBUSTIVEL 00104 ETANOL COMUM 7 EST INT POSTO 1 COMBUSTIVEL 00105 ETANOL ADITIVADO 7 EST INT POSTO 1 COMBUSTIVEL 00106 DIESEL COMUM 7 EST INT POSTO 1 COMBUSTIVEL 00107 DIESEL ADITIVADO 7 EST INT POSTO 1 COMBUSTIVEL 00108 GAS NATURAL 7 EST INT POSTO 1 COMBUSTIVEL 00109 BIODIESEL 7 EST INT POSTO 1 COMBUSTIVEL 00110 QUEROSENE 7 EST INT POSTO 1 COMBUSTIVEL 00111 METANOL 7 EST INT POSTO 1 COMBUSTIVEL 00112 DIESEL MARITIMO 7 EST INT POSTO 1 COMBUSTIVEL 00113 DIESEL S50 7 EST INT POSTO 1 COMBUSTIVEL 00114 GLP 7 EST INT POSTO 1 COMBUSTIVEL 00115 DIESEL BS 500 7 EST INT POSTO 1 COMBUSTIVEL 00116 DIESEL S 10 7 EST INT POSTO 2 LIMPEZA 00133 LAVAGEM SIMPLES 7 EST INT POSTO 2 LIMPEZA 00134 LAVAGEM COMPLETA 7 EST INT POSTO 2 LIMPEZA 00135 LAVAGEM ESPECIAL 7 EST INT POSTO 2 LIMPEZA 00136 POLIMENTO CERA 7 EST INT POSTO 2 LIMPEZA 00137 POLIMENTO MASSA 7 EST INT POSTO 2 LIMPEZA 00139 OUTRO 7 EST INT POSTO 2 LIMPEZA 00138 CRISTALIZACAO 7 EST INT POSTO 3 ADIT E LUBRIFIC 00140 TROCA OLEO MOTOR 7 EST INT POSTO 3 ADIT E LUBRIFIC 00141 COMPL OLEO MOTOR 7 EST INT POSTO 3 ADIT E LUBRIFIC 00142 ADIT OLEO MOTOR 7 EST INT POSTO 3 ADIT E LUBRIFIC 00143 TR OLEO TRANSMIS 7 EST INT POSTO 3 ADIT E LUBRIFIC 00144 COMPL OLEO TRANS 7 EST INT POSTO 3 ADIT E LUBRIFIC 00145 TR OLEO DIFERENC 7 EST INT POSTO 3 ADIT E LUBRIFIC 00146 COMPL OLEO DIFER 7 EST INT POSTO 3 ADIT E LUBRIFIC 00147 TROCA OLEO DIREC 7 EST INT POSTO 3 ADIT E LUBRIFIC 00148 COMPL OLEO DIREC 7 EST INT POSTO 3 ADIT E LUBRIFIC 00149 TR FLUIDO FREIO 7 EST INT POSTO 3 ADIT E LUBRIFIC 00150 COMP FLUID FREIO 7 EST INT POSTO 3 ADIT E LUBRIFIC 00151 TROCA ADIT RAD 7 EST INT POSTO 3 ADIT E LUBRIFIC 00152 COMPL AD RAD 7 EST INT POSTO 3 ADIT E LUBRIFIC 00153 ADITIVO COMBUST 7 EST INT POSTO 3 ADIT E LUBRIFIC 00154 ENGRAXAMENTO 7 EST INT POSTO 3 ADIT E LUBRIFIC 00155 OUTROS 7 EST INT POSTO 3 ADIT E LUBRIFIC 00214 ARLA A GRANEL 7 EST INT POSTO 3 ADIT E LUBRIFIC 00222 OLEO DOIS TEMPOS 7 EST INT POSTO 3 ADIT E LUBRIFIC 00223 ARLA 20 LTS 7 EST INT POSTO 3 ADIT E LUBRIFIC 00224 ARLA 10 LTS 7 EST INT POSTO 4 FILTROS 00156 TR FILTRO OLEO 7 EST INT POSTO 4 FILTROS 00157 TROCA FILTRO AR 7 EST INT POSTO 4 FILTROS 00158 TR FILTRO COMB 7 EST INT POSTO 4 FILTROS 00159 OUTROS 7 EST INT POSTO 5 EQUIP ELETRICOS 00160 TROCA BATERIA 7 EST INT POSTO 5 EQUIP ELETRICOS 00161 TROCA CORREIA 7 EST INT POSTO 5 EQUIP ELETRICOS 00162 TROCA LAMPADA 7 EST INT POSTO 5 EQUIP ELETRICOS 00163 TROCA FUSIVEL 7 EST INT POSTO 5 EQUIP ELETRICOS 00164 OUTROS 7 EST INT POSTO 6 EQUIP ELETRICOS 00165 EXTINTOR INCEN 7 EST INT POSTO 6 EQUIP ELETRICOS 00166 TROCA PALHETA 7 EST INT POSTO 6 EQUIP ELETRICOS 00167 CHAVEIRO 7 EST INT POSTO 6 EQUIP ELETRICOS 00168 OUTROS 8 EST INT OFICINA 8 PECAS E SERVICOS 00177 PECAS E SERVICOS 9 EST INT ALMOXARI 11 ALMOXARIFADO 00184 ALMOXARIFADO 10 EST INT OUTROS 12 OUTROS 00185 OUTROS 10 EST INT OUTROS 15 LUBRIFICANTES 00189 15W40 10 EST INT OUTROS 15 LUBRIFICANTES 00190 85W140 10 EST INT OUTROS 15 LUBRIFICANTES 00191 AT 10 EST INT OUTROS 15 LUBRIFICANTES 00192 FLUIDO FREIO 10 EST INT OUTROS 15 LUBRIFICANTES 00193 FTA 10 EST INT OUTROS 15 LUBRIFICANTES 00194 H220S 10 EST INT OUTROS 15 LUBRIFICANTES 00195 LUBR VL 10 EST INT OUTROS 15 LUBRIFICANTES 00196 M40 10 EST INT OUTROS 15 LUBRIFICANTES 00197 PAROIL 10 EST INT OUTROS 15 LUBRIFICANTES 00198 S68 10 EST INT OUTROS 15 LUBRIFICANTES 00199 S150 10 EST INT OUTROS 15 LUBRIFICANTES 00200 S460 10 EST INT OUTROS 15 LUBRIFICANTES 00201 SAE80 10 EST INT OUTROS 15 LUBRIFICANTES 00202 SAE90 10 EST INT OUTROS 15 LUBRIFICANTES 00203 SAE90LS 10 EST INT OUTROS 15 LUBRIFICANTES 00204 T68 10 EST INT OUTROS 15 LUBRIFICANTES 00205 TC50 10 EST INT OUTROS 15 LUBRIFICANTES 00206 WBF100 10 EST INT OUTROS 15 LUBRIFICANTES 00207 ADITIVO RADIADOR 10 EST INT OUTROS 16 GRAXA 00208 GRAXA 10 EST INT OUTROS 17 EMULSSAO 00209 EMULSSAO IMPR 10 EST INT OUTROS 17 EMULSSAO 00210 EMULSSAO RR 10 EST INT OUTROS 18 CAP 00211 CAP 30 45 10 EST INT OUTROS 18 CAP 00212 CAP POL 10 EST INT OUTROS 18 CAP 00213 CAP OUTROS 12 TAXI 1 COMBUSTIVEL 00101 GASOLINA COMUM 12 TAXI 1 COMBUSTIVEL 00102 GASOLINA ADITIV 12 TAXI 1 COMBUSTIVEL 00103 GASOLINA PREMIUM 12 TAXI 1 COMBUSTIVEL 00104 ETANOL COMUM 12 TAXI 1 COMBUSTIVEL 00105 ETANOL ADITIVADO 12 TAXI 1 COMBUSTIVEL 00106 DIESEL COMUM 12 TAXI 1 COMBUSTIVEL 00107 DIESEL ADITIVADO 12 TAXI 1 COMBUSTIVEL 00108 GAS NATURAL 12 TAXI 1 COMBUSTIVEL 00109 BIODIESEL 12 TAXI 1 COMBUSTIVEL 00110 QUEROSENE 12 TAXI 1 COMBUSTIVEL 00111 METANOL 12 TAXI 1 COMBUSTIVEL 00112 DIESEL MARITIMO 12 TAXI 1 COMBUSTIVEL 00113 DIESEL S50 12 TAXI 1 COMBUSTIVEL 00114 GLP 12 TAXI 1 COMBUSTIVEL 00115 DIESEL BS 500 12 TAXI 1 COMBUSTIVEL 00116 DIESEL S 10 12 TAXI 2 LIMPEZA 00133 LAVAGEM SIMPLES 12 TAXI 2 LIMPEZA 00134 LAVAGEM COMPLETA 12 TAXI 2 LIMPEZA 00135 LAVAGEM ESPECIAL 12 TAXI 2 LIMPEZA 00136 POLIMENTO CERA 12 TAXI 2 LIMPEZA 00137 POLIMENTO MASSA 12 TAXI 2 LIMPEZA 00138 CRISTALIZACAO 12 TAXI 2 LIMPEZA 00139 OUTRO 12 TAXI 3 ADIT E LUBRIFIC 00140 TROCA OLEO MOTOR 12 TAXI 3 ADIT E LUBRIFIC 00141 COMPL OLEO MOTOR 12 TAXI 3 ADIT E LUBRIFIC 00142 ADIT OLEO MOTOR 12 TAXI 3 ADIT E LUBRIFIC 00143 TR OLEO TRANSMIS 12 TAXI 3 ADIT E LUBRIFIC 00144 COMPL OLEO TRANS 12 TAXI 3 ADIT E LUBRIFIC 00145 TR OLEO DIFERENC 12 TAXI 3 ADIT E LUBRIFIC 00146 COMPL OLEO DIFER 12 TAXI 3 ADIT E LUBRIFIC 00147 TROCA OLEO DIREC 12 TAXI 3 ADIT E LUBRIFIC 00148 COMPL OLEO DIREC 12 TAXI 3 ADIT E LUBRIFIC 00149 TR FLUIDO FREIO 12 TAXI 3 ADIT E LUBRIFIC 00150 COMP FLUID FREIO 12 TAXI 3 ADIT E LUBRIFIC 00151 TROCA ADIT RAD 12 TAXI 3 ADIT E LUBRIFIC 00152 COMPL AD RAD 12 TAXI 3 ADIT E LUBRIFIC 00153 ADITIVO COMBUST 12 TAXI 3 ADIT E LUBRIFIC 00154 ENGRAXAMENTO 12 TAXI 3 ADIT E LUBRIFIC 00155 OUTROS 12 TAXI 3 ADIT E LUBRIFIC 00214 ARLA A GRANEL 12 TAXI 3 ADIT E LUBRIFIC 00222 OLEO DOIS TEMPOS 12 TAXI 3 ADIT E LUBRIFIC 00223 ARLA 20 LTS 12 TAXI 3 ADIT E LUBRIFIC 00224 ARLA 10 LTS 12 TAXI 4 FILTROS 00156 TR FILTRO OLEO 12 TAXI 4 FILTROS 00157 TROCA FILTRO AR 12 TAXI 4 FILTROS 00158 TR FILTRO COMB 12 TAXI 4 FILTROS 00159 OUTROS 12 TAXI 5 EQUIP ELETRICOS 00160 TROCA BATERIA 12 TAXI 5 EQUIP ELETRICOS 00161 TROCA CORREIA 12 TAXI 5 EQUIP ELETRICOS 00162 TROCA LAMPADA 12 TAXI 5 EQUIP ELETRICOS 00163 TROCA FUSIVEL 12 TAXI 5 EQUIP ELETRICOS 00164 OUTROS 12 TAXI 6 EQUIP DIVERSOS 00165 EXTINTOR INCEN 12 TAXI 6 EQUIP DIVERSOS 00166 TROCA PALHETA 12 TAXI 6 EQUIP DIVERSOS 00167 CHAVEIRO 12 TAXI 6 EQUIP DIVERSOS 00168 OUTROS 12 TAXI 7 BORRACHARIA 00169 TROCA PNEU 12 TAXI 7 BORRACHARIA 00170 CONSERTO PNEU 12 TAXI 7 BORRACHARIA 00171 CALIBRAGEM NITRO 12 TAXI 7 BORRACHARIA 00172 TROCA CAMARA 12 TAXI 7 BORRACHARIA 00173 CONSERTO CAMARA 12 TAXI 7 BORRACHARIA 00174 TROCA VALVULA 12 TAXI 7 BORRACHARIA 00175 CONSERTO DE RODA 12 TAXI 7 BORRACHARIA 00176 OUTROS 12 TAXI 8 PECAS E SERVICOS 00177 PECAS E SERVICOS 12 TAXI 9 HOTEL 00178 DIARIA 12 TAXI 9 HOTEL 00179 OUTROS 12 TAXI 10 ESTACIONAMENTO 00180 HORA 12 TAXI 10 ESTACIONAMENTO 00181 DIARIA 12 TAXI 10 ESTACIONAMENTO 00182 MENSALIDADE 12 TAXI 10 ESTACIONAMENTO 00183 OUTROS 12 TAXI 11 ALMOXARIFADO 00184 ALMOXARIFADO 12 TAXI 12 OUTROS 00185 OUTROS 12 TAXI 13 TAXI 00186 TAXI 13 ASSISTENCIA 1 COMBUSTIVEL 00101 GASOLINA COMUM 13 ASSISTENCIA 1 COMBUSTIVEL 00102 GASOLINA ADITIV 13 ASSISTENCIA 1 COMBUSTIVEL 00103 GASOLINA PREMIUM 13 ASSISTENCIA 1 COMBUSTIVEL 00104 ETANOL COMUM 13 ASSISTENCIA 1 COMBUSTIVEL 00105 ETANOL ADITIVADO 13 ASSISTENCIA 1 COMBUSTIVEL 00106 DIESEL COMUM 13 ASSISTENCIA 1 COMBUSTIVEL 00107 DIESEL ADITIVADO 13 ASSISTENCIA 1 COMBUSTIVEL 00108 GAS NATURAL 13 ASSISTENCIA 1 COMBUSTIVEL 00109 BIODIESEL 13 ASSISTENCIA 1 COMBUSTIVEL 00110 QUEROSENE 13 ASSISTENCIA 1 COMBUSTIVEL 00111 METANOL 13 ASSISTENCIA 1 COMBUSTIVEL 00112 DIESEL MARITIMO 13 ASSISTENCIA 1 COMBUSTIVEL 00113 DIESEL S50 13 ASSISTENCIA 1 COMBUSTIVEL 00114 GLP 13 ASSISTENCIA 1 COMBUSTIVEL 00115 DIESEL BS 500 13 ASSISTENCIA 1 COMBUSTIVEL 00116 DIESEL S 10 13 ASSISTENCIA 2 LIMPEZA 00133 LAVAGEM SIMPLES 13 ASSISTENCIA 2 LIMPEZA 00134 LAVAGEM COMPLETA 13 ASSISTENCIA 2 LIMPEZA 00135 LAVAGEM ESPECIAL 13 ASSISTENCIA 2 LIMPEZA 00136 POLIMENTO CERA 13 ASSISTENCIA 2 LIMPEZA 00137 POLIMENTO MASSA 13 ASSISTENCIA 2 LIMPEZA 00138 CRISTALIZACAO 13 ASSISTENCIA 2 LIMPEZA 00139 OUTRO 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00140 TROCA OLEO MOTOR 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00141 COMPL OLEO MOTOR 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00142 ADIT OLEO MOTOR 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00143 TR OLEO TRANSMIS 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00144 COMPL OLEO TRANS 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00145 TR OLEO DIFERENC 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00146 COMPL OLEO DIFER 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00147 TROCA OLEO DIREC 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00148 COMPL OLEO DIREC 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00149 TR FLUIDO FREIO 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00150 COMP FLUID FREIO 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00151 TROCA ADIT RAD 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00152 COMPL AD RAD 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00153 ADITIVO COMBUST 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00154 ENGRAXAMENTO 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00155 OUTROS 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00214 ARLA A GRANEL 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00222 OLEO DOIS TEMPOS 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00223 ARLA 20 LTS 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00224 ARLA 10 LTS 13 ASSISTENCIA 4 FILTROS 00156 TR FILTRO OLEO 13 ASSISTENCIA 4 FILTROS 00157 TROCA FILTRO AR 13 ASSISTENCIA 4 FILTROS 00158 TR FILTRO COMB 13 ASSISTENCIA 4 FILTROS 00159 OUTROS 13 ASSISTENCIA 5 EQUIP ELETRICOS 00160 TROCA BATERIA 13 ASSISTENCIA 5 EQUIP ELETRICOS 00161 TROCA CORREIA 13 ASSISTENCIA 5 EQUIP ELETRICOS 00162 TROCA LAMPADA 13 ASSISTENCIA 5 EQUIP ELETRICOS 00163 TROCA FUSIVEL 13 ASSISTENCIA 5 EQUIP ELETRICOS 00164 OUTROS 13 ASSISTENCIA 6 EQUIP DIVERSOS 00165 EXTINTOR INCEN 13 ASSISTENCIA 6 EQUIP DIVERSOS 00166 TROCA PALHETA 13 ASSISTENCIA 6 EQUIP DIVERSOS 00167 CHAVEIRO 13 ASSISTENCIA 6 EQUIP DIVERSOS 00168 OUTROS 13 ASSISTENCIA 7 BORRACHARIA 00169 TROCA PNEU 13 ASSISTENCIA 7 BORRACHARIA 00170 CONSERTO PNEU 13 ASSISTENCIA 7 BORRACHARIA 00171 CALIBRAGEM NITRO 13 ASSISTENCIA 7 BORRACHARIA 00172 TROCA CAMARA 13 ASSISTENCIA 7 BORRACHARIA 00173 CONSERTO CAMARA 13 ASSISTENCIA 7 BORRACHARIA 00174 TROCA VALVULA 13 ASSISTENCIA 7 BORRACHARIA 00175 CONSERTO DE RODA 13 ASSISTENCIA 7 BORRACHARIA 00176 OUTROS 13 ASSISTENCIA 8 PECAS E SERVICOS 00177 PECAS E SERVICOS 13 ASSISTENCIA 9 HOTEL 00178 DIARIA 13 ASSISTENCIA 9 HOTEL 00179 OUTROS 13 ASSISTENCIA 10 ESTACIONAMENTO 00180 HORA 13 ASSISTENCIA 10 ESTACIONAMENTO 00181 DIARIA 13 ASSISTENCIA 10 ESTACIONAMENTO 00182 MENSALIDADE 13 ASSISTENCIA 10 ESTACIONAMENTO 00183 OUTROS 13 ASSISTENCIA 11 ALMOXARIFADO 00184 ALMOXARIFADO 13 ASSISTENCIA 12 OUTROS 00185 OUTROS 13 ASSISTENCIA 13 TAXI 00186 TAXI 13 ASSISTENCIA 14 ASSISTENCIA 00188 ASSISTEN CIA 15 CENTRAL DE SERV 1 COMBUSTIVEL 00101 GASOLINA COMUM 15 CENTRAL DE SERV 1 COMBUSTIVEL 00102 GASOLINA ADITIV 15 CENTRAL DE SERV 1 COMBUSTIVEL 00103 GASOLINA PREMIUM 15 CENTRAL DE SERV 1 COMBUSTIVEL 00104 ETANOL COMUM 15 CENTRAL DE SERV 1 COMBUSTIVEL 00105 ETANOL ADITIVADO 15 CENTRAL DE SERV 1 COMBUSTIVEL 00106 DIESEL COMUM 15 CENTRAL DE SERV 1 COMBUSTIVEL 00107 DIESEL ADITIVADO 15 CENTRAL DE SERV 1 COMBUSTIVEL 00108 GAS NATURAL 15 CENTRAL DE SERV 1 COMBUSTIVEL 00109 BIODIESEL 15 CENTRAL DE SERV 1 COMBUSTIVEL 00110 QUEROSENE 15 CENTRAL DE SERV 1 COMBUSTIVEL 00111 METANOL 15 CENTRAL DE SERV 1 COMBUSTIVEL 00112 DIESEL MARITIMO 15 CENTRAL DE SERV 1 COMBUSTIVEL 00113 DIESEL S50 15 CENTRAL DE SERV 1 COMBUSTIVEL 00114 GLP 15 CENTRAL DE SERV 1 COMBUSTIVEL 00115 DIESEL BS 500 15 CENTRAL DE SERV 1 COMBUSTIVEL 00116 DIESEL S 10 15 CENTRAL DE SERV 2 LIMPEZA 00133 LAVAGEM SIMPLES 15 CENTRAL DE SERV 2 LIMPEZA 00134 LAVAGEM COMPLETA 15 CENTRAL DE SERV 2 LIMPEZA 00135 LAVAGEM ESPECIAL 15 CENTRAL DE SERV 2 LIMPEZA 00136 POLIMENTO CERA 15 CENTRAL DE SERV 2 LIMPEZA 00137 POLIMENTO MASSA 15 CENTRAL DE SERV 2 LIMPEZA 00138 CRISTALIZACAO 15 CENTRAL DE SERV 2 LIMPEZA 00139 OUTRO 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00140 TROCA OLEO MOTOR 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00141 COMPL OLEO MOTOR 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00142 ADIT OLEO MOTOR 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00143 TR OLEO TRANSMIS 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00144 COMPL OLEO TRANS 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00145 TR OLEO DIFERENC 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00146 COMPL OLEO DIFER 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00147 TROCA OLEO DIREC 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00148 COMPL OLEO DIREC 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00149 TR FLUIDO FREIO 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00150 COMP FLUID FREIO 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00151 TROCA ADIT RAD 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00152 COMPL AD RAD 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00153 ADITIVO COMBUST 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00154 ENGRAXAMENTO 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00155 OUTROS 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00214 ARLA A GRANEL 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00222 OLEO DOIS TEMPOS 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00223 ARLA 20 LTS 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00224 ARLA 10 LTS 15 CENTRAL DE SERV 4 FILTROS 00156 TR FILTRO OLEO 15 CENTRAL DE SERV 4 FILTROS 00157 TROCA FILTRO AR 15 CENTRAL DE SERV 4 FILTROS 00158 TR FILTRO COMB 15 CENTRAL DE SERV 4 FILTROS 00159 OUTROS 15 CENTRAL DE SERV 5 EQUIP ELETRICOS 00160 TROCA BATERIA 15 CENTRAL DE SERV 5 EQUIP ELETRICOS 00161 TROCA CORREIA 15 CENTRAL DE SERV 5 EQUIP ELETRICOS 00162 TROCA LAMPADA 15 CENTRAL DE SERV 5 EQUIP ELETRICOS 00163 TROCA FUSIVEL 15 CENTRAL DE SERV 5 EQUIP ELETRICOS 00164 OUTROS 15 CENTRAL DE SERV 6 EQUIP DIVERSOS 00165 EXTINTOR INCEN 15 CENTRAL DE SERV 6 EQUIP DIVERSOS 00166 TROCA PALHETA 15 CENTRAL DE SERV 6 EQUIP DIVERSOS 00167 CHAVEIRO 15 CENTRAL DE SERV 6 EQUIP DIVERSOS 00168 OUTROS 15 CENTRAL DE SERV 7 BORRACHARIA 00169 TROCA PNEU 15 CENTRAL DE SERV 7 BORRACHARIA 00170 CONSERTO PNEU 15 CENTRAL DE SERV 7 BORRACHARIA 00171 CALIBRAGEM NITRO 15 CENTRAL DE SERV 7 BORRACHARIA 00172 TROCA CAMARA 15 CENTRAL DE SERV 7 BORRACHARIA 00173 CONSERTO CAMARA 15 CENTRAL DE SERV 7 BORRACHARIA 00174 TROCA VALVULA 15 CENTRAL DE SERV 7 BORRACHARIA 00175 CONSERTO DE RODA 15 CENTRAL DE SERV 7 BORRACHARIA 00176 OUTROS 15 CENTRAL DE SERV 8 PECAS E SERVICOS 00177 PECAS E SERVICOS 15 CENTRAL DE SERV 9 HOTEL 00178 DIARIA 15 CENTRAL DE SERV 9 HOTEL 00179 OUTROS 15 CENTRAL DE SERV 10 ESTACIONAMENTO 00180 HORA 15 CENTRAL DE SERV 10 ESTACIONAMENTO 00181 DIARIA 15 CENTRAL DE SERV 10 ESTACIONAMENTO 00182 MENSALIDADE 15 CENTRAL DE SERV 10 ESTACIONAMENTO 00183 OUTROS 15 CENTRAL DE SERV 11 ALMOXARIFADO 00184 ALMOXARIFADO 15 CENTRAL DE SERV 12 OUTROS 00185 OUTROS 15 CENTRAL DE SERV 13 TAXI 00186 TAXI 15 CENTRAL DE SERV 14 ASSISTENCIA 00188 ASSISTENCIA 15 CENTRAL DE SERV 15 LUBRIFICANTES 00189 15W40 15 CENTRAL DE SERV 15 LUBRIFICANTES 00190 85W140 15 CENTRAL DE SERV 15 LUBRIFICANTES 00191 AT 15 CENTRAL DE SERV 15 LUBRIFICANTES 00192 FLUIDO FREIO 15 CENTRAL DE SERV 15 LUBRIFICANTES 00193 FTA 15 CENTRAL DE SERV 15 LUBRIFICANTES 00194 H220S 15 CENTRAL DE SERV 15 LUBRIFICANTES 00195 LUBR VL 15 CENTRAL DE SERV 15 LUBRIFICANTES 00196 M40 15 CENTRAL DE SERV 15 LUBRIFICANTES 00197 PAROIL 15 CENTRAL DE SERV 15 LUBRIFICANTES 00198 S68 15 CENTRAL DE SERV 15 LUBRIFICANTES 00199 S150 15 CENTRAL DE SERV 15 LUBRIFICANTES 00200 S460 15 CENTRAL DE SERV 15 LUBRIFICANTES 00201 SAE80 15 CENTRAL DE SERV 15 LUBRIFICANTES 00202 SAE90 15 CENTRAL DE SERV 15 LUBRIFICANTES 00203 SAE90LS 15 CENTRAL DE SERV 15 LUBRIFICANTES 00204 T68 15 CENTRAL DE SERV 15 LUBRIFICANTES 00205 TC50 15 CENTRAL DE SERV 15 LUBRIFICANTES 00206 WBF100 15 CENTRAL DE SERV 15 LUBRIFICANTES 00207 ADITIVO RADIADOR 15 CENTRAL DE SERV 16 GRAXA 00208 GRAXA 15 CENTRAL DE SERV 17 EMULSSAO 00209 EMULSSAO IMPR 15 CENTRAL DE SERV 17 EMULSSAO 00210 EMULSSAO RR 15 CENTRAL DE SERV 18 CAP 00211 CAP 30 45 15 CENTRAL DE SERV 18 CAP 00212 CAP POL 15 CENTRAL DE SERV 18 CAP 00213 CAP OUTROS 15 CENTRAL DE SERV 19 CENTRAL DE SERV 00215 REBOQUE 15 CENTRAL DE SERV 19 CENTRAL DE SERV 00216 SOCORRO MECANICO 15 CENTRAL DE SERV 19 CENTRAL DE SERV 00217 CHAVEIRO 15 CENTRAL DE SERV 19 CENTRAL DE SERV 00218 TRANSPORTE ALTER 15 CENTRAL DE SERV 19 CENTRAL DE SERV 00219 VEICULO RESERVA 15 CENTRAL DE SERV 19 CENTRAL DE SERV 00220 LEVA E TRAZ 15 CENTRAL DE SERV 19 CENTRAL DE SERV 00221 OUTROS SERVICOS 16 CENTRAL DE SERV 1 COMBUSTIVEL 00101 GASOLINA COMUM 16 CENTRAL DE SERV 1 COMBUSTIVEL 00102 GASOLINA ADITIV 16 CENTRAL DE SERV 1 COMBUSTIVEL 00103 GASOLINA PREMIUM 16 CENTRAL DE SERV 1 COMBUSTIVEL 00104 ETANOL COMUM 16 CENTRAL DE SERV 1 COMBUSTIVEL 00105 ETANOL ADITIVADO 16 CENTRAL DE SERV 1 COMBUSTIVEL 00106 DIESEL COMUM 16 CENTRAL DE SERV 1 COMBUSTIVEL 00107 DIESEL ADITIVADO 16 CENTRAL DE SERV 1 COMBUSTIVEL 00108 GAS NATURAL 16 CENTRAL DE SERV 1 COMBUSTIVEL 00109 BIODIESEL 16 CENTRAL DE SERV 1 COMBUSTIVEL 00110 QUEROSENE 16 CENTRAL DE SERV 1 COMBUSTIVEL 00111 METANOL 16 CENTRAL DE SERV 1 COMBUSTIVEL 00112 DIESEL MARITIMO 16 CENTRAL DE SERV 1 COMBUSTIVEL 00113 DIESEL S50 16 CENTRAL DE SERV 1 COMBUSTIVEL 00114 GLP 16 CENTRAL DE SERV 1 COMBUSTIVEL 00115 DIESEL BS 500 16 CENTRAL DE SERV 1 COMBUSTIVEL 00116 DIESEL S 10 16 CENTRAL DE SERV 2 LIMPEZA 00133 LAVAGEM SIMPLES 16 CENTRAL DE SERV 2 LIMPEZA 00134 LAVAGEM COMPLETA 16 CENTRAL DE SERV 2 LIMPEZA 00135 LAVAGEM ESPECIAL 16 CENTRAL DE SERV 2 LIMPEZA 00136 POLIMENTO CERA 16 CENTRAL DE SERV 2 LIMPEZA 00137 POLIMENTO MASSA 16 CENTRAL DE SERV 2 LIMPEZA 00138 CRISTALIZACAO 16 CENTRAL DE SERV 2 LIMPEZA 00139 OUTRO 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00140 TROCA OLEO MOTOR 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00141 COMPL OLEO MOTOR 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00142 ADIT OLEO MOTOR 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00143 TR OLEO TRANSMIS 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00144 COMPL OLEO TRANS 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00145 TR OLEO DIFERENC 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00146 COMPL OLEO DIFER 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00147 TROCA OLEO DIREC 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00148 COMPL OLEO DIREC 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00149 TR FLUIDO FREIO 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00150 COMP FLUID FREIO 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00151 TROCA ADIT RAD 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00152 COMPL AD RAD 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00153 ADITIVO COMBUST 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00154 ENGRAXAMENTO 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00155 OUTROS 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00214 ARLA A GRANEL 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00222 OLEO DOIS TEMPOS 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00223 ARLA 20 LTS 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00224 ARLA 10 LTS 16 CENTRAL DE SERV 4 FILTROS 00156 TR FILTRO OLEO 16 CENTRAL DE SERV 4 FILTROS 00157 TROCA FILTRO AR 16 CENTRAL DE SERV 4 FILTROS 00158 TR FILTRO COMB 16 CENTRAL DE SERV 4 FILTROS 00159 OUTROS 16 CENTRAL DE SERV 5 EQUIP ELETRICOS 00160 TROCA BATERIA 16 CENTRAL DE SERV 5 EQUIP ELETRICOS 00161 TROCA CORREIA 16 CENTRAL DE SERV 5 EQUIP ELETRICOS 00162 TROCA LAMPADA 16 CENTRAL DE SERV 5 EQUIP ELETRICOS 00163 TROCA FUSIVEL 16 CENTRAL DE SERV 5 EQUIP ELETRICOS 00164 OUTROS 16 CENTRAL DE SERV 6 EQUIP DIVERSOS 00165 EXTINTOR INCEN 16 CENTRAL DE SERV 6 EQUIP DIVERSOS 00166 TROCA PALHETA 16 CENTRAL DE SERV 6 EQUIP DIVERSOS 00167 CHAVEIRO 16 CENTRAL DE SERV 6 EQUIP DIVERSOS 00168 OUTROS 16 CENTRAL DE SERV 7 BORRACHARIA 00169 TROCA PNEU 16 CENTRAL DE SERV 7 BORRACHARIA 00170 CONSERTO PNEU 16 CENTRAL DE SERV 7 BORRACHARIA 00171 CALIBRAGEM NITRO 16 CENTRAL DE SERV 7 BORRACHARIA 00172 TROCA CAMARA 16 CENTRAL DE SERV 7 BORRACHARIA 00173 CONSERTO CAMARA 16 CENTRAL DE SERV 7 BORRACHARIA 00174 TROCA VALVULA 16 CENTRAL DE SERV 7 BORRACHARIA 00175 CONSERTO DE RODA 16 CENTRAL DE SERV 7 BORRACHARIA 00176 OUTROS 16 CENTRAL DE SERV 8 PECAS E SERVICOS 00177 PECAS E SERVICOS 16 CENTRAL DE SERV 9 HOTEL 00178 DIARIA 16 CENTRAL DE SERV 9 HOTEL 00179 OUTROS 16 CENTRAL DE SERV 10 ESTACIONAMENTO 00180 HORA 16 CENTRAL DE SERV 10 ESTACIONAMENTO 00181 DIARIA 16 CENTRAL DE SERV 10 ESTACIONAMENTO 00182 MENSALIDADE 16 CENTRAL DE SERV 10 ESTACIONAMENTO 00183 OUTROS 16 CENTRAL DE SERV 11 ALMOXARIFADO 00184 ALMOXARIFADO 16 CENTRAL DE SERV 12 OUTROS 00185 OUTROS 16 CENTRAL DE SERV 13 TAXI 00186 TAXI 16 CENTRAL DE SERV 14 ASSISTENCIA 00188 ASSISTENCIA 16 CENTRAL DE SERV 15 LUBRIFICANTES 00189 15W40 16 CENTRAL DE SERV 15 LUBRIFICANTES 00190 85W140 16 CENTRAL DE SERV 15 LUBRIFICANTES 00191 AT 16 CENTRAL DE SERV 15 LUBRIFICANTES 00192 FLUIDO FREIO 16 CENTRAL DE SERV 15 LUBRIFICANTES 00193 FTA 16 CENTRAL DE SERV 15 LUBRIFICANTES 00194 H220S 16 CENTRAL DE SERV 15 LUBRIFICANTES 00195 LUBR VL 16 CENTRAL DE SERV 15 LUBRIFICANTES 00196 M40 16 CENTRAL DE SERV 15 LUBRIFICANTES 00197 PAROIL 16 CENTRAL DE SERV 15 LUBRIFICANTES 00198 S68 16 CENTRAL DE SERV 15 LUBRIFICANTES 00199 S150 16 CENTRAL DE SERV 15 LUBRIFICANTES 00200 S460 16 CENTRAL DE SERV 15 LUBRIFICANTES 00201 SAE80 16 CENTRAL DE SERV 15 LUBRIFICANTES 00202 SAE90 16 CENTRAL DE SERV 15 LUBRIFICANTES 00203 SAE90LS 16 CENTRAL DE SERV 15 LUBRIFICANTES 00204 T68 16 CENTRAL DE SERV 15 LUBRIFICANTES 00205 TC50 16 CENTRAL DE SERV 15 LUBRIFICANTES 00206 WBF100 16 CENTRAL DE SERV 15 LUBRIFICANTES 00207 ADITIVO RADIADOR 16 CENTRAL DE SERV 16 GRAXA 00208 GRAXA 16 CENTRAL DE SERV 17 EMULSSAO 00209 EMULSSAO IMPR 16 CENTRAL DE SERV 17 EMULSSAO 00210 EMULSSAO RR 16 CENTRAL DE SERV 18 CAP 00211 CAP 30 45 16 CENTRAL DE SERV 18 CAP 00212 CAP POL 16 CENTRAL DE SERV 18 CAP 00213 CAP OUTROS 16 CENTRAL DE SERV 19 CENTRAL DE SERV 00215 REBOQUE 16 CENTRAL DE SERV 19 CENTRAL DE SERV 00216 SOCORRO MECANICO 16 CENTRAL DE SERV 19 CENTRAL DE SERV 00217 CHAVEIRO 16 CENTRAL DE SERV 19 CENTRAL DE SERV 00218 TRANSPORTE ALTER 16 CENTRAL DE SERV 19 CENTRAL DE SERV 00219 VEICULO RESERVA 16 CENTRAL DE SERV 19 CENTRAL DE SERV 00220 LEVA E TRAZ 16 CENTRAL DE SERV 19 CENTRAL DE SERV 00221 OUTROS SERVICOS"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Credito/","title":"Cr\u00e9dito","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Credito/#credito","title":"Cr\u00e9dito","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoCredito(char *pValorTransacao, \n                                             char *pNumeroCupom, \n                                             char *pNumeroControle)\n</code></pre> <p>Se a rede autorizadora permitir e se estiver configurada no Linx TEF a impress\u00e3o de cupom reduzido, al\u00e9m do arquivo acima ser\u00e1 liberado um arquivo com o comprovante reduzido no formato RNNNNNN.PPP, onde NNNNNN \u00e9 o NumeroControle e PPP \u00e9 o n\u00famero do terminal configurado. Assim, o comprovante reduzido dever\u00e1 ser impresso no espa\u00e7o destinado \u00e0 mensagem promocional do cupom fiscal e o comprovante normal continuar\u00e1 a ser impresso no cupom vinculado</p> <p>Os campos est\u00e3o abaixo caracterizados:</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Credito/#credito-completa","title":"Cr\u00e9dito Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoCreditoCompleta(char *pValorTransacao, char *pNumeroCupom,\n                                                     char *pNumeroControle, char *pTipoOperacao, \n                                                     char *pNumeroParcelas, char *pValorParcela, \n                                                     char *pValorTaxaServico, char *pPermiteAlteracao,\n                                                     char *pReservado)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCartaoPrivateLabelCompleta(char *pValorTransacao, char *pNumeroCupom,\n                                                          char *pNumeroControle, char *pTipoOperacao, \n                                                          char *pNumeroParcelas, char *pValorEntrada, \n                                                          char *pValorTaxaServico, char *pPermiteAlteracao, \n                                                          char *pReservado)\n</code></pre> <p>Quando a automa\u00e7\u00e3o comercial necessitar de detalhes mais precisos da transa\u00e7\u00e3o, de cart\u00e3o de cr\u00e9dito ou private label, pode ser usada a solicita\u00e7\u00e3o de transa\u00e7\u00e3o com cart\u00e3o de cr\u00e9dito completa e transa\u00e7\u00e3o com cart\u00e3o private label completa, atrav\u00e9s da(s) chamada(s) \u00e0(s) fun\u00e7\u00e3o(\u00f5es) TransacaoCartaoCreditoCompleta e TransacaoCartaoPrivateLabelCompleta. Os par\u00e2metros opcionais destas fun\u00e7\u00f5es s\u00e3o os seguintes:</p> <p>TipoOperacao</p> <p>NumeroParcelas</p> <p>ValorParcela</p> <p>ValorEntrada</p> <p>ValorTaxaServico</p> <p>PermiteAlteracao</p> <p>Reservado</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Credito/#credito-split-completa","title":"Cr\u00e9dito Split Completa","text":"<p>Para realizar uma transa\u00e7\u00e3o de SPLIT Cr\u00e9dito utilizar o m\u00e9todo descrito abaixo. Ele tem a mesma parametriza\u00e7\u00e3o e regra de entrada da transa\u00e7\u00e3o de Cr\u00e9dito Completa, todavia recebe a mais os dados de SPLIT de pagamento.</p> <pre><code>int DIRETIVA_CALLBACK TransacaoCartaoCreditoCompletaSplit(char *pValorTransacao, char *pNumeroCupom,\n                                                          char *pNumeroControle, char *pTipoOperacao, \n                                                          char *pNumeroParcelas, char *pValorParcela, \n                                                          char *pValorTaxaServico, char *pPermiteAlteracao, \n                                                          char *pReservado, char *pQuantidadeItensSplit, \n                                                          char *pItensSplit, char *pQuantidadeRecebedoresSplit, \n                                                          char *pRecebedoresSplit)\n</code></pre> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) TipoOperacao 02A \u2022 [ AV ] \u00c0 Vista\u2022 [ FL ] Financiamento Lojista\u2022 [ FA ] Financiamento Administradora NumeroParcelas 02N N\u00famero de parcelas (00 \u2013 99) ValorParcela 12N 10 inteiros, 2 decimais ValorEntrada (somente transacao PrivateLabel) 12N 10 inteiros, 2 decimais ValorTaxaServico 12N 10 inteiros, 2 decimais. PermiteAlteracao 01A \u2022 [ S ] Permite alterar valores informados (exceto ValorTransacao)\u2022 [ N ] N\u00e3o Permite alterar valores informados Reservado 161A [ Especifica\u00e7\u00e3o ]\u2022 [ 1..1 ] Uso restrito. Fixo \u201c0\u201d\u2022 [ 2..4 ] Uso restrito. Fixo \u201c000\u201d\u2022 [ 5..7 ] Plano de pagamento utilizado no PDV\u2022 [ 8..8 ] Valor [ 0 ] indica pagamento com Cart\u00e3o de Cr\u00e9dito;[ 1 ] indica pagamento com Crach\u00e1. [ 3 ] indica pagamento com cart\u00e3o Qualidade [ 4 ] indica pagamento com cart\u00e3o MettaCard\u2022 [ 9..9 ] Flag indicando se h\u00e1 dados de cart\u00e3o (Crach\u00e1) [ 0 ]N\u00e3o [ 1 ]Sim[10] Op\u00e7\u00e3o para Pagamento de fatura \u2022 0 -&gt; Indica que n\u00e3o \u00e9 pagamento de fatura \u2022 1 -&gt; C\u00f3digo de Barras digitado \u2022 2 -&gt; C\u00f3digo de Barras lido \u00f3ticamente\u2022 3 -&gt; CPF (11 caracteres)\u2022 4 -&gt; Cart\u00e3o (n\u00e3o deve passar o n\u00famero do cart\u00e3o, colocar tamanho dos dados zerado)\u2022 5 -&gt; Outros(at\u00e9 40 caracteres)\u2022 [11..12] Tamanho dos dados da op\u00e7\u00e3o de pagamento de fatura\u2022 [13..59] Dados do pagamento de fatura\u2022 [60..126] Uso restrito.\u2022 [ 127..138 ] Valor da taxa de embarque\u2022 [ 139..139 ] Tipo de Venda (0-Normal; 1-Promocional)\u2022 [ 140..140 ] Indicativo de parametriza\u00e7\u00e3o para CPF E COD funcionario para br premia (0-N\u00e3o; 1-Sim)\u2022 [ 141..143 ] C\u00f3digo Funcionario BRPREMIA\u2022 [ 144..154 ] CPF Cliente\u2022 [ 155..156 ] Quantidade de ciclos a pular\u2022 [157..161] C\u00f3digo da tabela dos planos CDC[Especifica\u00e7\u00e3o do Retorno]C\u00f3digos poss\u00edveis:\u2022 [ 01 ] Dados Correspondente Banc\u00e1rio\u2022 [ 02 ] Dados Correspondente Banc\u00e1rio\u2022 [ 03 ] Dados Correspondente Banc\u00e1rio\u2022 [ 04 ] Dados Correspondente Banc\u00e1rio\u2022 [ 05 ] Dados Venda Crach\u00e1\u2022 [ 06 ] Dados Correspondente Banc\u00e1rio\u2022 [ 07 ] Dados Correspondente Banc\u00e1rio\u2022 [ Especifica\u00e7\u00e3o dos Dados Venda Crach\u00e1 ]\u2022 [ 01..09 ] CodigoAutorizacao\u2022 [ 10..59 ] NomeFuncionario\u2022 [ 60..71 ] ValorDesconto\u2022 [ 72..76 ] PercentualDesconto QuantidadeItensSplit(opcional, utilizar 0 caso n\u00e3o tenha itens) 03N 3 inteiros, informando a quantidade de itens enviados. ItensSplit Clique aqui para visualizar a tabela Quantidade Recebedores Split 03N 3 inteiros, informando a quantidade de recebedores enviados RecebedoresSplit Clique aqui para visualizar a tabela Status 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>ItensSplit</p> Campo Tamanho Descri\u00e7\u00e3o Valor 12N 10 inteiros, 2 decimais Descri\u00e7\u00e3o 20A 20 caracteres (com espa\u00e7os a direita) Quantidade 05N Quantidade vendida do item informado, 5 Inteiros C\u00f3digo 13A C\u00f3digo do produto, 13 caracteres. <p>RecebedoresSplit</p> Campo Tamanho Descri\u00e7\u00e3o Valor 12N 10 inteiros, 2 decimais CNPJ 14N 14 inteiros Tipo* 01N [0] Valor Bruto [1] Porcentagem <p>* O tipo bruto indica que o dado informado no campo \"Valor\" da mesma estrutura representa o valor real que o CNPJ receber\u00e1, e o tipo porcentagem indica que o dado informado para aquele CNPJ \u00e9 um valor percentual, portando, o CNPJ receber\u00e1 x% do valor total.</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Credito/#confirmacao-credito","title":"Confirma\u00e7\u00e3o Cr\u00e9dito","text":"<pre><code>int DIRETIVA_CALLBACK ConfirmaCartaoCredito(char *pNumeroControle)\n</code></pre> <p>A confirma\u00e7\u00e3o de transa\u00e7\u00e3o com cart\u00e3o de cr\u00e9dito \u00e9 realizada atrav\u00e9s da chamada a fun\u00e7\u00e3o ConfirmaCartaoCredito.</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 devolvido o , indicando o resultado da transa\u00e7\u00e3o.</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> Campo Tamanho Descri\u00e7\u00e3o NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) 02I [ 00 ] Confirma\u00e7\u00e3o aceita[ 11 ] Confirma\u00e7\u00e3o N\u00c3O aceita <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. Cabe ao sistema de automa\u00e7\u00e3o decidir a a\u00e7\u00e3o a ser tomada. A forma de pagamento deve ter sido aceita como v\u00e1lida, pelo sistema de automa\u00e7\u00e3o, por\u00e9m a transa\u00e7\u00e3o n\u00e3o ser\u00e1 confirmada com a institui\u00e7\u00e3o financeira.</p> <p>Fluxo de Confirmacao e Desfazimento</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Debito/","title":"D\u00e9bito","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Debito/#debito","title":"D\u00e9bito","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoDebito(char *pValorTransacao, \n                                            char *pNumeroCupom, char *pNumeroControle)\n</code></pre> <ul> <li>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</li> <li>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</li> </ul>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Debito/#debito-completa","title":"D\u00e9bito Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoDebitoCompleta(char *pValorTransacao, char *pNumeroCupom, \n                                                    char *pNumeroControle, char *pTipoOperacao, \n                                                    char *pNumeroParcelas, char *pSequenciaParcela, \n                                                    char *pDataDebito, char *pValorParcela, \n                                                    char *pValorTaxaServico, char *pPermiteAlteracao, \n                                                    char *pReservado)\n</code></pre> <p>Quando a automa\u00e7\u00e3o comercial necessitar de detalhes mais precisos da transa\u00e7\u00e3o, de cart\u00e3o de d\u00e9bito, pode ser usada a solicita\u00e7\u00e3o de transa\u00e7\u00e3o com cart\u00e3o de d\u00e9bito completa, atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoCartaoDebitoCompleta. Os par\u00e2metros opcionais dessa fun\u00e7\u00e3o s\u00e3o os seguintes:</p> <p>TipoOperacao</p> <p>NumeroParcelas</p> <p>SequenciaParcela</p> <p>DataDebito</p> <p>ValorParcela</p> <p>ValorTaxaServico</p> <p>PermiteAlteracao</p> <p>Reservado</p> <p>Nas transa\u00e7\u00f5es de d\u00e9bito parcelado, \u00e9 poss\u00edvel se especificar o valor e a data de cada parcela. Neste caso, a fun\u00e7\u00e3o deve ser chamada tantas vezes quantas for o n\u00famero de parcelas. Em cada uma dessas chamadas, o par\u00e2metro SequenciaParcela dever\u00e1 indicar o n\u00famero da parcela em quest\u00e3o. Numa outra situa\u00e7\u00e3o, se os valores das parcelas n\u00e3o forem especificados, dever\u00e1 ser passado o valor \u201c00\u201d no par\u00e2metro SequenciaParcela, indicando que os valores e as datas das parcelas ser\u00e3o calculados automaticamente pela rede autorizadora.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Debito/#debito-completa-split","title":"D\u00e9bito Completa Split","text":"<p>Para realizar uma transa\u00e7\u00e3o de Split D\u00e9bito utilizar o m\u00e9todo descrito abaixo. Ele tem a mesma parametriza\u00e7\u00e3o e regra de entrada da transa\u00e7\u00e3o de D\u00e9bito Completa, todavia recebe a mais os dados de Split de pagamento.</p> <pre><code>int DIRETIVA_CALLBACK TransacaoCartaoDebitoCompletaSplit(char *pValorTransacao, char *pNumeroCupom, \n                                                         char *pNumeroControle, char *pTipoOperacao, \n                                                         char *pNumeroParcelas, char *pSequenciaParcela, \n                                                         char *pDataDebito, char *pValorParcela,\n                                                         char *pValorTaxaServico, char *pPermiteAlteracao, \n                                                         char *pReservado, char *pQuantidadeItensSplit, \n                                                         char *pItensSplit, char *pQuantidadeRecebedoresSplit, \n                                                         char *pRecebedoresSplit)\n</code></pre> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) TipoOperacao 02A \u2022 [ AV ] \u00c0 Vista \u2022 [ PS ] Parcelada (sem juros) \u2022 [ PC ] Parcelada (com juros)\u2022 [ PD ] Pr\u00e9-datada\u2022 [ PE ] Parcelado  com entrada\u2022 [ PM ] Parcelado sem entrada NumeroParcelas 02N N\u00famero de parcelas (00 \u2013 99) SequenciaParcela 02N N\u00famero da parcela DataDebito 08N &lt;ddmmaaaa&gt; Data da parcela (transa\u00e7\u00e3o parcelada) ou Datade d\u00e9bito (transa\u00e7\u00e3o pr\u00e9-datada) ValorParcela 12N 10 inteiros, 2 decimais. Se o campo TipoOpera\u00e7\u00e3o for [ PE ] e o campo SequenciaParcela for igual a 1, este valor corresponder\u00e1 ao valor de entrada. ValorTaxaServico 12N 10 inteiros, 2 decimais PermiteAlteracao 01A \u2022 [ S ] Permite alterar valores informados (exceto ValorTransacao)\u2022 [ N ] N\u00e3o Permite alterar valores informados Reservado 148A [ Especifica\u00e7\u00e3o ]\u2022 [ 1..1 ] Uso restrito. Fixo \u201c0\u201d\u2022 [ 2..4 ] Uso restrito. Fixo \u201c000\u201d\u2022 [ 5..5 ] [ 0 ] Sem Garantia [ 1 ] Com Garantia\u2022 [ 6..17 ] Valor da taxa de embarque\u2022 [ 18..29 ] Valor do saque\u2022 [ 30..30 ] [ 3 ] indica pagamento com cart\u00e3o Qualidade [ 4 ]indica pagamento com cart\u00e3o MettaCard\u2022 [ 31..70 ] Descri\u00e7\u00e3o do produto (somente para transa\u00e7\u00f5es Cielo):Para transa\u00e7\u00f5es de Pagamento de fatura, informar a cadeia de caracteres \"0079,0763,0764,\"Para transa\u00e7\u00f5es de D\u00e9bito simples, informar a cadeira de caracteres \"0002,0036,0081,\"OBS: Preencher valores n\u00e3o utilizados com 0 ou espa\u00e7os em branco.\u2022 [71] Op\u00e7\u00e3o para pagamento de faturaC\u00f3digos poss\u00edveis para a adquirente Getnetlac e Safra:\u2022 0 -&gt; Indica que n\u00e3o \u00e9 pagamento de fatura\u2022 1 -&gt; Indica que \u00e9 um pagamento de faturaC\u00f3digos poss\u00edveis para a adquirente REDE:\u2022 0 -&gt; Indica que n\u00e3o \u00e9 pagamento de fatura\u2022 1 -&gt; C\u00f3digo de Barras digitado\u2022 2 -&gt; C\u00f3digo de Barras lido \u00f3ticamente\u2022 3 -&gt; CPF (11 caracteres)\u2022 4 -&gt; Cart\u00e3o (n\u00e3o deve passar o n\u00famero do cart\u00e3o, colocar tamanho dos dados zerado)\u2022 5 -&gt; Outros(at\u00e9 40 caracteres)Os bytes de 72 a 120 somente ser\u00e3o processados enecessarios para a adquirente REDE:\u2022 [72..73]Tamanho dos dados da op\u00e7\u00e3o de pagamento de fatura\u2022 [74..120] Dados de pagamento de fatura\u2022 [121..121] Indicativo de parametriza\u00e7\u00e3o para CPF E COD funcionario para br premia (0-N\u00e3o; 1-Sim)\u2022 [122..124] C\u00f3digo Funcionario BRPREMIA\u2022 [125..135] CPF Cliente[Especifica\u00e7\u00e3o do Retorno] C\u00f3digos poss\u00edveis:\u2022 [ 01 ] Uso restrito\u2022 [ 02 ] Uso restrito\u2022 [ 03 ] Uso restrito\u2022 [ 04 ] Uso restrito\u2022 [ 05 ] Reservado\u2022 [ 06 ] Dados Correspondente Banc\u00e1rio\u2022 [ 07 ] Dados Correspondente Banc\u00e1rio QuantidadeItensSplit(opcional, utilizar 0 caso n\u00e3o tenha itens) 03N 3 inteiros, informando a quantidade de itens enviados. ItensSplit Clique aqui para visualizar a tabela Quantidade Recebedores Split 03N 3 inteiros, informando a quantidade de recebedores enviados RecebedoresSplit Clique aqui para visualizar a tabela Status 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>ItensSplit</p> Campo Tamanho Descri\u00e7\u00e3o Valor 12N 10 inteiros, 2 decimais Descri\u00e7\u00e3o 20A 20 caracteres (com espa\u00e7os a direita) Quantidade 5N Quantidade vendida do item informado, 5 Inteiros C\u00f3digo 13A C\u00f3digo do produto, 13 caracteres. <p>RecebedoresSplit</p> Campo Tamanho Descri\u00e7\u00e3o Valor 12N 10 inteiros, 2 decimais CNPJ 14N 14 inteiros Tipo 01N [0] Valor Bruto [1] Porcentagem <p>* O tipo bruto indica que o dado informado no campo \"Valor\" da mesma estrutura representa o valor real que o CNPJ receber\u00e1, e o tipo porcentagem indica que o dado informado para aquele CNPJ \u00e9 um valor percentual, portando, o CNPJ receber\u00e1 x% do valor total.</p> <p>Status [ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>Status [ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Debito/#confirmacao-debito","title":"Confirma\u00e7\u00e3o D\u00e9bito","text":"<pre><code>int DIRETIVA_CALLBACK ConfirmaCartaoDebito(char *pNumeroControle)\n</code></pre> <p>A confirma\u00e7\u00e3o de transa\u00e7\u00e3o com cart\u00e3o de d\u00e9bito \u00e9 realizada atrav\u00e9s da chamada \u00e0s fun\u00e7\u00f5es ConfirmaCartaoDebito.</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 devolvido o, indicando o resultado da transa\u00e7\u00e3o.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) 02I [ 00 ] Confirma\u00e7\u00e3o aceita[ 11 ] Confirma\u00e7\u00e3o N\u00c3O aceita <p>Fluxo de Confirmacao e Desfazimento</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/FinalizacaoVendaouRecebimento/","title":"Finaliza\u00e7\u00e3o de Venda ou Recebimento","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/FinalizacaoVendaouRecebimento/#finalizacao-de-venda-ou-recebimento","title":"Finaliza\u00e7\u00e3o de Venda ou Recebimento","text":"<pre><code>int DIRETIVA_CALLBACK FinalizaTransacao()\n</code></pre> <p>A finaliza\u00e7\u00e3o da opera\u00e7\u00e3o de venda ou de recebimento \u00e9 realizada atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o FinalizaTransacao. Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 devolvido o , indicando o resultado da transa\u00e7\u00e3o. O funcionamento desta opera\u00e7\u00e3o depende do modo de desfazimento configurado atrav\u00e9s da fun\u00e7\u00e3o ConfiguraModoDesfazimento. Caso o modo de desfazimento n\u00e3o seja definido, o client assume o modo antigo de opera\u00e7\u00e3o, ou seja, vai realizar o desfazimento das transa\u00e7\u00f5es n\u00e3o confirmadas. Se for definido o modo expl\u00edcito as transa\u00e7\u00f5es ser\u00e3o desfeitas somente se for chamada a fun\u00e7\u00e3o DesfazCartao.</p> <p>O campo est\u00e1 abaixo caracterizado.</p> Campo Tamanho Descri\u00e7\u00e3o 02I \u2022 [ 00 ]  Finaliza\u00e7\u00e3o completada com sucesso\u2022 [ 11 ] Finaliza\u00e7\u00e3o N\u00c3O completada com sucesso <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o,, por\u00e9m o processo de confirma\u00e7\u00e3o da transa\u00e7\u00e3o junto \u00e0 institui\u00e7\u00e3o financeira apresentou falha. Neste caso, a transa\u00e7\u00e3o ficar\u00e1 pendente e dever\u00e1 ser tratada por meio da aplica\u00e7\u00e3o de procedimentos administrativos.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/LogUltimaTransacao/","title":"LOG da \u00daltima Transa\u00e7\u00e3o","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/LogUltimaTransacao/#log-da-ultima-transacao","title":"LOG da \u00daltima Transa\u00e7\u00e3o","text":"<p>Para obter o log da \u00faltima transa\u00e7\u00e3o consulte a se\u00e7\u00e3o Obter Log das transa\u00e7\u00f5es</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/QRCode/","title":"QR Code","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/QRCode/#transacao-qr-code","title":"Transa\u00e7\u00e3o QR Code","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoQRCode(char *pValorTransacao, char *pNumeroCupom, \n                                      char *pNumeroControle, char *pTransactionParamsData)\n</code></pre> <p>A solicita\u00e7\u00e3o de transa\u00e7\u00e3o com QR Code atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoQRCode, descrita acima.</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 preenchido o campo NumeroControle e ser\u00e1 devolvido o Status, indicando o resultado da transa\u00e7\u00e3o:</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p> <p>O NumeroControle, inclu\u00eddo na resposta, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o, pois na fun\u00e7\u00e3o de confirma\u00e7\u00e3o este n\u00famero ser\u00e1, obrigatoriamente, utilizado.</p> <p>Caso a transa\u00e7\u00e3o seja autorizada, ser\u00e1 disponibilizado no diret\u00f3rio parametrizado para os cupons um arquivo contendo o comprovante da opera\u00e7\u00e3o a ser impresso pela automa\u00e7\u00e3o. O nome desse arquivo tem o formato NNNNNN.PPP, onde NNNNNN \u00e9 o NumeroControle e PPP \u00e9 o n\u00famero do terminal configurado.</p> <p>Se a rede autorizadora permitir e se estiver configurada no TEF Linx a impress\u00e3o de cupom reduzido, al\u00e9m do arquivo acima ser\u00e1 liberado um arquivo com o comprovante reduzido no formato RNNNNNN.PPP, onde NNNNNN \u00e9 o NumeroControle e PPP \u00e9 o n\u00famero do terminal configurado. Assim, o  comprovante reduzido dever\u00e1 ser impresso no espa\u00e7o destinado \u00e0 mensagem promocional do cupom fiscal e o comprovante normal continuar\u00e1 a ser impresso no cupom vinculado</p> <p>O PDV dever\u00e1 verificar a exist\u00eancia do arquivo com o comprovante reduzido ap\u00f3s a aprova\u00e7\u00e3o da transa\u00e7\u00e3o. Se o arquivo com o comprovante reduzido estiver dispon\u00edvel, o PDV dever\u00e1 imprimir no cupom fiscal e em seguida realizar a confirma\u00e7\u00e3o do mesmo, antes da impress\u00e3o do comprovante normal. Se o comprovante reduzido n\u00e3o estiver dispon\u00edvel, a confirma\u00e7\u00e3o dever\u00e1 ser realizada ap\u00f3s a impress\u00e3o do comprovante normal</p> <p>Ao final da venda, tanto no caso do comprovante reduzido como no comprovante normal, para encerrar a opera\u00e7\u00e3o deve ser chamada a fun\u00e7\u00e3o FinalizaTransacao.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) TransactionParamsData variavel A Esse campo \u00e9 opcional e somente ser\u00e1 utilizado pela rede QRLinx. Quando enviado \u00e9 esperado que contenha um JSON que ser\u00e1 descrito mais abaixo.  Pelo campo ser opcional e de tamanho vari\u00e1vel, em caso de n\u00e3o envio a automa\u00e7\u00e3o deve passar NULL ou um buffer vazio nesse campo, em caso de envio a automa\u00e7\u00e3o deve garantir que ao final da string contendo o json exista o caracter de termina\u00e7\u00e3o de string ('\\0') caso contr\u00e1rio o Paykit n\u00e3o ir\u00e1 processar o conte\u00fado recebido <p>A customiza\u00e7\u00e3o do campo pTransactionParamsData e seus itens descritos abaixo desse alerta s\u00e3o customiza\u00e7\u00f5es liberadas a partir da release de Paykit 8.22.23.0012 (inclusive)</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/QRCode/#transactionparamsdata","title":"TransactionParamsData","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/QRCode/#json-de-exemplo","title":"Json de Exemplo","text":"Clique para expandir e mostrar o JSON de exemplo <pre><code>{\n    \"specific_wallets\":[\n        \"PIX\",\n        \"PICPAY\"\n    ],\n    \"is_pix_upfront\":true,\n    \"payments\":[\n        {\n            \"value:\":1.50,\n            \"payer\":{\n                \"first_name\":\"Juan\",\n                \"last_name\":\"Cardoso\",\n                \"email\":\"jc@linx.com.br\",\n                \"external_code\":\"0\",\n                \"client_phone\":{\n                    \"area_code\":\"11\",\n                    \"number\":\"982232155\",\n                    \"extension\":\"0\"\n                },\n                \"client_identification\":{\n                    \"type\":\"CPF\",\n                    \"number\":\"12345678901\"\n                }\n            },\n            \"expiration_time\":100000,\n            \"withdraw_pix\":0,\n            \"change_pix\":0\n        }\n    ],\n    \"order_items\":[\n        {\n            \"name\":\"produto1\",\n            \"quantity\":1,\n            \"amount\":1.50,\n            \"subtotal\":1.50,\n            \"discount_value\":0.0,\n            \"add_value\":0.0,\n            \"number_external\":\"123\",\n            \"ncm\":\"12345678\"\n        }\n    ]\n}\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/QRCode/#transactionparamsdata_1","title":"TransactionParamsData","text":"<p>Descri\u00e7\u00e3o dos parametros de entradas poss\u00edveis, n\u00e3o representa a estrutura do JSON, apenas os atributos poss\u00edveis.</p> Par\u00e2metro Descri\u00e7\u00e3o Tipo Obrigat\u00f3rio is_pix_upfront Campo para cria\u00e7\u00e3o de PIX parcelado junto a Paga leve. Caso enviado para opera\u00e7\u00f5es que n\u00e3o sejam da Paga Leve, o QRCode n\u00e3o ser\u00e1 enviado ao PDV. bool (true/false) N\u00e3o specific_wallets Informa\u00e7\u00e3o necess\u00e1ria para cria\u00e7\u00e3o de cobran\u00e7a espec\u00edfica. array N\u00e3o payments Informa\u00e7\u00f5es necess\u00e1rias \u00e0 realiza\u00e7\u00e3o do pagamento. objeto N\u00e3o payer Informa\u00e7\u00f5es do pagador. objeto N\u00e3o client_phone Telefone do pagador objeto N\u00e3o client_identification Natureza jur\u00eddica do pagador (Pessoa F\u00edsica/Jur\u00eddica). Valores aceitos: \"PF\" e \"PJ\". objeto N\u00e3o order_items Itens da ordem de venda. objeto N\u00e3o shipping_address Endere\u00e7o para entrega da compra. objeto N\u00e3o"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/QRCode/#specific_wallets","title":"specific_wallets","text":"<p>Este objeto \u00e9 necess\u00e1rio para cria\u00e7\u00e3o de uma cobran\u00e7a espec\u00edfica, ou seja, quando a loja n\u00e3o deseja criar uma cobran\u00e7a com todas as carteiras dispon\u00edveis.</p> <p>O campo aceita apenas o nome da carteira, caso a loja n\u00e3o possua a informa\u00e7\u00e3o de quais carteiras est\u00e3o ativas para transacionar, o PDV poder\u00e1 utilizar API \u201cConsulta Carteiras\u201d, essa API retorna as carteiras ativas da loja.</p> <p>O campo \u00e9 uma lista, pois o PDV pode escolher criar a cobran\u00e7a apenas com uma carteira ou mais de uma. Quando o PDV for enviar a chamada para cria\u00e7\u00e3o de cobran\u00e7a ele dever\u00e1 enviar uma das op\u00e7\u00f5es da lista abaixo:</p> Clique para mostrar o Objeto Valores Poss\u00edveis AME CASH_BERTI MERCADO_PAGO PEDE_PRONTO PICPAY PIX VERO"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/QRCode/#payments","title":"payments","text":"Clique para mostrar o Objeto Par\u00e2metro Descri\u00e7\u00e3o Tipo Obrigatorio value Valor total da venda. Campo utilizado apenas nas transa\u00e7\u00f5es de PIX Saque e PIX Troco decimal (7,2) Sim payer Informa\u00e7\u00f5es do pagador. objeto N\u00e3o expiration_time Tempo em segundos da expira\u00e7\u00e3o da cobran\u00e7a criada. integer (10) N\u00e3o withdraw_pix Representa o valor que o cliente deseja sacar na loja, ou seja, utilizar o PIX SAQUE. decimal (7,2) N\u00e3o change_pix Representa o valor que o cliente deseja de troco na transa\u00e7\u00e3o, ou seja, utilizar o PIX TROCO. decimal (7,2) N\u00e3o"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/QRCode/#payer","title":"payer","text":"Clique para mostrar o Objeto Par\u00e2metro Descri\u00e7\u00e3o Tipo Obrigatorio first_name Primeiro nome do pagador string (30) N\u00e3o last_name \u00daltimo nome do pagador. string (30) N\u00e3o email E-mail do pagador. string (50) N\u00e3o external_code C\u00f3digo do cliente no PSP de dados do EC. string (36) N\u00e3o client_phone Dados do telefone do pagador. objeto N\u00e3o"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/QRCode/#client_phone","title":"client_phone","text":"Clique para mostrar o Objeto Par\u00e2metro Descri\u00e7\u00e3o Tipo Obrigatorio area_code C\u00f3digo de \u00e1rea do telefone do pagador. string (4) N\u00e3o number N\u00famero do telefone do pagador. string (12) N\u00e3o extension Ramal do telefone do pagador. string (7) N\u00e3o"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/QRCode/#client_identification","title":"client_identification","text":"Clique para mostrar o Objeto Par\u00e2metro Descri\u00e7\u00e3o Tipo Obrigatorio type Natureza jur\u00eddica do pagador. Valores Aceitos: \"CPF\" para pessoa f\u00edsica; \"CNPJ\" para pessoa jur\u00eddica. string (5) N\u00e3o number N\u00famero do CPF/CNPJ do pagador. Campo obrigat\u00f3rio para integra\u00e7\u00f5es com Paga Leve. string (15) N\u00e3o"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/QRCode/#order_items","title":"order_items","text":"Clique para mostrar o Objeto Par\u00e2metro Descri\u00e7\u00e3o Tipo Obrigat\u00f3rio name Descri\u00e7\u00e3o do item. string (150) N\u00e3o quantity Quantidade do item. decimal (7,2) N\u00e3o amount Valor total do item decimal (7,2) N\u00e3o subtotal Subtotal do item. decimal (7,2) N\u00e3o discount_value Valor do desconto concedido. decimal (7,2) N\u00e3o add_value Valor adicionado \u00e0 venda. Ex.: frete, embalagem. decimal (7,2) N\u00e3o number_external C\u00f3digo do item. string (14) N\u00e3o ncm Natureza jur\u00eddica do pagador (Pessoa F\u00edsica/Jur\u00eddica). string (8) N\u00e3o"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/QRCode/#shipping_address","title":"shipping_address","text":"Clique para mostrar o Objeto Par\u00e2metro Descri\u00e7\u00e3o Tipo Obrigat\u00f3rio street Descri\u00e7\u00e3o do logradouro. string (60) N\u00e3o postal_code CEP do logradouro. string (10) N\u00e3o number N\u00famero do logradouro string (15) N\u00e3o complement Complemento do endere\u00e7o. string (40) N\u00e3o state Estado/UF do endere\u00e7o. string (2) N\u00e3o district Bairro do logradouro string (60) N\u00e3o city C\u00f3digo do item. string (14) N\u00e3o ncm Cidade do logradouro. string (60) N\u00e3o <p>OBS: Preencher campos conforme documentado nas Conven\u00e7\u00f5es do manual, documentadas na p\u00e1gina inicial.</p> <p>OBS: Para realiza\u00e7\u00e3o da confirma\u00e7\u00e3o da transa\u00e7\u00e3o dever\u00e1 ser realizada chamada \u00e0 fun\u00e7\u00e3o ConfirmaCartao,  e para o desfazimento da transa\u00e7\u00e3o dever\u00e1 ser realizada chamada \u00e0 fun\u00e7\u00e3o DesfazCartao. Para maiores detalhes,  consulte a p\u00e1gina Confirma\u00e7\u00e3o e Desfazimento de Transa\u00e7\u00f5es.  </p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/QRCode/#pix-troco","title":"PIX Troco","text":"<p>No caso do Pix Troco, a din\u00e2mica \u00e9 id\u00eantica, com a diferen\u00e7a que o saque de recursos em esp\u00e9cie acontece junto com a realiza\u00e7\u00e3o de uma compra no agente de saque. Nesse caso, o Pix \u00e9 feito pelo valor total (compra + saque). O extrato do cliente evidenciar\u00e1 o valor correspondente ao saque e o valor correspondente \u00e0 compra.</p> <p>Importante que para gerar um PIX Troco automa\u00e7\u00e3o dever\u00e1 enviar o campo \u201cpayments.value\u201d conforme a compra realizada pelo cliente, e no campo \u201cpayments.change_pix\u201d informar o valor que o cliente deseja sacar/receber de troco. Por fim o campo \u201corder_items.amount\u201d representa a soma dos dois campos acima na cria\u00e7\u00e3o da cobran\u00e7a.</p> <p>Segue abaixo o campo obrigat\u00f3rio na cria\u00e7\u00e3o da cobran\u00e7a PIX Troco:</p> Clique para mostrar o Objeto Par\u00e2metro Descri\u00e7\u00e3o Tipo Obrigatorio change_pix Representa o valor que o cliente deseja de troco na transa\u00e7\u00e3o, ou seja, utilizar o PIX TROCO. decimal (7,2) Sim <p>N\u00e3o \u00e9 permitido gerar uma cobran\u00e7a de PIX Saque e PIX Troco em conjunto, caso os campos espec\u00edficos sejam enviados o QRLinx retornar\u00e1 erro na cria\u00e7\u00e3o da cobran\u00e7a.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/QRCode/#pix-saque","title":"PIX Saque","text":"<p>O Pix Saque permitir\u00e1 que todos os clientes de qualquer participante do Pix realizem um saque em um dos pontos que ofertar o servi\u00e7o. Estabelecimentos comerciais, redes de caixas eletr\u00f4nicos (ATMs) compartilhados e os pr\u00f3prios participantes do Pix, por meio de seus ATMs pr\u00f3prios, poder\u00e3o ofertar o servi\u00e7o. Para ter acesso aos recursos em esp\u00e9cie, basta que o cliente fa\u00e7a um Pix para o agente de saque, em din\u00e2mica similar \u00e0 de um Pix normal, a partir da leitura de um QRCode mostrado ao cliente ou a partir do aplicativo do prestador do servi\u00e7o.</p> <p>Importante que para gerar um PIX Saque automa\u00e7\u00e3o dever\u00e1 enviar o campo \u201cpayments.value\u201d zerado, j\u00e1 que n\u00e3o est\u00e1 ocorrendo uma compra e sim apenas um saque junto ao estabelecimento.</p> <p>Segue abaixo o campo obrigat\u00f3rio na cria\u00e7\u00e3o da cobran\u00e7a PIX Saque:</p> Clique para mostrar o Objeto Par\u00e2metro Descri\u00e7\u00e3o Tipo Obrigatorio withdraw_pix Representa o valor que o cliente deseja sacar na loja, ou seja, utilizar o PIX SAQUE. decimal (7,2) Sim <p>N\u00e3o \u00e9 permitido gerar uma cobran\u00e7a de PIX Saque e PIX Troco em conjunto, caso os campos espec\u00edficos sejam enviados o QRLinx retornar\u00e1 erro na cria\u00e7\u00e3o da cobran\u00e7a.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/QRCode/#link-de-pagamento-qrlinx","title":"Link de Pagamento QRLinx","text":"<p>Ao realizar um pagamento via a rede QRLinx, esta disponibilizar\u00e1 um link de pagamento que pode ser disponibilizado ao cliente final via whatsapp, e-mail, SMS ou de alguma outra forma que a automa\u00e7\u00e3o encontre facilidade de enviar e disponibilizar mais um canal de pagamento para seu cliente. Esta informa\u00e7\u00e3o ser\u00e1 enviada para a automa\u00e7\u00e3o atrav\u00e9s da Callback Informa\u00e7\u00f5es Transacionais.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/QRCode/#transacao-generica-qrcode","title":"Transa\u00e7\u00e3o Generica QRCode","text":"<pre><code>const char* OperacoesGenericasQR(char *pDadosJson, int *status)\n</code></pre> <p>Essa integra\u00e7\u00e3o com o Paykit visa disponibilizar m\u00e9todos de consultas para a automa\u00e7\u00e3o sobre as transa\u00e7\u00f5es de QR, e tem por objetivo receber da automa\u00e7\u00e3o um JSON com os dados da integra\u00e7\u00e3o bem como o tipo de consulta a ser realizada, e o Paykit disponibilizar\u00e1 um objeto JSON de retorno compat\u00edvel com a solicita\u00e7\u00e3o feita.</p> <p>O valor retornado para a automa\u00e7\u00e3o n\u00e3o aceita modifica\u00e7\u00f5es e seu conte\u00fado deve ser copiado pra um atributo interno do software consumidor do Paykit, sendo que no inicio da proxima solicita\u00e7\u00e3o para o Paykit o buffer ser\u00e1 limpo.</p> <p>O status da transa\u00e7\u00e3o (se bem sucedido ou n\u00e3o) ser\u00e1 retornado para a automa\u00e7\u00e3o atrav\u00e9s do parametro status.</p> <p>Os inputs e outputs de cada possibilidade de intera\u00e7\u00e3o com este m\u00e9todo, estar\u00e3o descritos abaixo:</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/QRCode/#carteiras-ativas-para-a-loja-no-qrlinx","title":"Carteiras Ativas para a loja no QRLinx","text":"<p>Automa\u00e7\u00e3o poder\u00e1 consultar as carteiras que est\u00e3o dispon\u00edveis para uma determinada loja, essa consulta se faz necess\u00e1ria na gera\u00e7\u00e3o de uma cobran\u00e7a espec\u00edfica, pois assim o PDV poder\u00e1 solicitar a gera\u00e7\u00e3o do QRCode apenas para as carteiras desejadas.</p> Clique para expandir e mostrar o exemplo de Requisi\u00e7\u00e3o e Reposta <p>Exemplo Requisi\u00e7\u00e3o <pre><code>{\n    \"methodRequest\": 2\n}\n</code></pre> Sendo, methodRequest um valor fixo para identificar essa requisi\u00e7\u00e3o.</p> <p>Exemplo Resposta <pre><code>{\n    \"success\":true,\n    \"message\":\"Carteiras retornadas com sucesso\",\n    \"data\":[\n        {\n            \"cnpj\":\"22896431000110\",\n            \"name\":\"Picpay Servicos S.A\",\n            \"trading_name\":\"PicPay\",\n            \"logo_link\":\"https://static.linxpayhub.com.br/images/logos/LogoPicPay.png\",\n            \"logo_link_download\":\"https://static.linxpayhub.com.br/images/logos/LogoPicPay.png\",\n            \"specific_wallet\":\"PICPAY\"\n        },\n        {\n            \"cnpj\":\"00000000000000\",\n            \"name\":\"Pix\",\n            \"trading_name\":\"Pix\",\n            \"logo_link\":\"https://static.linxpayhub.com.br/images/logos/LogoPix.jpg\",\n            \"logo_link_download\":\"https://static.linxpayhub.com.br/images/logos/LogoPix.jpg\",\n            \"specific_wallet\":\"PIX\",\n            \"integrationTypePixModel\":{\n                \"id\":7,\n                \"name\":\"Pagar.me\",\n                \"priority\":\"Primary\"\n            }\n        },\n        {\n            \"cnpj\":\"00000000000000\",\n            \"name\":\"Pix\",\n            \"trading_name\":\"Pix\",\n            \"logo_link\":\"https://static.linxpayhub.com.br/images/logos/LogoPix.jpg\",\n            \"logo_link_download\":\"https://static.linxpayhub.com.br/images/logos/LogoPix.jpg\",\n            \"specific_wallet\":\"PIX\",\n            \"integrationTypePixModel\":{\n                \"id\":5,\n                \"name\":\"Santander\",\n                \"priority\":\"Secondary\"\n            }\n        }\n    ]\n}\n</code></pre></p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/QRCode/#consulta-parcelamento-paga-leve-qrlinx","title":"Consulta Parcelamento (Paga Leve - QRLinx)","text":"<p>Na integra\u00e7\u00e3o com o PSP Paga Leve existe uma integra\u00e7\u00e3o de PIX com a op\u00e7\u00e3o do parcelamento, devido a isso os objetos payer, client_identification, is_pix_upfront passa a ser obrigat\u00f3rio para a TransacaoQRCode, e o client_phone um parametro recomendado.</p> <p>Para que a loja consulte se o parcelamento est\u00e1 disponivel para o cliente em quest\u00e3o a automa\u00e7\u00e3o deve consumir este m\u00e9todo, assim o lojista poder\u00e1 oferecer um parcelamento de pix antes da finaliza\u00e7\u00e3o da transa\u00e7\u00e3o:</p> Clique para expandir e mostrar o exemplo de Requisi\u00e7\u00e3o e Reposta <p>Exemplo Requisi\u00e7\u00e3o <pre><code>{\n    \"methodRequest\": 1,\n    \"value\":1.50,\n    \"document\":\"12345678901\"\n}\n</code></pre> Sendo, methodRequest um valor fixo para identificar essa requisi\u00e7\u00e3o, value o valor da transa\u00e7\u00e3o e document o CPF do cliente.</p> <p>Exemplo Resposta <pre><code>{\n    \"sucesso\":true,\n    \"message\":\"Consulta realiza com sucesso\",\n    \"data\":{\n        \"status\":\"APPROVED\"\n    }\n}\n</code></pre></p> <p>Essa consulta possui apenas duas mensagens de retorno \u201cApproved\u201d ou \u201cDeclined\u201d, assim a loja ter\u00e1 a informa\u00e7\u00e3o se o PIX parcelado est\u00e1 aprovado ou n\u00e3o para o seu cliente.</p> <p>Caso o cliente do lojista seja aprovado no pagamento do PIX parcelado automa\u00e7\u00e3o dever\u00e1 enviar o campo is_pix_upfront com o valor false. O QRLinx retornar\u00e1 no campo \u201cpayment_link\u201d o link de pagamento da Paga Leve que poder\u00e1 ser exibido ou enviado para o cliente concluir o processo de pagamento."},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TeleMarketing/","title":"Tele-Marketing","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TeleMarketing/#transacao-de-cartao-de-credito-direta-telemarketing","title":"Transa\u00e7\u00e3o de Cart\u00e3o de Cr\u00e9dito Direta (TeleMarketing)","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoCreditoConfirmada(char *pMultiLoja, char *pNumeroLoja, char *pNumeroPDV,\n                                                       char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle,\n                                                       char *pNumeroCartao, char *pDataVencimento, char *pCVV2,\n                                                       char *pTipoOperacao, char *pNumeroParcelas,\n                                                       char *pValorTaxaServico, char *pMensagemTEF, char *pReservado)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCartaoCreditoIATAConfirmada(char *pMultiLoja, char *pNumeroLoja, char *pNumeroPDV,\n                                                           char *pValorTransacao, char *pNumeroCupom,\n                                                           char *pNumeroControle, char *pNumeroCartao,\n                                                           char *pDataVencimento, char *pCVV2, char *pTipoOperacao,\n                                                           char *pNumeroParcelas, char *pValorTaxaServico,\n                                                           char *pValorEntrada, char *pMensagemTEF, char *pReservado)\n</code></pre> <p>Estas fun\u00e7\u00f5es s\u00e3o realizadas mediante a chamada as fun\u00e7\u00f5es TransacaoCartaoCreditoConfirmada e TransacaoCartaoCreditoIATAConfirmada com a passagem dos seguintes par\u00e2metros:</p> <ul> <li>MultiLoja</li> <li>NumeroLoja</li> <li>NumeroPDV</li> <li>ValorTransacao</li> <li>NumeroCupomVenda</li> <li>NumeroControle</li> <li>NumeroCartao</li> <li>DataVencimento</li> <li>CVV2</li> <li>TipoOperacao</li> <li>NumeroParcelas</li> <li>ValorTaxaServico</li> <li>ValorEntrada</li> <li>MensagemTEF</li> <li>Reservado</li> </ul> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e3o preenchidos os campos NumeroControle e MensagemTEF e ser\u00e1 devolvido o status, indicando o resultado da transa\u00e7\u00e3o.</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. [ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p> <p>O NumeroControle , inclu\u00eddo na resposta, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o. Este n\u00famero ser\u00e1 utilizado para o sistema de automa\u00e7\u00e3o buscar o arquivo que cont\u00e9m o comprovante de TEF.</p> <p>Caso a transa\u00e7\u00e3o seja autorizada, ser\u00e1 disponibilizado no diret\u00f3rio corrente da DLL um arquivo contendo o comprovante da opera\u00e7\u00e3o a ser impresso pela automa\u00e7\u00e3o. O nome desse arquivo tem o formato NNNNNN.PPP, onde NNNNNN \u00e9 o NumeroControle e PPP \u00e9 o n\u00famero do PDV passado como par\u00e2metro.  Este arquivo dever\u00e1 obrigatoriamente ser eliminado do diret\u00f3rio assim que for impresso pela automa\u00e7\u00e3o comercial.</p> <p>Se a rede autorizadora permitir e se estiver configurada no TEF Linx a impress\u00e3o de cupom reduzido, al\u00e9m do arquivo acima ser\u00e1 liberado um arquivo com o comprovante reduzido no formato RNNNNNN.PPP, onde NNNNNN \u00e9 o NumeroControle e PPP \u00e9 o n\u00famero do terminal configurado. Assim, o comprovante reduzido dever\u00e1 ser impresso no espa\u00e7o destinado \u00e0 mensagem promocional do cupom fiscal e o comprovante normal continuar\u00e1 a ser impresso no cupom vinculado.</p> <p>A confirma\u00e7\u00e3o da transa\u00e7\u00e3o \u00e9 feita de forma autom\u00e1tica, sempre que a transa\u00e7\u00e3o for conclu\u00edda com sucesso ( = 00) .</p> <p>Na chamada \u00e0 fun\u00e7\u00e3o, deve-se informar os seguintes par\u00e2metros:</p> Campo Tamanho Descri\u00e7\u00e3o MultiLoja 01P 01 Caracter [\u2018S\u2019,\u2019N\u2019] NumeroLoja 04P 04 inteiros NumeroPDV 03P 03 inteiros [001\u2026356] ValorTransacao 12P 10 inteiros, 2 decimais NumeroCupomVenda 06P 06 inteiros NumeroControle 06P 06 inteiros NumeroCartao 19P 19 inteiros DataVencimento 04P 04 inteiros CVV2 05P At\u00e9 05 inteiros ou 1 Caracter [01..99999, \u2018N\u2019 (n\u00e3o existe), \u2018I\u2019 (ileg\u00edvel)] TipoOperacao 02P 02 Caracteres [\u2018AV\u2019,\u2019FA\u2019,\u2019FL\u2019] NumeroParcelas 02P 02 inteiros [00..99] ValorTaxaServico 12P 10 inteiros, 2 decimais ValorEntrada 12P 10 inteiros, 2 decimais MensagemTEF 64P Mensagem de retorno do TEF Linx Reservado 255P Campo Reservado  [Posi\u00e7\u00e3o] Campo  [01..06] C\u00f3digo Autoriza\u00e7\u00e3o \u00b9  [07..10] Data Autoriza\u00e7\u00e3o [DDMM] \u00b9  [11..11] Vers\u00e3o do TEF Linx que autorizou; Permite os valores [ 5 ou 8 ]  [12..23] Valor da taxa de embarque \u00b9  [24..63] Descri\u00e7\u00e3o do produto \u00b9  [64..75] C\u00f3digo de refer\u00eancia \u00b9 \u00b2   [76..78] \u2018AVP\u2019 que indica Altera\u00e7\u00e3o de Valor ou Parcelamento  [79..79] 'S' Se os campos de autentica\u00e7\u00e3o estiverem presentes nas transa\u00e7\u00f5es e-Commerce  [80..81] Autentica\u00e7\u00e3o ECI - transa\u00e7\u00f5es e-Commerce  [82..121] Autentica\u00e7\u00e3o XID - transa\u00e7\u00f5es e-Commerce  [122..161] Autentica\u00e7\u00e3o UCAF - transa\u00e7\u00f5es e-Commerce  [162..163] Quantidade de ciclos a pular  [164..168] C\u00f3digo da tabela dos planos CDC  [169..179] CPF do cliente <p>\u00b9: V\u00e1lido somente para transa\u00e7\u00e3o TransacaoCartaoCreditoConfirmada. \u00b2: Este c\u00f3digo \u00e9 apresentado no relat\u00f3rio de exporta\u00e7\u00e3o do TEF Linx</p> <p>Observa\u00e7\u00e3o : Para cada chamada simult\u00e2nea \u00e0 fun\u00e7\u00e3o TransacaoCartaoCreditoConfirmada ou TransacaoCartaoCreditoIATAConfirmada deve ser informado um n\u00famero de PDV diferente (obedecendo a faixa de PDVs definida na especifica\u00e7\u00e3o dos par\u00e2metros). Isto \u00e9 necess\u00e1rio para que o TEF Linx possa diferenciar as transa\u00e7\u00f5es que est\u00e3o ocorrendo simultaneamente. Um exemplo de ocorr\u00eancia desta situa\u00e7\u00e3o \u00e9 na utiliza\u00e7\u00e3o desta fun\u00e7\u00e3o atrav\u00e9s de um servidor Web, que pode ter v\u00e1rios usu\u00e1rios realizando acesso simult\u00e2neo.</p> <p>Observa\u00e7\u00e3o : para transa\u00e7\u00f5es de telemarketing em ambientes com m\u00faltiplas threads simult\u00e2neas, dever\u00e1 ser utilizada a DLL DPOSDRVTM.DLL.</p> <p>Observa\u00e7\u00e3o : Utilizar a op\u00e7\u00e3o \u2018R\u2019 no CVV2 somente para Cr\u00e9dito, n\u00e3o usar para Cr\u00e9dito IATA..</p> <p>Observa\u00e7\u00e3o : Se utilizado o par\u00e2metro AVP, o campo C\u00f3digo e Data de Autoriza\u00e7\u00e3o deve ser o nsu e data da transa\u00e7\u00e3o que ter\u00e1 seu valor e/ou parcela alterado (esta funcionalidade \u00e9 utilizada atualmente pela GetNetLAC). \u00c9 importante salientar que a transa\u00e7\u00e3o que se deseja alterar valor e/ou parcela deve estar aprovada pela rede e pendente de confirma\u00e7\u00e3o no TEF Linx.</p> <p>Para deixar a transa\u00e7\u00e3o pendente em telemarketing recomenda-se utilizar a fun\u00e7\u00e3o ConfiguraModoTelemarketing (documentada mais abaixo), indicando o modo de confirma\u00e7\u00e3o manual.</p> <p>Abaixo um exemplo de passos para fazer uma altera\u00e7\u00e3o de valor e/ou parcela com telemarketing:</p> <p>1) Utilizar a fun\u00e7\u00e3o ConfiguraModoTelemarketing e setar confirma\u00e7\u00e3o manual.</p> <p>2) Executar a Transa\u00e7\u00e3o X de cr\u00e9dito telemarketing que seja aprovada pela rede autorizadora. Esta transa\u00e7\u00e3o vai ficar pendente de confirma\u00e7\u00e3o.</p> <p>3) Executar uma nova transa\u00e7\u00e3o Y de cr\u00e9dito telemarketing, alterando valor e/ou parcela, e passando o nsu e data da transa\u00e7\u00e3o X que est\u00e1 pendente.</p> <p>4) Se resposta positiva da rede confirmar a transa\u00e7\u00e3o Y.</p> <p>5) Ap\u00f3s a sequ\u00eancia acima a transa\u00e7\u00e3o X ficar\u00e1 com status de \u201cAJUSTE\u201d e a transa\u00e7\u00e3o Y com status \u201cOK\u201d. A transa\u00e7\u00e3o Y \u00e9 que ser\u00e1 paga pela rede autorizadora.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TeleMarketing/#transacao-de-pre-autorizacao-de-cartao-de-credito-direta-tele-maketing","title":"Transa\u00e7\u00e3o de Pr\u00e9-Autoriza\u00e7\u00e3o de Cart\u00e3o de Cr\u00e9dito Direta (Tele-Maketing)","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoConfirmada(char *pMultiLoja, char *pNumeroLoja, char *pNumeroPDV,\n                                                      char *pValorTransacao, char *pNumeroControle, char *pNumeroCartao,\n                                                      char *pMensagemTEF, char *pReservado) \n</code></pre> <p>Esta fun\u00e7\u00e3o \u00e9 realizada mediante a chamada \u00e0 fun\u00e7\u00e3o TransacaoCartaoCreditoConfirmada com a passagem dos seguintes par\u00e2metros:</p> <ul> <li>MultiLoja</li> <li>NumeroLoja</li> <li>NumeroPDV</li> <li>ValorTransacao</li> <li>NumeroControle</li> <li>NumeroCartao</li> <li>MensagemTEF</li> <li>Reservado</li> </ul> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e3o preenchidos os campos NumeroControle e MensagemTEF e ser\u00e1 devolvido o status, indicando o resultado da transa\u00e7\u00e3o.</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. [ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p> <p>O NumeroControle, inclu\u00eddo na resposta, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o. Este n\u00famero ser\u00e1 utilizado para o sistema de automa\u00e7\u00e3o buscar o arquivo que cont\u00e9m o comprovante de TEF.Caso a transa\u00e7\u00e3o seja autorizada, ser\u00e1 disponibilizado no diret\u00f3rio corrente da DLL um arquivo contendo o comprovante da opera\u00e7\u00e3o a ser impresso pela automa\u00e7\u00e3o. O nome desse arquivo tem o formato NNNNNN.PPP, onde NNNNNN \u00e9 o NumeroControle e PPP \u00e9 o n\u00famero do PDV passado como par\u00e2metro. Este arquivo dever\u00e1 obrigatoriamente ser eliminado do diret\u00f3rio assim que for impresso pela automa\u00e7\u00e3o comercial.</p> <p>A confirma\u00e7\u00e3o da transa\u00e7\u00e3o \u00e9 feita de forma autom\u00e1tica, sempre que a transa\u00e7\u00e3o for conclu\u00edda com sucesso ( = 00) .</p> <p>Na chamada \u00e0 fun\u00e7\u00e3o, deve-se informar os seguintes par\u00e2metros:</p> Campo Tamanho Descri\u00e7\u00e3o MultiLoja 01P 01 Caracter [\u2018S\u2019,\u2019N\u2019] NumeroLoja 04P 04 inteiros NumeroPDV 03P 03 inteiros [001\u2026356] ValorTransacao 12P 10 inteiros, 2 decimais NumeroControle 06P 06 inteiros NumeroCartao 19P 19 inteiros MensagemTEF 64P Mensagem de retorno do TEF Linx Reservado 255P Campo Reservado  [Posi\u00e7\u00e3o] Campo  [01..01] Vers\u00e3o do TEF Linx que autorizou; Permite os valores [ 5 ou 8 ]  [02..13] Valor do cancelamento  [14..21] Data da transa\u00e7\u00e3o a ser cancelada no formato [AAAAMMDD]  [22..25] Data de validade do cart\u00e3o [MMAA] <p>Observa\u00e7\u00e3o : Para cada chamada simult\u00e2nea \u00e0 fun\u00e7\u00e3o TransacaoCancelamentoConfirmada deve ser informado um n\u00famero de PDV diferente (obedecendo a faixa de PDVs definida na especifica\u00e7\u00e3o dos par\u00e2metros). Isto \u00e9 necess\u00e1rio para que o TEF Linx possa diferenciar as transa\u00e7\u00f5es que est\u00e3o ocorrendo simultaneamente. Um exemplo de ocorr\u00eancia desta situa\u00e7\u00e3o \u00e9 na utiliza\u00e7\u00e3o desta fun\u00e7\u00e3o atrav\u00e9s de um servidor Web, que pode ter v\u00e1rios usu\u00e1rios realizando acesso simult\u00e2neo.</p> <p>Observa\u00e7\u00e3o : para transa\u00e7\u00f5es de telemarketing em ambientes com m\u00faltiplas threads simult\u00e2neas, dever\u00e1 ser utilizada a DLL DPOSDRVTM.DLL.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TeleMarketing/#transacao-de-pre-autorizacao-de-cartao-de-credito-direta-tele-maketing_1","title":"Transa\u00e7\u00e3o de Pr\u00e9-Autoriza\u00e7\u00e3o de Cart\u00e3o de Cr\u00e9dito Direta (Tele-Maketing)","text":"<pre><code>int DIRETIVA_CALLBACK PreAutorizacaoCreditoConfirmada(char *pMultiLoja, char *pNumeroLoja, char *pNumeroPDV,\n                                                      char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle,\n                                                      char *pNumeroCartao, char *pDataVencimento, char *pCVV2,\n                                                      char *pValorTaxaServico, char *pNumeroAutorizacao,\n                                                      char *pMensagemTEF, char *pReservado)\n</code></pre> <p>Esta fun\u00e7\u00e3o \u00e9 realizada mediante a chamada \u00e0 fun\u00e7\u00e3o PreAutorizacaoCreditoConfirmada com a passagem dos seguintes par\u00e2metros:</p> <ul> <li>MultiLoja</li> <li>NumeroLoja</li> <li>NumeroPDV</li> <li>ValorTransacao</li> <li>NumeroCupomVenda</li> <li>NumeroControle</li> <li>NumeroCartao</li> <li>DataVencimento</li> <li>CVV2</li> <li>ValorTaxaServico</li> <li>NumeroAutorizacao</li> <li>MensagemTEF</li> <li>Reservado</li> </ul> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e3o preenchidos os campos NumeroAutorizacao , NumeroControle e MensagemTEF e ser\u00e1 devolvido o status, indicando o resultado da transa\u00e7\u00e3o.</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. [ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p> <p>O NumeroControle, inclu\u00eddo na resposta, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o. Este n\u00famero ser\u00e1 utilizado para o sistema de automa\u00e7\u00e3o buscar o arquivo que cont\u00e9m o comprovante de TEF.</p> <p>O NumeroAutorizacao, inclu\u00eddo na resposta, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o. Este n\u00famero \u00e9 importante pois \u00e9 o n\u00famero da autoriza\u00e7\u00e3o da transa\u00e7\u00e3o. \u00c9 importante que o sistema apresente o n\u00famero e a data da autoriza\u00e7\u00e3o ao usu\u00e1rio pois estes ser\u00e3o utilizados futuramente.</p> <p>Caso a transa\u00e7\u00e3o seja autorizada, ser\u00e1 disponibilizado no diret\u00f3rio corrente da DLL um arquivo contendo o comprovante da opera\u00e7\u00e3o a ser impresso pela automa\u00e7\u00e3o. O nome desse arquivo tem o formato NNNNNN.PPP, onde NNNNNN \u00e9 o NumeroControle e PPP \u00e9 o n\u00famero do PDV passado como par\u00e2metro. Este arquivo dever\u00e1 obrigatoriamente ser eliminado do diret\u00f3rio assim que for impresso pela automa\u00e7\u00e3o comercial.</p> <p>Se a rede autorizadora permitir e se estiver configurada no TEF Linx a impress\u00e3o de cupom reduzido, al\u00e9m do arquivo acima ser\u00e1 liberado um arquivo com o comprovante reduzido no formato RNNNNNN.PPP, onde NNNNNN \u00e9 o NumeroControle e PPP \u00e9 o n\u00famero do terminal configurado. Assim, o comprovante reduzido dever\u00e1 ser impresso no espa\u00e7o destinado \u00e0 mensagem promocional do cupom fiscal e o comprovante normal continuar\u00e1 a ser impresso no cupom vinculado.</p> <p>A confirma\u00e7\u00e3o da transa\u00e7\u00e3o \u00e9 feita de forma autom\u00e1tica, sempre que a transa\u00e7\u00e3o for conclu\u00edda com sucesso ( = 00) .</p> <p>Na chamada \u00e0 fun\u00e7\u00e3o, deve-se informar os seguintes par\u00e2metros:</p> Campo Tamanho Descri\u00e7\u00e3o MultiLoja 01P 01 Caracter [\u2018S\u2019,\u2019N\u2019] NumeroLoja 04P 04 inteiros NumeroPDV 03P 03 inteiros [001\u2026356] ValorTransacao 12P 10 inteiros, 2 decimais NumeroCupomVenda 06P 06 inteiros NumeroControle 06P 06 inteiros NumeroCartao 19P 19 inteiros DataVencimento 04P 04 inteiros CVV2 05P At\u00e9 05 inteiros ou 1 Caracter [01..99999, \u2018N\u2019 (n\u00e3o existe), \u2018I\u2019 (ileg\u00edvel)] ValorTaxaServico 12P 10 inteiros, 2 decimais NumeroAutorizacao 02P 06 inteiros MensagemTEF 64P Mensagem de retorno do TEF Linx Reservado 255P Campo Reservado  [Posi\u00e7\u00e3o] Campo  [01..01] Vers\u00e3o do TEF Linx que autorizou; Permite os valores [ 5 ou 8 ]  [02..13] Valor da taxa de embarque  [14..15] Tipo da Opera\u00e7\u00e3o [\u2018AV\u2019,\u2019FA\u2019,\u2019FL\u2019]  [16..17] N\u00famero de Parcelas <p>Observa\u00e7\u00e3o : Para cada chamada simult\u00e2nea \u00e0 fun\u00e7\u00e3o PreAutorizacaoCreditoConfirmada deve ser informado um n\u00famero de PDV diferente (obedecendo a faixa de PDVs definida na especifica\u00e7\u00e3o dos par\u00e2metros). Isto \u00e9 necess\u00e1rio para que o TEF Linx possa diferenciar as transa\u00e7\u00f5es que est\u00e3o ocorrendo simultaneamente. Um exemplo de ocorr\u00eancia desta situa\u00e7\u00e3o \u00e9 na utiliza\u00e7\u00e3o desta fun\u00e7\u00e3o atrav\u00e9s de um servidor Web, que pode ter v\u00e1rios usu\u00e1rios realizando acesso simult\u00e2neo.</p> <p>Observa\u00e7\u00e3o : Para transa\u00e7\u00f5es de telemarketing em ambientes com m\u00faltiplas threads simult\u00e2neas, dever\u00e1 ser utilizada a DLL DPOSDRVTM.DLL.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TeleMarketing/#transacao-de-confirmacao-pre-autorizacao-direta-tele-marketing","title":"Transa\u00e7\u00e3o de Confirma\u00e7\u00e3o Pre-Autoriza\u00e7\u00e3o Direta (Tele-Marketing)","text":"<pre><code>int DIRETIVA_CALLBACK ConfPreAutorizacaoCreditoConfirmada(char *pMultiLoja, char *pNumeroLoja, char *pNumeroPDV,\n                                                          char *pValorTransacao, char *pNumeroCupom,\n                                                          char *pNumeroControle, char *pDataPreAutor,\n                                                          char *pNumeroCartao, char *pDataVencimento, char *pCVV2,\n                                                          char *pTipoOperacao, char *pNumeroParcelas,\n                                                          char *pMensagemTEF, char *pReservado)\n</code></pre> <p>Est\u00e1 fun\u00e7\u00e3o \u00e9 utilizada por algumas redes (Amex, Redecard e Getnet) para confirmar uma transa\u00e7\u00e3o de Pr\u00e9-Autoriza\u00e7\u00e3o feita previamente.</p> <p>Esta transa\u00e7\u00e3o \u00e9 realizada mediante a chamada \u00e0 fun\u00e7\u00e3o ConfPreAutorizacaoCreditoConfirmada  com a passagem dos seguintes par\u00e2metros:</p> <ul> <li>MultiLoja</li> <li>NumeroLoja</li> <li>NumeroPDV</li> <li>ValorTransacao</li> <li>NumeroCupom</li> <li>NumeroControle</li> <li>DataPreAutor</li> <li>NumeroCartao</li> <li>DataVencimento</li> <li>CVV2</li> <li>TipoOperacao</li> <li>NumeroParcelas</li> <li>MensagemTEF</li> <li>Reservado</li> </ul> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e3o preenchidos os campos NumeroControle e MensagemTEF e ser\u00e1 devolvido o status, indicando o resultado da transa\u00e7\u00e3o.</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. [ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p> <p>O NumeroControle, inclu\u00eddo na resposta, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o. Este n\u00famero ser\u00e1 utilizado para o sistema de automa\u00e7\u00e3o buscar o arquivo que cont\u00e9m o comprovante de TEF.</p> <p>Caso a transa\u00e7\u00e3o seja autorizada, ser\u00e1 disponibilizado no diret\u00f3rio corrente da DLL um arquivo contendo o comprovante da opera\u00e7\u00e3o a ser impresso pela automa\u00e7\u00e3o. O nome desse arquivo tem o formato NNNNNN.PPP, onde NNNNNN \u00e9 o NumeroControle e PPP \u00e9 o n\u00famero do PDV passado como par\u00e2metro. Este arquivo dever\u00e1 obrigatoriamente ser eliminado do diret\u00f3rio assim que for impresso pela automa\u00e7\u00e3o comercial.</p> <p>A confirma\u00e7\u00e3o da transa\u00e7\u00e3o \u00e9 feita de forma autom\u00e1tica, sempre que a transa\u00e7\u00e3o for conclu\u00edda com sucesso ( = 00) .</p> <p>Na chamada \u00e0 fun\u00e7\u00e3o, deve-se informar os seguintes par\u00e2metros:</p> Campo Tamanho Descri\u00e7\u00e3o MultiLoja 01P 01 Caracter [\u2018S\u2019,\u2019N\u2019] NumeroLoja 04P 04 inteiros NumeroPDV 03P 03 inteiros [001\u2026356] ValorTransacao 12P 10 inteiros, 2 decimais NumeroCupom 06P 06 inteiros NumeroControle 06P 06 inteiros DataPreAutor 08P Data da Pr\u00e9-Autoriza\u00e7\u00e3o a ser confirmada no formato [AAAAMMDD] NumeroCartao 19P 19 inteiros DataVencimento 04P 04 inteiros CVV2 05P At\u00e9 05 inteiros ou 1 Caracter [01..99999, \u2018N\u2019 (n\u00e3o existe), \u2018I\u2019 (ileg\u00edvel)] TipoOperacao 02P 02 Caracteres [\u2018AV\u2019,\u2019FA\u2019,\u2019FL\u2019] NumeroParcelas 02P 02 inteiros [00..99] MensagemTEF 64P Mensagem de retorno do TEF Linx Reservado 255P Campo Reservado  [Posi\u00e7\u00e3o] Campo  [01..01] Vers\u00e3o do TEF Linx que autorizou; Permite os valores [ 5 ou 8 ]"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TeleMarketing/#transacao-de-consulta-avs-tele-marketing","title":"Transa\u00e7\u00e3o de Consulta AVS (Tele-Marketing)","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoConsultaAVSConfirmada(char *pMultiLoja, char *pNumeroLoja, char *pNumeroPDV,\n                                                     char *pNumeroCupom, char *pNumeroControle, char *pNumeroCartao,\n                                                     char *pDataVencimento, char *pCVV2, char *pEndereco, char *pNumero,\n                                                     char *pApto, char *pBloco, char *pCEP, char *pBairro, char *pCPF,\n                                                     char *pMensagemTEF, char *pReservado) \n</code></pre> <p>Esta fun\u00e7\u00e3o \u00e9 realizada mediante a chamada \u00e0 fun\u00e7\u00e3o TransacaoConsultaAVSConfirmada com a passagem dos seguintes par\u00e2metros:</p> <ul> <li>MultiLoja</li> <li>NumeroLoja</li> <li>NumeroPDV</li> <li>NumeroCupom</li> <li>NumeroControle</li> <li>NumeroCartao</li> <li>DataVencimento</li> <li>CVV2</li> <li>Endereco</li> <li>Numero</li> <li>Apto</li> <li>Bloco</li> <li>CEP</li> <li>Bairro</li> <li>CPF</li> <li>MensagemTEF</li> <li>Reservado</li> </ul> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e3o preenchidos os campos NumeroControle e MensagemTEF e ser\u00e1 devolvido o status, indicando o resultado da transa\u00e7\u00e3o.</p> <p>O NumeroControle, inclu\u00eddo na resposta, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o. Este n\u00famero ser\u00e1 utilizado para o sistema de automa\u00e7\u00e3o buscar o arquivo que cont\u00e9m o comprovante de TEF.</p> <p>A confirma\u00e7\u00e3o da transa\u00e7\u00e3o \u00e9 feita de forma autom\u00e1tica, sempre que a transa\u00e7\u00e3o for conclu\u00edda com sucesso ( = 00) .</p> <p>Na chamada \u00e0 fun\u00e7\u00e3o, deve-se informar os seguintes par\u00e2metros:</p> Campo Tamanho Descri\u00e7\u00e3o MultiLoja 01P 01 Caracter [\u2018S\u2019,\u2019N\u2019] NumeroLoja 04P 04 inteiros NumeroPDV 03P 03 inteiros [001\u2026356] NumeroCupom 06P 06 inteiros NumeroControle 06P 06 inteiros NumeroCartao 19P 19 inteiros DataVencimento 04P 04 inteiros CVV2 05P At\u00e9 05 inteiros ou 1 Caracter [01..99999, \u2018N\u2019 (n\u00e3o existe), \u2018I\u2019 (ileg\u00edvel)] Endere\u00e7o 40P Numero 06P Apto 05P Bloco 02P CEP 08P Bairro 20P CPF 11P MensagemTEF 64P Mensagem de retorno do TEF Linx Reservado 255P Campo Reservado  [Posi\u00e7\u00e3o] Campo  [01..01] Vers\u00e3o do TEF Linx que autorizou; Permite os valores [ 5 ou 8 ] <p>Observa\u00e7\u00e3o : Para cada chamada simult\u00e2nea \u00e0 fun\u00e7\u00e3o TransacaoConsultaAVSConfirmada deve ser informado um n\u00famero de PDV diferente (obedecendo a faixa de PDVs definida na especifica\u00e7\u00e3o dos par\u00e2metros). Isto \u00e9 necess\u00e1rio para que o TEF Linx possa diferenciar as transa\u00e7\u00f5es que est\u00e3o ocorrendo simultaneamente. Um exemplo de ocorr\u00eancia desta situa\u00e7\u00e3o \u00e9 na utiliza\u00e7\u00e3o desta fun\u00e7\u00e3o atrav\u00e9s de um servidor Web, que pode ter v\u00e1rios usu\u00e1rios realizando acesso simult\u00e2neo.</p> <p>Observa\u00e7\u00e3o : Para transa\u00e7\u00f5es de telemarketing em ambientes com m\u00faltiplas threads simult\u00e2neas, dever\u00e1 ser utilizada a DLL DPOSDRVTM.DLL.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TeleMarketing/#outras-funcoes-de-tele-marketing","title":"Outras Fun\u00e7\u00f5es de Tele-Marketing","text":"<pre><code>int DIRETIVA_CALLBACK ConfiguraModoTeleMarketing(int iModo)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK ConfirmaCartaoTeleMarketing(char *pMultiLoja, char *pNumeroLoja, char *pNumeroPDV,\n                                                  char *pNumeroControle, char *pMensagemTEF, char *pReservado)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK DesfazCartaoTeleMarketing(char *pMultiLoja, char *pNumeroLoja, char *pNumeroPDV,\n                                                char *pNumeroControle, char *pMensagemTEF, char *pReservado)\n</code></pre> <p>A fun\u00e7\u00e3o ConfiguraModoTeleMarketing parametriza o client para determinar se a confirma\u00e7\u00e3o deve ser enviada automaticamente (funcionalidade atual e default do sistema) ou se a aplica\u00e7\u00e3o integradora ir\u00e1 realizar a confirma\u00e7\u00e3o. As opera\u00e7\u00f5es de confirma\u00e7\u00e3o e desfazimento s\u00e3o realizadas pelas fun\u00e7\u00f5es ConfirmaCartaoTeleMarketing e DesfazCartaoTeleMarketing respectivamente. A transa\u00e7\u00e3o ficar\u00e1 pendente no TEF Linx caso nenhuma destas fun\u00e7\u00f5es forem chamadas para efetivar a transa\u00e7\u00e3o.</p> <p>Na chamada \u00e0 fun\u00e7\u00e3o ConfiguraModoTeleMarketing , deve-se informar o(s) seguinte(s) par\u00e2metro(s):</p> Campo Tamanho Descri\u00e7\u00e3o Modo 01N [ 0 ] confirma\u00e7\u00e3o manual ( client n\u00e3o envia automaticamente a confirma\u00e7\u00e3o ao TEF Linx)  [ 1 ] confirma\u00e7\u00e3o autom\u00e1tica ( client envia automaticamente a confirma\u00e7\u00e3o na chamada da transa\u00e7\u00e3o) <p>[ 00 ] Indica que a configura\u00e7\u00e3o foi realizada. [ 11 ] Configura\u00e7\u00e3o n\u00e3o realizada.</p> <p>Na chamada \u00e0s fun\u00e7\u00f5es ConfirmaCartaoTeleMarketing ou DesfazCartaoTeleMarketing, deve-se informar os seguintes par\u00e2metros:</p> Campo Tamanho Descri\u00e7\u00e3o MultiLoja 01P 01 Caracter [\u2018S\u2019,\u2019N\u2019] NumeroLoja 04P 04 inteiros NumeroPDV 03P 03 inteiros [001\u2026356] NumeroControle 06P 06 inteiros MensagemTEF 64P Mensagem de retorno do TEF Linx Reservado 255P Campo Reservado  [Posi\u00e7\u00e3o] Campo  [01..01] Vers\u00e3o do TEF Linx que autorizou; Permite os valores [ 5 ou 8 ] <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. [ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p> <p>Observa\u00e7\u00e3o : para transa\u00e7\u00f5es de telemarketing em ambientes com m\u00faltiplas threads simult\u00e2neas, dever\u00e1 ser utilizada a DLL DPOSDRVTM.DLL.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/","title":"Transa\u00e7\u00f5es PBM","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#transacoes-pbm","title":"Transa\u00e7\u00f5es PBM","text":"<p>Os itens descritos abaixo desse alerta s\u00e3o customiza\u00e7\u00f5es n\u00e3o liberadas 100% em produ\u00e7\u00e3o, use somente se orientado expressamente.</p> <p>Esse trecho da documenta\u00e7\u00e3o ir\u00e1 esclarecer o formato de integra\u00e7\u00e3o com o Paykit para as transa\u00e7\u00f5es PBM de: (1) Consulta Redes PBM Ativas, (2) Consulta Pr\u00e9 Autoriza\u00e7\u00e3o, (3) Consulta Produtos PBM, (4) Venda PBM, (5) Confirma\u00e7\u00e3o PBM, (6) Desfazimento PBM e (7) Cancelamento PBM.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#metodo-de-integracao","title":"M\u00e9todo de integra\u00e7\u00e3o","text":"<p>Para efetuar as transa\u00e7\u00f5es PBM's, \u00e9 necessario a integra\u00e7\u00e3o apenas com o m\u00e9todo abaixo, sendo que por ele ser\u00e1 possivel interagir com todas as transa\u00e7\u00f5es disponiveis no fluxo de PBM.</p> <pre><code>    const char *DIRETIVA_CALLBACK TransacaoPBM(char *pJsonSolicitacao, int *status)\n</code></pre> Item Tamanho Obrigatorio Descri\u00e7\u00e3o pJsonSolicitacao Variavel sim ponteiro para char, que cont\u00e9m o json com o input da automa\u00e7\u00e3o para a opera\u00e7\u00e3o de PBM. \u00c9 necessario que no final da \"string\" exista  o caracter de final de linha '\\0' status -- sim ponteiro para uma variavel que guarda o tipo inteiro. <p>O parametro de retorno <code>const char*</code> do m\u00e9todo em quest\u00e3o conter\u00e1 o json de reposta do TEF, todavia caso a automa\u00e7\u00e3o deseje capturar em um segundo momento os dados de retorno da transa\u00e7\u00e3o Consulta Pr\u00e9-Autoriza\u00e7\u00e3o, Venda, Consulta Produtos e Cancelamento, conseguir\u00e1 atrav\u00e9s do m\u00e9todo Obter Log Transa\u00e7\u00e3o.</p> <p>O const char* de retorno do m\u00e9todo n\u00e3o deve ser manipulado pela automa\u00e7\u00e3o, a automa\u00e7\u00e3o deve copiar o retorno para dentro de um objeto interno da mesma antes de tomar qualquer a\u00e7\u00e3o. Caso a automa\u00e7\u00e3o tente realizar um free ou deixe com que o garbage colector da linguagem utilizada realize um free do retorno, poder\u00e1 ocorrer um crash em um momento inesperado do fluxo.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#lista-de-pbms-suportadas","title":"Lista de PBM's suportadas","text":"Codigo Nome 5 VidaLink 8 Orizon 73 ePharma 76 Funcional 230 Interplayers 231 Golden Farma"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#consulta-redes-pbm-ativas","title":"Consulta Redes PBM Ativas","text":"<p>Transa\u00e7\u00e3o para consultar as redes PBM's cadastradas no TEF e ativas para o estabelecimento em quest\u00e3o</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#requisicao","title":"Requisi\u00e7\u00e3o","text":"Envio - Clique para mostrar o Objeto <p>Json de Exemplo</p> <p><pre><code>    {\n        \"codigoTransacao\": 8029\n    }\n</code></pre> Descritivo</p> Item Tipo Obrigatorio Descri\u00e7\u00e3o codigoTransacao int sim C\u00f3digo da transa\u00e7\u00e3o a ser executada no TEF, para esta opera\u00e7\u00e3o utilizar 8029"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#resposta","title":"Resposta","text":"Resposta TEF - Clique para mostrar o objeto <p>Json de Exemplo</p> <pre><code>    {\n        \"parametrosRetorno\":{\n            \"redes\":[\n                {\n                    \"codigo\":\"76\",\n                    \"nome\":\"PBMFuncional\"\n                },\n                {\n                    \"codigo\":\"5\",\n                    \"nome\":\"VidaLink\"\n                },\n                {\n                    \"codigo\":\"8\",\n                    \"nome\":\"Orizon\"\n                }, \n                {\n                    \"codigo\":\"230\",\n                    \"nome\":\"Interplayers\"\n                }\n            ]\n        }\n    }\n</code></pre> <p>Descritivo</p> Item Sub-item Tipo Descri\u00e7\u00e3o redes Objeto Lista das redes PBM dispon\u00edveis codigo string Codigo da rede no TEF a qual a PBM dever\u00e1 ser processada nome string Nome da rede PBM tipoIntegracao string Uso interno"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#consulta-pre-autorizacao","title":"Consulta Pr\u00e9 Autoriza\u00e7\u00e3o","text":"<p>Transa\u00e7\u00e3o para obter dados de uma pr\u00e9-autoriza\u00e7\u00e3o gerada no portal da PBM.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#requisicao_1","title":"Requisi\u00e7\u00e3o","text":"Envio - Clique para mostrar o Objeto <p>Json de Exemplo <pre><code>    {\n        \"codigoTransacao\": 8030,\n        \"parametrosEntrada\": {\n            \"codigoRede\": \"76\",\n            \"dataCriacao\": \"2025-07-04T12:07:47Z\",\n            \"nsuPreAutorizacaoPBM\": \"147032\",\n            \"codigoCliente\": \"4444444444\"\n        }\n    }\n</code></pre> Descritivo</p> Item Sub-item Tipo Obrigatorio Descri\u00e7\u00e3o codigoTransacao int Sim C\u00f3digo da transa\u00e7\u00e3o a ser executada no TEF, para esta opera\u00e7\u00e3o utilizar: 8030 parametrosEntrada Objeto Sim Dados a serem processados pelo TEF e quem tem como requisito as redes PBM codigoRede string Sim Codigo da rede no TEF a qual a PBM dever\u00e1 ser processada dataCriacao string Sim \"2025-07-17T16:28:51Z\" -&gt; data no formato YYYY-MM-DD (ano-m\u00eas-dia)              T: separador entre a data e a hora.                                             16:28:51: hora no formato de 24 horas (HH:MM:SS).                               Z: indica que o hor\u00e1rio est\u00e1 em UTC (Tempo Universal) nsuPreAutorizacaoPBM string Sim NSU Gerado pela rede PBM no momento da pr\u00e9-autoriza\u00e7\u00e3o codigoCliente string Sim CPF ou Cart\u00e3o Convenio do cliente. Caso o dado informado seja um CPF valido, o campo ser\u00e1 tratado como CPF, se n\u00e3o como cart\u00e3o convenio"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#resposta_1","title":"Resposta","text":"Resposta TEF <p>Json de Exemplo <pre><code>    {\n        \"parametrosRetorno\": {\n            \"status\": \"\",\n            \"mensagemStatus\": \"\"\n            \"detalheStatus\": \"\",\n            \"valorAVista\": \"\",\n            \"nsuPreAutorizacaoPBM\": \"\",\n            \"dataCriacao\": \"\",\n            \"valorTransacao\": \"\",\n            \"valorCartao\": \"\",\n            \"codigoCliente\": \"\",\n            \"comprovante\": \"\",\n            \"saldoCartao\": \"\",\n            \"origem\": \"\",\n            \"medicamento\": [\n                {\n                    \"codigo\": \"\",\n                    \"descricao\": \"\",\n                    \"precoMaxConsumidor\": \"\",\n                    \"precoRepasseVarejo\": \"\",\n                    \"precoAquisicaoUnitario\": \"\",\n                    \"quantidadeAutorizada\": \"\",\n                    \"dataReceita\": \"\",\n                    \"crm\": \"\",\n                    \"crm_cro\": \"\",\n                    \"uf_crm\": \"\",\n                }\n            ]\n        }   \n    }\n</code></pre> Descritivo</p> Item Sub-item Sub-item\u00b2 Tipo Descri\u00e7\u00e3o parametrosRetorno Objeto Objeto contendo os dados de resposta do TEF status string Resultado da transa\u00e7\u00e3o. Valores poss\u00edveis. \"Sucesso\" ou \"Erro\" mensagemStatus string Mensagem retornada pelo TEF para a aplica\u00e7\u00e3o detalheStatus string Mensagem adicional retornada exatamente como recebida da rede PBM.  O campo s\u00f3 ser\u00e1 enviado se recebido na resposta da rede PBM. N\u00e3o ser\u00e1 feita nenhuma valida\u00e7\u00e3o ou padroniza\u00e7\u00e3o neste campo. valorAVista string Valor pago \u00e0 vista pelo cliente expresso em centavos. Algumas redes PBM n\u00e3o devolvem a informa\u00e7\u00e3o. Neste caso, o valor ser\u00e1 \"0\" nsuPreAutorizacaoPBM string NSU Gerado pela rede PBM no momento da pr\u00e9-autoriza\u00e7\u00e3o. valorTransacao string Valor total da transa\u00e7\u00e3o expresso em centavos. Algumas redes PBM n\u00e3o devolvem a informa\u00e7\u00e3o. Neste caso, o valor ser\u00e1 \"0\" valorCartao string Valor pago via cart\u00e3o/conv\u00eanio PBM. Valor cobrado no cart\u00e3o PBM. Expresso em centavos. Algumas redes PBM n\u00e3o devolvem a informa\u00e7\u00e3o. Neste caso, o valor ser\u00e1 \"0\" codigoCliente string CPF ou Cart\u00e3o Convenio do cliente. Caso o dado informado seja um CPF valido, o campo ser\u00e1 tratado como CPF, se n\u00e3o como cart\u00e3o convenio comprovante string Comprovante da transa\u00e7\u00e3o. O caracter \"@\" representa o in\u00edcio de uma nova linha. saldoCartao string Saldo dispon\u00edvel no cart\u00e3o PBM ap\u00f3s a transa\u00e7\u00e3o. Expresso em centavos. Algumas redes PBM n\u00e3o devolvem a informa\u00e7\u00e3o. Neste caso, o valor ser\u00e1 \"0\" origem string Informa\u00e7\u00e3o da origem da transa\u00e7\u00e3o, pode variar para cada rede PBM ou n\u00e3o ser enviado. medicamento Array de obj Dados dos medicamentos codigo string C\u00f3digo ean do produto descricao string Nome do produto precoMaxConsumidor string Pre\u00e7o m\u00e1ximo ao consumidor expresso em centavos precoRepasseVarejo string Valor de repasseo ao varejo, expresso em centavos precoAquisicaoUnitario string Pre\u00e7o de aquisi\u00e7\u00e3o unit\u00e1rio, expresso em centavos quantidadeAutorizada string Quantidade autorizada dataReceita string data no formato YYYY-MM-DD (ano-m\u00eas-dia)              T: separador entre a data e a hora.                                             16:28:51: hora no formato de 24 horas (HH:MM:SS).                               Z: indica que o hor\u00e1rio est\u00e1 em UTC (Tempo Universal) crm_cro string Indica se \u00e9 um CRM ou CRO o campo \"crm\", possibilidades: 0 para CRM, 1 para CRO crm string CRM do m\u00e9dico ou CRO do odontologista que solicitou o medicamento uf_crm string Estado do CRM ou CRO"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#consulta-produtos-pbm","title":"Consulta Produtos PBM","text":"<p>Transa\u00e7\u00e3o disponivel apenas para a PBM Interplayers e tem o objetivo de retornar dados dos produtos vinculado a um ean</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#requisicao_2","title":"Requisi\u00e7\u00e3o","text":"Envio - Clique para mostrar o Objeto <p>Json de Exemplo <pre><code>    {\n        \"codigoTransacao\": 8200,\n        \"parametrosEntrada\": {\n            \"codigoRede\": \"230\",\n            \"medicamento\": [\n                {\n                    \"codigo\": \"7897337706742\"\n                }\n            ]\n        }\n    }\n</code></pre> Descritivo</p> Item Sub-item Sub-item\u00b2 Tipo Obrigatorio Descri\u00e7\u00e3o codigoTransacao int Sim C\u00f3digo da transa\u00e7\u00e3o a ser executada no TEF, para esta opera\u00e7\u00e3o utilizar: 8200 parametrosEntrada Objeto Sim Dados a serem processados pelo TEF e quem tem como requisito as redes PBM codigoRede string Sim Codigo da rede no TEF a qual a PBM dever\u00e1 ser processada medicamento Array de obj Sim codigo string Sim C\u00f3digo ean do produto"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#resposta_2","title":"Resposta","text":"Resposta TEF <p>Json de Exemplo <pre><code>    {\n        \"parametrosRetorno\": {\n            \"status\": \"\",\n            \"medicamento\": [\n                {\n                    \"codigo\": \"\",\n                    \"precoMaxConsumidor\": \"\",\n                    \"precoAquisicaoUnitario\": \"\",\n                    \"quantidadeAutorizada\": \"\",\n                    \"mensagemInformativa\": \"\",\n                    \"nomeDaIndustria\": \"\",\n                    \"linkDaImagem\": \"\",\n                    \"quantidadeMaximaDeDesconto\": \"\",\n                    \"descontoMinimoNovoPaciente\": \"\",\n                    \"descontoMaximoNovoPaciente\": \"\",\n                }\n            ]\n        }\n    }\n</code></pre> Descritivo</p> Item Sub-item Sub-item\u00b2 Tipo Descri\u00e7\u00e3o parametrosRetorno Objeto Objeto contendo os dados de resposta do TEF medicamento Array de obj Dados dos medicamentos codigo string C\u00f3digo ean do produto precoMaxConsumidor string Pre\u00e7o m\u00e1ximo ao consumidor expresso em centavos precoAquisicaoUnitario string Pre\u00e7o de aquisi\u00e7\u00e3o unit\u00e1rio, expresso em centavos quantidadeAutorizada string Quantidade autorizada"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#venda-pbm","title":"Venda PBM","text":"<p>Essa transa\u00e7\u00e3o tem por objetivo efetivar uma pr\u00e9-autoriza\u00e7\u00e3o realizada anteriormente no portal da PBM. A exce\u00e7\u00e3o a essa regra \u00e9 a PBM Interplayers, que caso n\u00e3o seja enviado o n\u00famero da pr\u00e9-autoriza\u00e7\u00e3o, uma venda ser\u00e1 gerada.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#requisicao_3","title":"Requisi\u00e7\u00e3o","text":"Envio - Clique para mostrar o Objeto <p>Json de Exemplo <pre><code>        {\n            \"codigoTransacao\": 8031,\n            \"parametrosEntrada\": {\n                \"codigoRede\": \"8\",\n                \"nsuPreAutorizacaoPBM\": \"58677317\",\n                \"codigoCliente\": \"60100022100000116\",\n                \"dataCriacao\": \"2025-07-17T16:28:51Z\",\n                \"cupons\": [\n                    {\n                        \"cupom\": [\n                            {\n                                \"tipo\": \"esat\",                        \n                                \"codigo\": \"3234592\",                                                 \n                                \"chave\": \"key\"                          \n                            }\n                        ],\n                    }\n                ]\n                \"medicamento\": [\n                    {\n                        \"codigo\": \"7896004700410\",\n                        \"quantidadeAutorizada\": \"1\",\n                        \"crm\": \"987654321\",\n                        \"crm_cro\": \"0\",\n                        \"uf_crm\": \"SP\",\n                        \"dataReceita\": \"2025-07-17T16:28:51Z\",\n                        \"descricao\": \"RECEITA 01\",\n                        \"precoAquisicaoUnitario\": \"5000\",\n                        \"usoContinuo\": \"S\"\n                    }\n                ]\n            }\n        }\n</code></pre> Descritivo</p> Item Sub-item Sub-item\u00b2 Sub-item\u00b3 Tipo Obrigatorio Descri\u00e7\u00e3o codigoTransacao int int C\u00f3digo da transa\u00e7\u00e3o a ser executada no TEF, para esta opera\u00e7\u00e3o utilizar: 8031 parametrosEntrada Objeto Sim Dados a serem processados pelo TEF e quem tem como requisito as redes PBM codigoRede string Sim Codigo da rede no TEF a qual a PBM dever\u00e1 ser processada. N\u00e3o obrigatorio para a PBM Interplayers nsuPreAutorizacaoPBM string Sim NSU Gerado pela rede PBM no momento da pr\u00e9-autoriza\u00e7\u00e3o codigoCliente string Sim CPF ou Cart\u00e3o Convenio do cliente. Caso o dado informado seja um CPF valido, o campo ser\u00e1 tratado como CPF, se n\u00e3o como cart\u00e3o convenio dataCriacao string date Sim Data cria\u00e7\u00e3o pr\u00e9-autoriza\u00e7\u00e3oFormato \"2025-07-17T16:28:51Z\" Sendo data no formato YYYY-MM-DD (ano-m\u00eas-dia).  T: separador entre a data e a hora.16:28:51: hora no formato de 24 horas (HH:MM:SS).Z: indica que o hor\u00e1rio est\u00e1 em UTC (Tempo Universal) cupons Array de obj Sim Objeto que cont\u00e9m os dados da nota fiscal cupom Array de obj Sim tipo string Sim tipo de cupom informado, possibilidades: \"esat\" ou \"ecf\" codigo string Sim N\u00famero da nota fiscal chave string N\u00e3o Se informado informado esat \u00e9 obrigatorio o numero da chave medicamento Array de obj Sim codigo string Sim C\u00f3digo ean do produto quantidadeAutorizada string Sim Quantidade do m\u00e9dicamento autorizada para a venda crm string Sim CRM do m\u00e9dico ou CRO do odontologista que solicitou o medicamento crm_cro string Sim Indica se \u00e9 um CRM ou CRO o campo \"crm\", possibilidades: 0 para CRM, 1 para CRO uf_crm string Sim Estado dataReceita string Sim Data que a receita foi emitida pelo m\u00e9dico formato no formato YYYY-MM-DD (ano-m\u00eas-dia)              T: separador entre a data e a hora.                                             16:28:51: hora no formato de 24 horas (HH:MM:SS).                               Z: indica que o hor\u00e1rio est\u00e1 em UTC (Tempo Universal) descricao string N\u00e3o Campo opcional para descrever o medicamento precoAquisicaoUnitario string Sim Pre\u00e7o do produto no estabelecimento usoContinuo string Sim \"S\" para indicar que SIM e \"N\" para indicar que n\u00e3o"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#resposta_3","title":"Resposta","text":"Resposta TEF <p>Json de Exemplo <pre><code>    {\n        \"parametrosRetorno\": {\n            \"status\": \"\",\n            \"mensagemStatus\": \"\",\n            \"detalheStatus\": \"\"\n            \"valorAVista\": \"\",\n            \"nsuPreAutorizacaoPBM\": \"\",\n            \"nsuTEF\": \"\",\n            \"dataCriacao\": \"\",\n            \"valorTransacao\": \"\",\n            \"valorCartao\": \"\",\n            \"codigoCliente\": \"\",\n            \"comprovante\": \"\",\n            \"saldoCartao\": \"\",\n            \"origem\": \"\",\n            \"medicamento\": [\n                {\n                    \"codigo\": \"\",\n                    \"descricao\": \"\",\n                    \"precoMaxConsumidor\": \"\",\n                    \"precoRepasseVarejo\": \"\",\n                    \"precoAquisicaoUnitario\": \"\",\n                    \"quantidadeAutorizada\": \"\",\n                    \"dataReceita\": \"\",\n                    \"crm\": \"\",\n                    \"crm_cro\": \"\",\n                    \"uf_crm\": \"\",\n                }\n            ]\n        }   \n    }\n</code></pre> Descritivo</p> Item Sub-item Sub-item\u00b2 Tipo Descri\u00e7\u00e3o parametrosRetorno Objeto Objeto contendo os dados de resposta do TEF status string Resultado da transa\u00e7\u00e3o. Valores poss\u00edveis. \"Sucesso\" ou \"Erro\" mensagemStatus string Mensagem retornada pelo TEF para a aplica\u00e7\u00e3o detalheStatus string Mensagem adicional retornada exatamente como recebida da rede PBM.  O campo s\u00f3 ser\u00e1 enviado se recebido na resposta da rede PBM. N\u00e3o ser\u00e1 feita nenhuma valida\u00e7\u00e3o ou padroniza\u00e7\u00e3o neste campo. valorAVista string Valor pago \u00e0 vista pelo cliente expresso em centavos. Algumas redes PBM n\u00e3o devolvem a informa\u00e7\u00e3o. Neste caso, o valor ser\u00e1 \"0\" nsuPreAutorizacaoPBM string NSU gerado pela rede PBM no momento da pr\u00e9-autoriza\u00e7\u00e3o. nsuTEF string NSU gerado pelo TEF no momento da venda. valorTransacao string Valor total da transa\u00e7\u00e3o expresso em centavos. Algumas redes PBM n\u00e3o devolvem a informa\u00e7\u00e3o. Neste caso, o valor ser\u00e1 \"0\" valorCartao string Valor pago via cart\u00e3o/conv\u00eanio PBM. Valor cobrado no cart\u00e3o PBM. Expresso em centavos. Algumas redes PBM n\u00e3o devolvem a informa\u00e7\u00e3o. Neste caso, o valor ser\u00e1 \"0\" codigoCliente string CPF ou Cart\u00e3o Convenio do cliente. Caso o dado informado seja um CPF valido, o campo ser\u00e1 tratado como CPF, se n\u00e3o como cart\u00e3o convenio comprovante string Comprovante da transa\u00e7\u00e3o. O caracter \"@\" representa o in\u00edcio de uma nova linha. saldoCartao string Saldo dispon\u00edvel no cart\u00e3o PBM ap\u00f3s a transa\u00e7\u00e3o. Expresso em centavos. Algumas redes PBM n\u00e3o devolvem a informa\u00e7\u00e3o. Neste caso, o valor ser\u00e1 \"0\" origem string Informa\u00e7\u00e3o da origem da transa\u00e7\u00e3o, pode variar para cada rede PBM ou n\u00e3o ser enviado. medicamento Array de obj Dados dos medicamentos codigo string C\u00f3digo ean do produto descricao string Nome do produto precoMaxConsumidor string Pre\u00e7o m\u00e1ximo ao consumidor expresso em centavos precoRepasseVarejo string Valor de repasseo ao varejo, expresso em centavos precoAquisicaoUnitario string Pre\u00e7o de aquisi\u00e7\u00e3o unit\u00e1rio, expresso em centavos quantidadeAutorizada string Quantidade autorizada dataReceita string Data que a receita foi emitida pelo m\u00e9dico formato no formato YYYY-MM-DD (ano-m\u00eas-dia)              T: separador entre a data e a hora.                                             16:28:51: hora no formato de 24 horas (HH:MM:SS).                               Z: indica que o hor\u00e1rio est\u00e1 em UTC (Tempo Universal) crm_cro string Indica se \u00e9 um CRM ou CRO o campo \"crm\", possibilidades: 0 para CRM, 1 para CRO crm string CRM do m\u00e9dico ou CRO do odontologista que solicitou o medicamento uf_crm string Estado do CRM ou CRO"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#confirmacao-pbm","title":"Confirma\u00e7\u00e3o PBM","text":"<p>Transa\u00e7\u00e3o utilizada para realizar a confirma\u00e7\u00e3o de uma transa\u00e7\u00e3o PBM. Ap\u00f3s a execu\u00e7\u00e3o de todas as confirma\u00e7\u00f5es e desfazimentos dos pagamentos realizados em uma unica venda, \u00e9 necessario acionar o m\u00e9todo comum FinalizaTransacao</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#requisicao_4","title":"Requisi\u00e7\u00e3o","text":"Envio - Clique para mostrar o Objeto <p>Json de Exemplo <pre><code>    {\n        \"codigoTransacao\": 8014,\n        \"parametrosEntrada\": {\n            \"dataVenda\": \"2025-07-17T12:34:46Z\",\n            \"nsuVendaTEFPBM\": \"148303\",\n            \"nsuPreAutorizacaoPBM\", \"111111\"\n            \"cupons\": [\n                {\n                    \"cupom\": [\n                        {\n                            \"tipo\": \"esat\",\n                            \"codigo\": \"3234592\"\n                            \"chave\": \"key\",\n                            \"protocoloAutorizacaoDanfe\": \"autorization\"\n                        }\n                    ],\n                }\n            ]\n            \"medicamento\": [\n                {\n                    \"codigo\": \"7896004700410\"\n                }\n            ]\n        }\n    }\n</code></pre> Descritivo</p> Item Sub-item Sub-item\u00b2 Sub-item\u00b3 Tipo Obrigatorio Descri\u00e7\u00e3o codigoTransacao int int C\u00f3digo da transa\u00e7\u00e3o a ser executada no TEF, para esta opera\u00e7\u00e3o utilizar: 8014 parametrosEntrada Objeto Sim Dados a serem processados pelo TEF e quem tem como requisito as redes PBM nsuVendaTEFPBM string Sim NSU do TEF que foi gerado durante a transa\u00e7\u00e3o de VENDA nsuPreAutorizacaoPBM string Sim NSU Gerado pela rede PBM no momento da pr\u00e9-autoriza\u00e7\u00e3o dataVenda string date Sim Data e hora da efetiva\u00e7\u00e3o da venda, esse dado \u00e9 retornado na venda.            \"2025-07-17T16:28:51Z\" -&gt; data no formato YYYY-MM-DD (ano-m\u00eas-dia).            T: separador entre a data e a hora.                                            16:28:51: hora no formato de 24 horas (HH:MM:SS).                              Z: indica que o hor\u00e1rio est\u00e1 em UTC (Tempo Universal) cupons Array de obj Sim Objeto que cont\u00e9m os dados da nota fiscal cupom Array de obj Sim tipo string Sim tipo de cupom informado, possibilidades: \"esat\" ou \"ecf\" codigo string Sim N\u00famero da nota fiscal chave string N\u00e3o Se informado informado esat \u00e9 obrigatorio o numero da chave protocoloAutorizacaoDanfe string Sim N\u00famero de autoriza\u00e7\u00e3o da nota medicamento Array de obj N\u00e3o Somente para a PBM Interplayers codigo string Sim C\u00f3digo ean do produto"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#resposta_4","title":"Resposta","text":"<p>N\u00e3o h\u00e1 respostas customizadas para a automa\u00e7\u00e3o nessa opera\u00e7\u00e3o, apenas ser\u00e1 retornado se sucesso ou n\u00e3o atrav\u00e9s do atributo status.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#desfazimento-pbm","title":"Desfazimento PBM","text":"<p>Transa\u00e7\u00e3o utilizada para realizar o desfazimento de uma transa\u00e7\u00e3o PBM. Ap\u00f3s a execu\u00e7\u00e3o de todas as confirma\u00e7\u00f5es e desfazimentos dos pagamentos realizados em uma unica venda, \u00e9 necessario acionar o m\u00e9todo comum FinalizaTransacao</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#requisicao_5","title":"Requisi\u00e7\u00e3o","text":"Envio - Clique para mostrar o Objeto <p>Json de Exemplo <pre><code>    {  \n        \"codigoTransacao\": 8013,\n        \"parametrosEntrada\": {\n            \"nsuVendaTEFPBM\": \"123456\",\n            \"nsuPreAutorizacaoPBM\": \"1111111\",\n            \"dataVenda\": \"2025-07-17T12:34:46Z\",\n            \"codigoCliente\": \"60100022100000116\",\n            \"dataCriacao\": \"2025-07-04T12:07:47Z\",\n            \"medicamento\": [\n                {\n                    \"codigo\": \"7896004700410\",\n                    \"quantidadeCancelada\": \"1\"\n                },\n            ]\n        }\n    }\n</code></pre> Descritivo</p> Item Sub-item Sub-item\u00b2 Sub-item\u00b3 Tipo Obrigatorio Descri\u00e7\u00e3o codigoTransacao int int C\u00f3digo da transa\u00e7\u00e3o a ser executada no TEF, para esta opera\u00e7\u00e3o utilizar: 8013 -&gt; Desfazimento parametrosEntrada Objeto Sim Dados a serem processados pelo TEF e quem tem como requisito as redes PBM nsuVendaTEFPBM string Sim NSU do TEF que foi gerado durante a transa\u00e7\u00e3o de VENDA nsuPreAutorizacaoPBM string Sim NSU Gerado pela rede PBM no momento da pr\u00e9-autoriza\u00e7\u00e3o codigoCliente string Sim CPF ou Cart\u00e3o Convenio do cliente. Caso o dado informado seja um CPF valido, o campo ser\u00e1 tratado como CPF, se n\u00e3o como cart\u00e3o convenio dataCriacao string date Sim Data da cria\u00e7\u00e3o da pr\u00e9-autoriza\u00e7\u00e3o na PBM, esse dado \u00e9 retornado na consulta  \"2025-07-17T16:28:51Z\" -&gt; data no formato YYYY-MM-DD (ano-m\u00eas-dia).           T: separador entre a data e a hora.                                           16:28:51: hora no formato de 24 horas (HH:MM:SS).                             Z: indica que o hor\u00e1rio est\u00e1 em UTC (Tempo Universal) medicamento Array de obj N\u00e3o Obrigatorio somente para a PBM Orizon e Interplayers codigo string Sim C\u00f3digo ean do produto quantidadeCancelada string Sim Quantidade do produto que ser\u00e1 cancelada"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#resposta_5","title":"Resposta","text":"<p>N\u00e3o h\u00e1 respostas customizadas para a automa\u00e7\u00e3o nessa opera\u00e7\u00e3o, apenas ser\u00e1 retornado se sucesso ou n\u00e3o atrav\u00e9s do atributo status.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#cancelamento-pbm","title":"Cancelamento PBM","text":"<p>Transa\u00e7\u00e3o utilizada para realizar o cancelamento de uma Venda PBM, est\u00e1 transa\u00e7\u00e3o tamb\u00e9m precisa ser confirmada, caso contr\u00e1rio ficar\u00e1 pendente no servidor TEF.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#requisicao_6","title":"Requisi\u00e7\u00e3o","text":"Envio - Clique para mostrar o Objeto <p>Json de Exemplo <pre><code>    {  \n        \"codigoTransacao\": 8063,\n        \"parametrosEntrada\": {\n            \"nsuVendaTEFPBM\": \"123456\",\n            \"nsuPreAutorizacaoPBM\": \"123456\",\n            \"dataVenda\": \"2025-07-17T12:34:46Z\",\n            \"codigoCliente\": \"60100022100000116\",\n            \"dataCriacao\": \"2025-07-04T12:07:47Z\",\n            \"medicamento\": [\n                {\n                    \"codigo\": \"7896004700410\",\n                    \"quantidadeCancelada\": \"1\"\n                },\n            ]\n        }\n    }\n</code></pre> Descritivo</p> Item Sub-item Sub-item\u00b2 Sub-item\u00b3 Tipo Obrigatorio Descri\u00e7\u00e3o codigoTransacao int int C\u00f3digo da transa\u00e7\u00e3o a ser executada no TEF, para esta opera\u00e7\u00e3o utilizar: 8063 parametrosEntrada Objeto Sim Dados a serem processados pelo TEF e quem tem como requisito as redes PBM nsuVendaTEFPBM string Sim NSU do TEF que foi gerado durante a transa\u00e7\u00e3o de VENDA nsuPreAutorizacaoPBM string N\u00e3o NSU Gerado pela rede PBM no momento da pr\u00e9-autoriza\u00e7\u00e3o codigoCliente string Sim CPF ou Cart\u00e3o Convenio do cliente. Caso o dado informado seja um CPF valido, o campo ser\u00e1 tratado como CPF, se n\u00e3o como cart\u00e3o convenio dataCriacao string date Sim Data da cria\u00e7\u00e3o da pr\u00e9-autoriza\u00e7\u00e3o na PBM, esse dado \u00e9 retornado na consulta  \"2025-07-17T16:28:51Z\" -&gt; data no formato YYYY-MM-DD (ano-m\u00eas-dia).T: separador entre a data e a hora.16:28:51: hora no formato de 24 horas (HH:MM:SS).Z: indica que o hor\u00e1rio est\u00e1 em UTC (Tempo Universal) medicamento Array de obj N\u00e3o Somente para a PBM Orizon codigo string Sim C\u00f3digo ean do produto quantidadeCancelada string Sim Quantidade do produto que ser\u00e1 cancelada"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/TransacoesPBM/#resposta_6","title":"Resposta","text":"Resposta TEF <p>Json de Exemplo <pre><code>    {\n        \"parametrosRetorno\": {\n            \"status\": \"\",\n            \"mensagemStatus\": \"\",\n            \"detalheStatus\": \"\",\n            \"dataCriacao\": \"\",\n            \"comprovante\": \"\"\n        }\n    }\n</code></pre> Descritivo</p> Item Sub-item Sub-item\u00b2 Tipo Descri\u00e7\u00e3o parametrosRetorno Objeto Objeto contendo os dados de resposta do TEF status string Resultado da transa\u00e7\u00e3o. Valores poss\u00edveis. \"Sucesso\" ou \"Erro\" mensagemStatus string Mensagem retornada pelo TEF para a aplica\u00e7\u00e3o detalheStatus string Mensagem adicional retornada exatamente como recebida da rede PBM.  O campo s\u00f3 ser\u00e1 enviado se recebido na resposta da rede PBM. N\u00e3o ser\u00e1 feita nenhuma valida\u00e7\u00e3o ou padroniza\u00e7\u00e3o neste campo. comprovante string Comprovante da transa\u00e7\u00e3o. O caracter \"@\" representa o in\u00edcio de uma nova linha. dataCriacao string date Data cria\u00e7\u00e3o Formato \"2025-07-17T16:28:51Z\" Sendo data no formato YYYY-MM-DD (ano-m\u00eas-dia).  T: separador entre a data e a hora.16:28:51: hora no formato de 24 horas (HH:MM:SS).Z: indica que o hor\u00e1rio est\u00e1 em UTC (Tempo Universal)"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Voucher/","title":"Voucher","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Voucher/#voucher","title":"Voucher","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoVoucher(char *pValorTransacao, char *pNumeroCupom, \n                                             char *pNumeroControle)\n</code></pre> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. [ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Voucher/#voucher-completa","title":"Voucher Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoVoucherCompleta(char *pValorTransacao, char *pNumeroCupom, \n                                                     char *pNumeroControle, char *pReservado)\n</code></pre> <p>Quando a automa\u00e7\u00e3o comercial necessitar de detalhes mais precisos da transa\u00e7\u00e3o, de cart\u00e3o Voucher, pode ser usada a solicita\u00e7\u00e3o de transa\u00e7\u00e3o com cart\u00e3o Voucher, atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoCartaoVoucherCompleta. Os par\u00e2metros opcionais dessa fun\u00e7\u00e3o s\u00e3o os seguintes:</p> <p>Reservado (*)</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N \u2022 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) Reservado 187A Especifica\u00e7\u00e3o\u2022 1..1 S aceita pagamento parcial com saldo que resta no cart\u00e3o N n\u00e3o aceita pagamento parcial 02I [ 00 ] Transa\u00e7\u00e3oautorizada[ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>[00] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[11] indica que existiramrestri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema deautoma\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores,pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendov\u00e1lida como forma de pagamento.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Voucher/#confirmacao-voucher","title":"Confirma\u00e7\u00e3o Voucher","text":"<pre><code>int DIRETIVA_CALLBACK ConfirmaCartaoVoucher(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoConfirmacaoPreAutorizacao(char *pNumeroControle)\n</code></pre> <p>A confirma\u00e7\u00e3o de transa\u00e7\u00e3o com cart\u00e3o de voucher \u00e9 realizada atrav\u00e9s da chamada a fun\u00e7\u00e3o ConfirmaCartaoVoucher.</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 devolvido o , indicando o resultado da transa\u00e7\u00e3o.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> <p>[00] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> Campo Tamanho Descri\u00e7\u00e3o NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) 02I [ 00 ] Confirma\u00e7\u00e3o aceita[ 11 ] Confirma\u00e7\u00e3o N\u00c3O aceita <p>[11] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. Cabe ao sistema de automa\u00e7\u00e3o decidir a a\u00e7\u00e3o a ser tomada. A forma de pagamento deve ter sido aceita como v\u00e1lida, pelo sistema de automa\u00e7\u00e3o, por\u00e9m a transa\u00e7\u00e3o n\u00e3o ser\u00e1 confirmada com a institui\u00e7\u00e3o financeira.</p> <p>Fluxo de Confirmacao e Desfazimento</p>"}]}